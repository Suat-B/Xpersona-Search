# Copy to .env.local and fill values.

NEXTAUTH_SECRET=your-32-char-or-longer-secret
NEXTAUTH_URL=http://localhost:3000

GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

DATABASE_URL=postgresql://USER:PASSWORD@HOST:PORT/DBNAME

# Search crawler (optional but recsommended)
# GITHUB_TOKEN=ghp_xxx
# GitHub App auth (preferred for high-scale workers)
# GITHUB_APP_ID=123456
# GITHUB_APP_INSTALLATION_ID=12345678
# GITHUB_APP_PRIVATE_KEY="-----BEGIN RSA PRIVATE KEY-----\n...\n-----END RSA PRIVATE KEY-----"
# High-throughput GitHub settings (recommended for GitHub App auth)
# GITHUB_REQUEST_TIMEOUT_MS=30000
# GITHUB_MAX_RETRIES=4
# GITHUB_MAX_RATE_LIMIT_RETRY_AFTER_S=300
# GITHUB_MAX_BACKOFF_MS=60000
# GITHUB_MIN_SEARCH_INTERVAL_MS=2000
# GITHUB_MIN_CODE_SEARCH_INTERVAL_MS=7000
# ClawHub public API overrides (optional)
# CLAWHUB_API_BASE=https://wry-manatee-359.convex.site
# CLAWHUB_SITE_BASE=https://clawhub.ai
# CLAWHUB_PAGE_LIMIT=200
# CLAWHUB_SORT=downloads
# CLAWHUB_DIR=desc

# Dedicated crawler worker
# CRAWL_WORKER_ID=xpersona-worker-1
# CRAWL_WORKER_HOT_INTERVAL_MS=300000
# CRAWL_WORKER_HOT_MAX_RESULTS=1200
# CRAWL_WORKER_HOT_GITHUB_BUDGET=2000
# CRAWL_WORKER_HOT_TIME_BUDGET_MS=180000
# CRAWL_WORKER_HOT_SOURCES=GITHUB_OPENCLEW,GITHUB_MCP,GITHUB_REPOS,CREWAI,VERCEL_TEMPLATES
# CRAWL_WORKER_BACKFILL_SIZE=250k
# CRAWL_WORKER_BACKFILL_HOUR_UTC=6
# CRAWL_WORKER_BACKFILL_MINUTE_UTC=0
# CRAWL_WORKER_BACKFILL_GITHUB_BUDGET=30000
# CRAWL_WORKER_BACKFILL_TIME_BUDGET_MS=10800000
# CRAWL_WORKER_BACKFILL_SOURCES=
# CRAWL_WORKER_STALE_MS=1800000

# Keep GitHub sources disabled in serverless cron when worker is running
# CRAWL_GITHUB_IN_CRON=0
# CRAWL_DEEP_SAFETY_LIMIT_PER_JOB=100
# CRAWL_MIN_RECRAWL_HOURS=6

# Optional distributed rate limiting
# UPSTASH_REDIS_REST_URL=https://xxx.upstash.io
# UPSTASH_REDIS_REST_TOKEN=

# Search ranking tuning (optional)
# SEARCH_HYBRID_RANKING=1
# SEARCH_RANK_WEIGHT_LEXICAL=0.62
# SEARCH_RANK_WEIGHT_AUTHORITY=0.22
# SEARCH_RANK_WEIGHT_ENGAGEMENT=0.12
# SEARCH_RANK_WEIGHT_FRESHNESS=0.04
# SEARCH_SEMANTIC_ENABLED=1
# SEARCH_EMBEDDING_PROVIDER=openai
# SEARCH_EMBEDDING_MODEL=text-embedding-3-small
# SEARCH_SEMANTIC_CANDIDATES=80
# OPENAI_API_KEY=sk-...
# SEARCH_MEDIA_VERTICAL_ENABLED=1
# SEARCH_MEDIA_SOURCES=GITHUB_REPOS,GITHUB_MCP,GITHUB_OPENCLEW,PYPI,NPM,HUGGINGFACE,REPLICATE,MCP_REGISTRY,CLAWHUB,VERCEL_TEMPLATES,DOCKER
# SEARCH_MEDIA_MIN_QUALITY_SCORE=0
# SEARCH_MEDIA_ALLOWED_HOSTS=raw.githubusercontent.com,github.com,opengraph.githubassets.com,avatars.githubusercontent.com
# SEARCH_MEDIA_DENIED_HOSTS=
# SEARCH_MEDIA_WEB_ENABLED=0

# Admin authorization
ADMIN_EMAILS=suat.bastug@icloud.com,kiraaimoto@gmail.com

# Password reset email (optional)
# RESEND_API_KEY=re_xxx
# EMAIL_FROM="Xpersona <noreply@xpersona.co>"
# SUPPORT_EMAIL="Suat.Bastug@icloud.com"

# Economy / Stripe Connect
# STRIPE_SECRET_KEY=sk_test_xxx
# STRIPE_WEBHOOK_SECRET=whsec_xxx
# STRIPE_CONNECT_CLIENT_ID=ca_xxx
# NEXT_PUBLIC_APP_URL=http://localhost:3000

# Trust stack
TRUST_RECEIPT_KEYS="dev1:change-me"
TRUST_RECEIPT_ACTIVE_KEY_ID="dev1"
TRUST_HANDSHAKE_TTL_HOURS=168
TRUST_HANDSHAKE_TIMEOUT_MS=6000
TRUST_REPUTATION_WINDOW_DAYS=30
TRUST_INTERNAL_TOKEN=""
TRUST_RECEIPT_ON_OUTCOME=0
TRUST_HANDSHAKE_BATCH=50
TRUST_HANDSHAKE_ONLY_STALE=1
TRUST_REPUTATION_BATCH=100
TRUST_REPUTATION_ONLY_STALE=1
TRUST_REPUTATION_AGENT_IDS=

# GPG (Global Performance Graph)
GPG_SIGNING_KEYS="gpg1:change-me"
GPG_ACTIVE_SIGNING_KEY_ID="gpg1"
GPG_SIGNING_WINDOW_SEC=300
GPG_SIGNING_MAX_SKEW_SEC=300
GPG_CLUSTER_SIM_THRESHOLD=0.86
GPG_BAYES_ALPHA=3
GPG_BAYES_BETA=1
GPG_EXECUTE_BLEND_WEIGHT=0.3
