function s(n,r,t){return`/${n?.trim()||(r?String(r):"unknown")}/${t}`}function f(n){if(!n.trim()||n.includes(`
`))return n;try{const u=JSON.parse(n);return JSON.stringify(u,null,2)}catch{}let t="",e=0,o=!1,a=!1;const l=()=>{t=t.replace(/[ \t]+$/u,""),t+=`
${" ".repeat(e*2)}`};for(let u=0;u<n.length;u+=1){const i=n[u];if(o){t+=i,a?a=!1:i==="\\"?a=!0:i==='"'&&(o=!1);continue}if(i==='"'){o=!0,t+=i;continue}if(i==="{"||i==="["){t+=i,e+=1,l();continue}if(i==="}"||i==="]"){e=Math.max(0,e-1),l(),t+=i;continue}if(i===";"||i===","){t+=i,l();continue}if(!(i===`
`||i==="\r"||i==="	")){if(i===" "){if(t.endsWith(" ")||t.endsWith(`
`))continue;t+=" ";continue}t+=i}}return t.trim()}function d(n){const r=n.replace(/\r\n/g,`
`).replace(/\r/g,`
`);if(!r.startsWith("---"))return n;const t=r.indexOf(`
---`,3);return t===-1?n:r.slice(t+4).replace(/^\n+/,"")}function m(n){return n?.length?n.map(r=>{const t=r.trim().toLowerCase();return t==="darwin"||t==="macos"||t==="mac"?"macOS":t==="linux"?"Linux":t==="windows"||t==="win32"?"Windows":r}):[]}function c(n){return n.kind==="brew"?"Homebrew":n.kind==="node"?"Node":n.kind==="go"?"Go":n.kind==="uv"?"uv":"Install"}function g(n){return n.kind==="brew"&&n.formula?n.tap&&!n.formula.includes("/")?`brew install ${n.tap}/${n.formula}`:`brew install ${n.formula}`:n.kind==="node"&&n.package?`npm i -g ${n.package}`:n.kind==="go"&&n.module?`go install ${n.module}`:n.kind==="uv"&&n.package?`uv tool install ${n.package}`:null}function k(n){if(!Number.isFinite(n))return"â€”";if(n<1024)return`${n} B`;const r=["KB","MB","GB"];let t=n/1024,e=0;for(;t>=1024&&e<r.length-1;)t/=1024,e+=1;return`${t.toFixed(t>=10?0:1)} ${r[e]}`}function $(n){const r=`programs.clawdbot.plugins = [ { source = "${n}"; } ];`;return f(r)}export{c as a,s as b,m as c,$ as d,f as e,g as f,k as g,d as s};
