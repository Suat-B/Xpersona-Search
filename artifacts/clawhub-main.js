const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-pc0Ktsqq.js","assets/SoulCard-DLzFqxtK.js","assets/SoulStats-DOGtLLsF.js","assets/index-kh1kbLdX.js","assets/_slug-Dd-fYBPb.js","assets/skillDetailUtils-OCVV1cKa.js","assets/index-CEpfy9K4.js","assets/_slug-9Wc7P_7z.js"])))=>i.map(i=>d[i]);
function zk(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function Iy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Yp={exports:{}},wl={};var VS;function Uk(){if(VS)return wl;VS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,o,l){var u=null;if(l!==void 0&&(u=""+l),o.key!==void 0&&(u=""+o.key),"key"in o){l={};for(var f in o)f!=="key"&&(l[f]=o[f])}else l=o;return o=l.ref,{$$typeof:e,type:i,key:u,ref:o!==void 0?o:null,props:l}}return wl.Fragment=t,wl.jsx=n,wl.jsxs=n,wl}var KS;function Bk(){return KS||(KS=1,Yp.exports=Uk()),Yp.exports}var x=Bk(),Xp={exports:{}},_e={};var HS;function Fk(){if(HS)return _e;HS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),v=Symbol.iterator;function S($){return $===null||typeof $!="object"?null:($=v&&$[v]||$["@@iterator"],typeof $=="function"?$:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,A={};function _($,B,Z){this.props=$,this.context=B,this.refs=A,this.updater=Z||E}_.prototype.isReactComponent={},_.prototype.setState=function($,B){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,B,"setState")},_.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function I(){}I.prototype=_.prototype;function M($,B,Z){this.props=$,this.context=B,this.refs=A,this.updater=Z||E}var k=M.prototype=new I;k.constructor=M,w(k,_.prototype),k.isPureReactComponent=!0;var U=Array.isArray;function K(){}var q={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function W($,B,Z){var ne=Z.ref;return{$$typeof:e,type:$,key:B,ref:ne!==void 0?ne:null,props:Z}}function oe($,B){return W($.type,B,$.props)}function se($){return typeof $=="object"&&$!==null&&$.$$typeof===e}function ue($){var B={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(Z){return B[Z]})}var ce=/\/+/g;function X($,B){return typeof $=="object"&&$!==null&&$.key!=null?ue(""+$.key):B.toString(36)}function H($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(K,K):($.status="pending",$.then(function(B){$.status==="pending"&&($.status="fulfilled",$.value=B)},function(B){$.status==="pending"&&($.status="rejected",$.reason=B)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function N($,B,Z,ne,le){var pe=typeof $;(pe==="undefined"||pe==="boolean")&&($=null);var fe=!1;if($===null)fe=!0;else switch(pe){case"bigint":case"string":case"number":fe=!0;break;case"object":switch($.$$typeof){case e:case t:fe=!0;break;case g:return fe=$._init,N(fe($._payload),B,Z,ne,le)}}if(fe)return le=le($),fe=ne===""?"."+X($,0):ne,U(le)?(Z="",fe!=null&&(Z=fe.replace(ce,"$&/")+"/"),N(le,B,Z,"",function(Ce){return Ce})):le!=null&&(se(le)&&(le=oe(le,Z+(le.key==null||$&&$.key===le.key?"":(""+le.key).replace(ce,"$&/")+"/")+fe)),B.push(le)),1;fe=0;var de=ne===""?".":ne+":";if(U($))for(var Se=0;Se<$.length;Se++)ne=$[Se],pe=de+X(ne,Se),fe+=N(ne,B,Z,pe,le);else if(Se=S($),typeof Se=="function")for($=Se.call($),Se=0;!(ne=$.next()).done;)ne=ne.value,pe=de+X(ne,Se++),fe+=N(ne,B,Z,pe,le);else if(pe==="object"){if(typeof $.then=="function")return N(H($),B,Z,ne,le);throw B=String($),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return fe}function P($,B,Z){if($==null)return $;var ne=[],le=0;return N($,ne,"","",function(pe){return B.call(Z,pe,le++)}),ne}function j($){if($._status===-1){var B=$._result;B=B(),B.then(function(Z){($._status===0||$._status===-1)&&($._status=1,$._result=Z)},function(Z){($._status===0||$._status===-1)&&($._status=2,$._result=Z)}),$._status===-1&&($._status=0,$._result=B)}if($._status===1)return $._result.default;throw $._result}var F=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},re={map:P,forEach:function($,B,Z){P($,function(){B.apply(this,arguments)},Z)},count:function($){var B=0;return P($,function(){B++}),B},toArray:function($){return P($,function(B){return B})||[]},only:function($){if(!se($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return _e.Activity=y,_e.Children=re,_e.Component=_,_e.Fragment=n,_e.Profiler=o,_e.PureComponent=M,_e.StrictMode=i,_e.Suspense=d,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,_e.__COMPILER_RUNTIME={__proto__:null,c:function($){return q.H.useMemoCache($)}},_e.cache=function($){return function(){return $.apply(null,arguments)}},_e.cacheSignal=function(){return null},_e.cloneElement=function($,B,Z){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var ne=w({},$.props),le=$.key;if(B!=null)for(pe in B.key!==void 0&&(le=""+B.key),B)!L.call(B,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&B.ref===void 0||(ne[pe]=B[pe]);var pe=arguments.length-2;if(pe===1)ne.children=Z;else if(1<pe){for(var fe=Array(pe),de=0;de<pe;de++)fe[de]=arguments[de+2];ne.children=fe}return W($.type,le,ne)},_e.createContext=function($){return $={$$typeof:u,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:l,_context:$},$},_e.createElement=function($,B,Z){var ne,le={},pe=null;if(B!=null)for(ne in B.key!==void 0&&(pe=""+B.key),B)L.call(B,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(le[ne]=B[ne]);var fe=arguments.length-2;if(fe===1)le.children=Z;else if(1<fe){for(var de=Array(fe),Se=0;Se<fe;Se++)de[Se]=arguments[Se+2];le.children=de}if($&&$.defaultProps)for(ne in fe=$.defaultProps,fe)le[ne]===void 0&&(le[ne]=fe[ne]);return W($,pe,le)},_e.createRef=function(){return{current:null}},_e.forwardRef=function($){return{$$typeof:f,render:$}},_e.isValidElement=se,_e.lazy=function($){return{$$typeof:g,_payload:{_status:-1,_result:$},_init:j}},_e.memo=function($,B){return{$$typeof:p,type:$,compare:B===void 0?null:B}},_e.startTransition=function($){var B=q.T,Z={};q.T=Z;try{var ne=$(),le=q.S;le!==null&&le(Z,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(K,F)}catch(pe){F(pe)}finally{B!==null&&Z.types!==null&&(B.types=Z.types),q.T=B}},_e.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},_e.use=function($){return q.H.use($)},_e.useActionState=function($,B,Z){return q.H.useActionState($,B,Z)},_e.useCallback=function($,B){return q.H.useCallback($,B)},_e.useContext=function($){return q.H.useContext($)},_e.useDebugValue=function(){},_e.useDeferredValue=function($,B){return q.H.useDeferredValue($,B)},_e.useEffect=function($,B){return q.H.useEffect($,B)},_e.useEffectEvent=function($){return q.H.useEffectEvent($)},_e.useId=function(){return q.H.useId()},_e.useImperativeHandle=function($,B,Z){return q.H.useImperativeHandle($,B,Z)},_e.useInsertionEffect=function($,B){return q.H.useInsertionEffect($,B)},_e.useLayoutEffect=function($,B){return q.H.useLayoutEffect($,B)},_e.useMemo=function($,B){return q.H.useMemo($,B)},_e.useOptimistic=function($,B){return q.H.useOptimistic($,B)},_e.useReducer=function($,B,Z){return q.H.useReducer($,B,Z)},_e.useRef=function($){return q.H.useRef($)},_e.useState=function($){return q.H.useState($)},_e.useSyncExternalStore=function($,B,Z){return q.H.useSyncExternalStore($,B,Z)},_e.useTransition=function(){return q.H.useTransition()},_e.version="19.2.4",_e}var GS;function tc(){return GS||(GS=1,Xp.exports=Fk()),Xp.exports}var R=tc();const Ke=Iy(R),jy=zk({__proto__:null,default:Ke},[R]);var Jp={exports:{}},Sl={},Zp={exports:{}},Wp={};var QS;function Vk(){return QS||(QS=1,(function(e){function t(N,P){var j=N.length;N.push(P);e:for(;0<j;){var F=j-1>>>1,re=N[F];if(0<o(re,P))N[F]=P,N[j]=re,j=F;else break e}}function n(N){return N.length===0?null:N[0]}function i(N){if(N.length===0)return null;var P=N[0],j=N.pop();if(j!==P){N[0]=j;e:for(var F=0,re=N.length,$=re>>>1;F<$;){var B=2*(F+1)-1,Z=N[B],ne=B+1,le=N[ne];if(0>o(Z,j))ne<re&&0>o(le,Z)?(N[F]=le,N[ne]=j,F=ne):(N[F]=Z,N[B]=j,F=B);else if(ne<re&&0>o(le,j))N[F]=le,N[ne]=j,F=ne;else break e}}return P}function o(N,P){var j=N.sortIndex-P.sortIndex;return j!==0?j:N.id-P.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var d=[],p=[],g=1,y=null,v=3,S=!1,E=!1,w=!1,A=!1,_=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function k(N){for(var P=n(p);P!==null;){if(P.callback===null)i(p);else if(P.startTime<=N)i(p),P.sortIndex=P.expirationTime,t(d,P);else break;P=n(p)}}function U(N){if(w=!1,k(N),!E)if(n(d)!==null)E=!0,K||(K=!0,ue());else{var P=n(p);P!==null&&H(U,P.startTime-N)}}var K=!1,q=-1,L=5,W=-1;function oe(){return A?!0:!(e.unstable_now()-W<L)}function se(){if(A=!1,K){var N=e.unstable_now();W=N;var P=!0;try{e:{E=!1,w&&(w=!1,I(q),q=-1),S=!0;var j=v;try{t:{for(k(N),y=n(d);y!==null&&!(y.expirationTime>N&&oe());){var F=y.callback;if(typeof F=="function"){y.callback=null,v=y.priorityLevel;var re=F(y.expirationTime<=N);if(N=e.unstable_now(),typeof re=="function"){y.callback=re,k(N),P=!0;break t}y===n(d)&&i(d),k(N)}else i(d);y=n(d)}if(y!==null)P=!0;else{var $=n(p);$!==null&&H(U,$.startTime-N),P=!1}}break e}finally{y=null,v=j,S=!1}P=void 0}}finally{P?ue():K=!1}}}var ue;if(typeof M=="function")ue=function(){M(se)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,X=ce.port2;ce.port1.onmessage=se,ue=function(){X.postMessage(null)}}else ue=function(){_(se,0)};function H(N,P){q=_(function(){N(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(N){switch(v){case 1:case 2:case 3:var P=3;break;default:P=v}var j=v;v=P;try{return N()}finally{v=j}},e.unstable_requestPaint=function(){A=!0},e.unstable_runWithPriority=function(N,P){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var j=v;v=N;try{return P()}finally{v=j}},e.unstable_scheduleCallback=function(N,P,j){var F=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?F+j:F):j=F,N){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=j+re,N={id:g++,callback:P,priorityLevel:N,startTime:j,expirationTime:re,sortIndex:-1},j>F?(N.sortIndex=j,t(p,N),n(d)===null&&N===n(p)&&(w?(I(q),q=-1):w=!0,H(U,j-F))):(N.sortIndex=re,t(d,N),E||S||(E=!0,K||(K=!0,ue()))),N},e.unstable_shouldYield=oe,e.unstable_wrapCallback=function(N){var P=v;return function(){var j=v;v=P;try{return N.apply(this,arguments)}finally{v=j}}}})(Wp)),Wp}var YS;function Kk(){return YS||(YS=1,Zp.exports=Vk()),Zp.exports}var em={exports:{}},Yt={};var XS;function Hk(){if(XS)return Yt;XS=1;var e=tc();function t(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(d,p,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:d,containerInfo:p,implementation:g}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Yt.createPortal=function(d,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(d,p,null,g)},Yt.flushSync=function(d){var p=u.T,g=i.p;try{if(u.T=null,i.p=2,d)return d()}finally{u.T=p,i.p=g,i.d.f()}},Yt.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(d,p))},Yt.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Yt.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var g=p.as,y=f(g,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?i.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:S}):g==="script"&&i.d.X(d,{crossOrigin:y,integrity:v,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Yt.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=f(p.as,p.crossOrigin);i.d.M(d,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(d)},Yt.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,y=f(g,p.crossOrigin);i.d.L(d,g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Yt.preloadModule=function(d,p){if(typeof d=="string")if(p){var g=f(p.as,p.crossOrigin);i.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(d)},Yt.requestFormReset=function(d){i.d.r(d)},Yt.unstable_batchedUpdates=function(d,p){return d(p)},Yt.useFormState=function(d,p,g){return u.H.useFormState(d,p,g)},Yt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Yt.version="19.2.4",Yt}var JS;function NR(){if(JS)return em.exports;JS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),em.exports=Hk(),em.exports}var ZS;function Gk(){if(ZS)return Sl;ZS=1;var e=Kk(),t=tc(),n=NR();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(r.tag===31){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(i(188))}function p(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var a=r,c=s;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(c=h.return,c!==null){a=c;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return d(h),r;if(m===c)return d(h),s;m=m.sibling}throw Error(i(188))}if(a.return!==c.return)a=h,c=m;else{for(var b=!1,C=h.child;C;){if(C===a){b=!0,a=h,c=m;break}if(C===c){b=!0,c=h,a=m;break}C=C.sibling}if(!b){for(C=m.child;C;){if(C===a){b=!0,a=m,c=h;break}if(C===c){b=!0,c=m,a=h;break}C=C.sibling}if(!b)throw Error(i(189))}}if(a.alternate!==c)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?r:s}function g(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=g(r),s!==null)return s;r=r.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),M=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),oe=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function ue(r){return r===null||typeof r!="object"?null:(r=se&&r[se]||r["@@iterator"],typeof r=="function"?r:null)}var ce=Symbol.for("react.client.reference");function X(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===ce?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case w:return"Fragment";case _:return"Profiler";case A:return"StrictMode";case U:return"Suspense";case K:return"SuspenseList";case W:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case E:return"Portal";case M:return r.displayName||"Context";case I:return(r._context.displayName||"Context")+".Consumer";case k:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case q:return s=r.displayName||null,s!==null?s:X(r.type)||"Memo";case L:s=r._payload,r=r._init;try{return X(r(s))}catch{}}return null}var H=Array.isArray,N=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j={pending:!1,data:null,method:null,action:null},F=[],re=-1;function $(r){return{current:r}}function B(r){0>re||(r.current=F[re],F[re]=null,re--)}function Z(r,s){re++,F[re]=r.current,r.current=s}var ne=$(null),le=$(null),pe=$(null),fe=$(null);function de(r,s){switch(Z(pe,s),Z(le,r),Z(ne,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?hS(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=hS(s),r=pS(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}B(ne),Z(ne,r)}function Se(){B(ne),B(le),B(pe)}function Ce(r){r.memoizedState!==null&&Z(fe,r);var s=ne.current,a=pS(s,r.type);s!==a&&(Z(le,r),Z(ne,a))}function Me(r){le.current===r&&(B(ne),B(le)),fe.current===r&&(B(fe),gl._currentValue=j)}var st,Dt;function gt(r){if(st===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);st=s&&s[1]||"",Dt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+st+r+Dt}var vr=!1;function br(r,s){if(!r||vr)return"";vr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(J){var Y=J}Reflect.construct(r,[],ie)}else{try{ie.call()}catch(J){Y=J}r.call(ie.prototype)}}else{try{throw Error()}catch(J){Y=J}(ie=r())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(J){if(J&&Y&&typeof J.stack=="string")return[J.stack,Y.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),b=m[0],C=m[1];if(b&&C){var D=b.split(`
`),Q=C.split(`
`);for(h=c=0;c<D.length&&!D[c].includes("DetermineComponentFrameRoot");)c++;for(;h<Q.length&&!Q[h].includes("DetermineComponentFrameRoot");)h++;if(c===D.length||h===Q.length)for(c=D.length-1,h=Q.length-1;1<=c&&0<=h&&D[c]!==Q[h];)h--;for(;1<=c&&0<=h;c--,h--)if(D[c]!==Q[h]){if(c!==1||h!==1)do if(c--,h--,0>h||D[c]!==Q[h]){var ee=`
`+D[c].replace(" at new "," at ");return r.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",r.displayName)),ee}while(1<=c&&0<=h);break}}}finally{vr=!1,Error.prepareStackTrace=a}return(a=r?r.displayName||r.name:"")?gt(a):""}function qn(r,s){switch(r.tag){case 26:case 27:case 5:return gt(r.type);case 16:return gt("Lazy");case 13:return r.child!==s&&s!==null?gt("Suspense Fallback"):gt("Suspense");case 19:return gt("SuspenseList");case 0:case 15:return br(r.type,!1);case 11:return br(r.type.render,!1);case 1:return br(r.type,!0);case 31:return gt("Activity");default:return""}}function zn(r){try{var s="",a=null;do s+=qn(r,a),a=r,r=r.return;while(r);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Cn=Object.prototype.hasOwnProperty,ve=e.unstable_scheduleCallback,$e=e.unstable_cancelCallback,Ie=e.unstable_shouldYield,Tn=e.unstable_requestPaint,ot=e.unstable_now,Pr=e.unstable_getCurrentPriorityLevel,We=e.unstable_ImmediatePriority,_t=e.unstable_UserBlockingPriority,Qt=e.unstable_NormalPriority,Ec=e.unstable_LowPriority,Gv=e.unstable_IdlePriority,xM=e.log,EM=e.unstable_setDisableYieldValue,_a=null,_n=null;function bi(r){if(typeof xM=="function"&&EM(r),_n&&typeof _n.setStrictMode=="function")try{_n.setStrictMode(_a,r)}catch{}}var On=Math.clz32?Math.clz32:CM,RM=Math.log,AM=Math.LN2;function CM(r){return r>>>=0,r===0?32:31-(RM(r)/AM|0)|0}var Rc=256,Ac=262144,Cc=4194304;function ps(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Tc(r,s,a){var c=r.pendingLanes;if(c===0)return 0;var h=0,m=r.suspendedLanes,b=r.pingedLanes;r=r.warmLanes;var C=c&134217727;return C!==0?(c=C&~m,c!==0?h=ps(c):(b&=C,b!==0?h=ps(b):a||(a=C&~r,a!==0&&(h=ps(a))))):(C=c&~m,C!==0?h=ps(C):b!==0?h=ps(b):a||(a=c&~r,a!==0&&(h=ps(a)))),h===0?0:s!==0&&s!==h&&(s&m)===0&&(m=h&-h,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:h}function Oa(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function TM(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qv(){var r=Cc;return Cc<<=1,(Cc&62914560)===0&&(Cc=4194304),r}function jd(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Ma(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function _M(r,s,a,c,h,m){var b=r.pendingLanes;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=a,r.entangledLanes&=a,r.errorRecoveryDisabledLanes&=a,r.shellSuspendCounter=0;var C=r.entanglements,D=r.expirationTimes,Q=r.hiddenUpdates;for(a=b&~a;0<a;){var ee=31-On(a),ie=1<<ee;C[ee]=0,D[ee]=-1;var Y=Q[ee];if(Y!==null)for(Q[ee]=null,ee=0;ee<Y.length;ee++){var J=Y[ee];J!==null&&(J.lane&=-536870913)}a&=~ie}c!==0&&Yv(r,c,0),m!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=m&~(b&~s))}function Yv(r,s,a){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-On(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|a&261930}function Xv(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var c=31-On(a),h=1<<c;h&s|r[c]&s&&(r[c]|=s),a&=~h}}function Jv(r,s){var a=s&-s;return a=(a&42)!==0?1:Pd(a),(a&(r.suspendedLanes|s))!==0?0:a}function Pd(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function qd(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Zv(){var r=P.p;return r!==0?r:(r=window.event,r===void 0?32:jS(r.type))}function Wv(r,s){var a=P.p;try{return P.p=r,s()}finally{P.p=a}}var wi=Math.random().toString(36).slice(2),Ut="__reactFiber$"+wi,un="__reactProps$"+wi,Ws="__reactContainer$"+wi,zd="__reactEvents$"+wi,OM="__reactListeners$"+wi,MM="__reactHandles$"+wi,eb="__reactResources$"+wi,Na="__reactMarker$"+wi;function Ud(r){delete r[Ut],delete r[un],delete r[zd],delete r[OM],delete r[MM]}function eo(r){var s=r[Ut];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Ws]||a[Ut]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=SS(r);r!==null;){if(a=r[Ut])return a;r=SS(r)}return s}r=a,a=r.parentNode}return null}function to(r){if(r=r[Ut]||r[Ws]){var s=r.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return r}return null}function ka(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function no(r){var s=r[eb];return s||(s=r[eb]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function It(r){r[Na]=!0}var tb=new Set,nb={};function ms(r,s){ro(r,s),ro(r+"Capture",s)}function ro(r,s){for(nb[r]=s,r=0;r<s.length;r++)tb.add(s[r])}var NM=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rb={},ib={};function kM(r){return Cn.call(ib,r)?!0:Cn.call(rb,r)?!1:NM.test(r)?ib[r]=!0:(rb[r]=!0,!1)}function _c(r,s,a){if(kM(s))if(a===null)r.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+a)}}function Oc(r,s,a){if(a===null)r.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+a)}}function qr(r,s,a,c){if(c===null)r.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttributeNS(s,a,""+c)}}function Un(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function sb(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function $M(r,s,a){var c=Object.getOwnPropertyDescriptor(r.constructor.prototype,s);if(!r.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var h=c.get,m=c.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(b){a=""+b,m.call(this,b)}}),Object.defineProperty(r,s,{enumerable:c.enumerable}),{getValue:function(){return a},setValue:function(b){a=""+b},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Bd(r){if(!r._valueTracker){var s=sb(r)?"checked":"value";r._valueTracker=$M(r,s,""+r[s])}}function ob(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return r&&(c=sb(r)?r.checked?"true":"false":r.value),r=c,r!==a?(s.setValue(r),!0):!1}function Mc(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var LM=/[\n"\\]/g;function Bn(r){return r.replace(LM,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Fd(r,s,a,c,h,m,b,C){r.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.type=b:r.removeAttribute("type"),s!=null?b==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Un(s)):r.value!==""+Un(s)&&(r.value=""+Un(s)):b!=="submit"&&b!=="reset"||r.removeAttribute("value"),s!=null?Vd(r,b,Un(s)):a!=null?Vd(r,b,Un(a)):c!=null&&r.removeAttribute("value"),h==null&&m!=null&&(r.defaultChecked=!!m),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?r.name=""+Un(C):r.removeAttribute("name")}function ab(r,s,a,c,h,m,b,C){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(r.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){Bd(r);return}a=a!=null?""+Un(a):"",s=s!=null?""+Un(s):a,C||s===r.value||(r.value=s),r.defaultValue=s}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=C?r.checked:!!c,r.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.name=b),Bd(r)}function Vd(r,s,a){s==="number"&&Mc(r.ownerDocument)===r||r.defaultValue===""+a||(r.defaultValue=""+a)}function io(r,s,a,c){if(r=r.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<r.length;a++)h=s.hasOwnProperty("$"+r[a].value),r[a].selected!==h&&(r[a].selected=h),h&&c&&(r[a].defaultSelected=!0)}else{for(a=""+Un(a),s=null,h=0;h<r.length;h++){if(r[h].value===a){r[h].selected=!0,c&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function lb(r,s,a){if(s!=null&&(s=""+Un(s),s!==r.value&&(r.value=s),a==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=a!=null?""+Un(a):""}function cb(r,s,a,c){if(s==null){if(c!=null){if(a!=null)throw Error(i(92));if(H(c)){if(1<c.length)throw Error(i(93));c=c[0]}a=c}a==null&&(a=""),s=a}a=Un(s),r.defaultValue=a,c=r.textContent,c===a&&c!==""&&c!==null&&(r.value=c),Bd(r)}function so(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var DM=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ub(r,s,a){var c=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,a):typeof a!="number"||a===0||DM.has(s)?s==="float"?r.cssFloat=a:r[s]=(""+a).trim():r[s]=a+"px"}function fb(r,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var h in s)c=s[h],s.hasOwnProperty(h)&&a[h]!==c&&ub(r,h,c)}else for(var m in s)s.hasOwnProperty(m)&&ub(r,m,s[m])}function Kd(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var IM=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nc(r){return jM.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function zr(){}var Hd=null;function Gd(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var oo=null,ao=null;function db(r){var s=to(r);if(s&&(r=s.stateNode)){var a=r[un]||null;e:switch(r=s.stateNode,s.type){case"input":if(Fd(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Bn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==r&&c.form===r.form){var h=c[un]||null;if(!h)throw Error(i(90));Fd(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<a.length;s++)c=a[s],c.form===r.form&&ob(c)}break e;case"textarea":lb(r,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&io(r,!!a.multiple,s,!1)}}}var Qd=!1;function hb(r,s,a){if(Qd)return r(s,a);Qd=!0;try{var c=r(s);return c}finally{if(Qd=!1,(oo!==null||ao!==null)&&(vu(),oo&&(s=oo,r=ao,ao=oo=null,db(s),r)))for(s=0;s<r.length;s++)db(r[s])}}function $a(r,s){var a=r.stateNode;if(a===null)return null;var c=a[un]||null;if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var Ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yd=!1;if(Ur)try{var La={};Object.defineProperty(La,"passive",{get:function(){Yd=!0}}),window.addEventListener("test",La,La),window.removeEventListener("test",La,La)}catch{Yd=!1}var Si=null,Xd=null,kc=null;function pb(){if(kc)return kc;var r,s=Xd,a=s.length,c,h="value"in Si?Si.value:Si.textContent,m=h.length;for(r=0;r<a&&s[r]===h[r];r++);var b=a-r;for(c=1;c<=b&&s[a-c]===h[m-c];c++);return kc=h.slice(r,1<c?1-c:void 0)}function $c(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Lc(){return!0}function mb(){return!1}function fn(r){function s(a,c,h,m,b){this._reactName=a,this._targetInst=h,this.type=c,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(a=r[C],this[C]=a?a(m):m[C]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Lc:mb,this.isPropagationStopped=mb,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Lc)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Lc)},persist:function(){},isPersistent:Lc}),s}var gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dc=fn(gs),Da=y({},gs,{view:0,detail:0}),PM=fn(Da),Jd,Zd,Ia,Ic=y({},Da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eh,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ia&&(Ia&&r.type==="mousemove"?(Jd=r.screenX-Ia.screenX,Zd=r.screenY-Ia.screenY):Zd=Jd=0,Ia=r),Jd)},movementY:function(r){return"movementY"in r?r.movementY:Zd}}),gb=fn(Ic),qM=y({},Ic,{dataTransfer:0}),zM=fn(qM),UM=y({},Da,{relatedTarget:0}),Wd=fn(UM),BM=y({},gs,{animationName:0,elapsedTime:0,pseudoElement:0}),FM=fn(BM),VM=y({},gs,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),KM=fn(VM),HM=y({},gs,{data:0}),yb=fn(HM),GM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XM(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=YM[r])?!!s[r]:!1}function eh(){return XM}var JM=y({},Da,{key:function(r){if(r.key){var s=GM[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=$c(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?QM[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eh,charCode:function(r){return r.type==="keypress"?$c(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?$c(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),ZM=fn(JM),WM=y({},Ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vb=fn(WM),eN=y({},Da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eh}),tN=fn(eN),nN=y({},gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),rN=fn(nN),iN=y({},Ic,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),sN=fn(iN),oN=y({},gs,{newState:0,oldState:0}),aN=fn(oN),lN=[9,13,27,32],th=Ur&&"CompositionEvent"in window,ja=null;Ur&&"documentMode"in document&&(ja=document.documentMode);var cN=Ur&&"TextEvent"in window&&!ja,bb=Ur&&(!th||ja&&8<ja&&11>=ja),wb=" ",Sb=!1;function xb(r,s){switch(r){case"keyup":return lN.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eb(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var lo=!1;function uN(r,s){switch(r){case"compositionend":return Eb(s);case"keypress":return s.which!==32?null:(Sb=!0,wb);case"textInput":return r=s.data,r===wb&&Sb?null:r;default:return null}}function fN(r,s){if(lo)return r==="compositionend"||!th&&xb(r,s)?(r=pb(),kc=Xd=Si=null,lo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return bb&&s.locale!=="ko"?null:s.data;default:return null}}var dN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rb(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!dN[r.type]:s==="textarea"}function Ab(r,s,a,c){oo?ao?ao.push(c):ao=[c]:oo=c,s=Au(s,"onChange"),0<s.length&&(a=new Dc("onChange","change",null,a,c),r.push({event:a,listeners:s}))}var Pa=null,qa=null;function hN(r){aS(r,0)}function jc(r){var s=ka(r);if(ob(s))return r}function Cb(r,s){if(r==="change")return s}var Tb=!1;if(Ur){var nh;if(Ur){var rh="oninput"in document;if(!rh){var _b=document.createElement("div");_b.setAttribute("oninput","return;"),rh=typeof _b.oninput=="function"}nh=rh}else nh=!1;Tb=nh&&(!document.documentMode||9<document.documentMode)}function Ob(){Pa&&(Pa.detachEvent("onpropertychange",Mb),qa=Pa=null)}function Mb(r){if(r.propertyName==="value"&&jc(qa)){var s=[];Ab(s,qa,r,Gd(r)),hb(hN,s)}}function pN(r,s,a){r==="focusin"?(Ob(),Pa=s,qa=a,Pa.attachEvent("onpropertychange",Mb)):r==="focusout"&&Ob()}function mN(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return jc(qa)}function gN(r,s){if(r==="click")return jc(s)}function yN(r,s){if(r==="input"||r==="change")return jc(s)}function vN(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Mn=typeof Object.is=="function"?Object.is:vN;function za(r,s){if(Mn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var h=a[c];if(!Cn.call(s,h)||!Mn(r[h],s[h]))return!1}return!0}function Nb(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function kb(r,s){var a=Nb(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=s&&c>=s)return{node:a,offset:s-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Nb(a)}}function $b(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?$b(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Lb(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Mc(r.document);s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=Mc(r.document)}return s}function ih(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var bN=Ur&&"documentMode"in document&&11>=document.documentMode,co=null,sh=null,Ua=null,oh=!1;function Db(r,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;oh||co==null||co!==Mc(c)||(c=co,"selectionStart"in c&&ih(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ua&&za(Ua,c)||(Ua=c,c=Au(sh,"onSelect"),0<c.length&&(s=new Dc("onSelect","select",null,s,a),r.push({event:s,listeners:c}),s.target=co)))}function ys(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var uo={animationend:ys("Animation","AnimationEnd"),animationiteration:ys("Animation","AnimationIteration"),animationstart:ys("Animation","AnimationStart"),transitionrun:ys("Transition","TransitionRun"),transitionstart:ys("Transition","TransitionStart"),transitioncancel:ys("Transition","TransitionCancel"),transitionend:ys("Transition","TransitionEnd")},ah={},Ib={};Ur&&(Ib=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);function vs(r){if(ah[r])return ah[r];if(!uo[r])return r;var s=uo[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in Ib)return ah[r]=s[a];return r}var jb=vs("animationend"),Pb=vs("animationiteration"),qb=vs("animationstart"),wN=vs("transitionrun"),SN=vs("transitionstart"),xN=vs("transitioncancel"),zb=vs("transitionend"),Ub=new Map,lh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lh.push("scrollEnd");function ir(r,s){Ub.set(r,s),ms(s,[r])}var Pc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Fn=[],fo=0,ch=0;function qc(){for(var r=fo,s=ch=fo=0;s<r;){var a=Fn[s];Fn[s++]=null;var c=Fn[s];Fn[s++]=null;var h=Fn[s];Fn[s++]=null;var m=Fn[s];if(Fn[s++]=null,c!==null&&h!==null){var b=c.pending;b===null?h.next=h:(h.next=b.next,b.next=h),c.pending=h}m!==0&&Bb(a,h,m)}}function zc(r,s,a,c){Fn[fo++]=r,Fn[fo++]=s,Fn[fo++]=a,Fn[fo++]=c,ch|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function uh(r,s,a,c){return zc(r,s,a,c),Uc(r)}function bs(r,s){return zc(r,null,null,s),Uc(r)}function Bb(r,s,a){r.lanes|=a;var c=r.alternate;c!==null&&(c.lanes|=a);for(var h=!1,m=r.return;m!==null;)m.childLanes|=a,c=m.alternate,c!==null&&(c.childLanes|=a),m.tag===22&&(r=m.stateNode,r===null||r._visibility&1||(h=!0)),r=m,m=m.return;return r.tag===3?(m=r.stateNode,h&&s!==null&&(h=31-On(a),r=m.hiddenUpdates,c=r[h],c===null?r[h]=[s]:c.push(s),s.lane=a|536870912),m):null}function Uc(r){if(50<cl)throw cl=0,bp=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var ho={};function EN(r,s,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(r,s,a,c){return new EN(r,s,a,c)}function fh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Br(r,s){var a=r.alternate;return a===null?(a=Nn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&65011712,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a.refCleanup=r.refCleanup,a}function Fb(r,s){r.flags&=65011714;var a=r.alternate;return a===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,s=a.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Bc(r,s,a,c,h,m){var b=0;if(c=r,typeof r=="function")fh(r)&&(b=1);else if(typeof r=="string")b=_k(r,a,ne.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case W:return r=Nn(31,a,s,h),r.elementType=W,r.lanes=m,r;case w:return ws(a.children,h,m,s);case A:b=8,h|=24;break;case _:return r=Nn(12,a,s,h|2),r.elementType=_,r.lanes=m,r;case U:return r=Nn(13,a,s,h),r.elementType=U,r.lanes=m,r;case K:return r=Nn(19,a,s,h),r.elementType=K,r.lanes=m,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case M:b=10;break e;case I:b=9;break e;case k:b=11;break e;case q:b=14;break e;case L:b=16,c=null;break e}b=29,a=Error(i(130,r===null?"null":typeof r,"")),c=null}return s=Nn(b,a,s,h),s.elementType=r,s.type=c,s.lanes=m,s}function ws(r,s,a,c){return r=Nn(7,r,c,s),r.lanes=a,r}function dh(r,s,a){return r=Nn(6,r,null,s),r.lanes=a,r}function Vb(r){var s=Nn(18,null,null,0);return s.stateNode=r,s}function hh(r,s,a){return s=Nn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Kb=new WeakMap;function Vn(r,s){if(typeof r=="object"&&r!==null){var a=Kb.get(r);return a!==void 0?a:(s={value:r,source:s,stack:zn(s)},Kb.set(r,s),s)}return{value:r,source:s,stack:zn(s)}}var po=[],mo=0,Fc=null,Ba=0,Kn=[],Hn=0,xi=null,wr=1,Sr="";function Fr(r,s){po[mo++]=Ba,po[mo++]=Fc,Fc=r,Ba=s}function Hb(r,s,a){Kn[Hn++]=wr,Kn[Hn++]=Sr,Kn[Hn++]=xi,xi=r;var c=wr;r=Sr;var h=32-On(c)-1;c&=~(1<<h),a+=1;var m=32-On(s)+h;if(30<m){var b=h-h%5;m=(c&(1<<b)-1).toString(32),c>>=b,h-=b,wr=1<<32-On(s)+h|a<<h|c,Sr=m+r}else wr=1<<m|a<<h|c,Sr=r}function ph(r){r.return!==null&&(Fr(r,1),Hb(r,1,0))}function mh(r){for(;r===Fc;)Fc=po[--mo],po[mo]=null,Ba=po[--mo],po[mo]=null;for(;r===xi;)xi=Kn[--Hn],Kn[Hn]=null,Sr=Kn[--Hn],Kn[Hn]=null,wr=Kn[--Hn],Kn[Hn]=null}function Gb(r,s){Kn[Hn++]=wr,Kn[Hn++]=Sr,Kn[Hn++]=xi,wr=s.id,Sr=s.overflow,xi=r}var Bt=null,at=null,qe=!1,Ei=null,Gn=!1,gh=Error(i(519));function Ri(r){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fa(Vn(s,r)),gh}function Qb(r){var s=r.stateNode,a=r.type,c=r.memoizedProps;switch(s[Ut]=r,s[un]=c,a){case"dialog":De("cancel",s),De("close",s);break;case"iframe":case"object":case"embed":De("load",s);break;case"video":case"audio":for(a=0;a<fl.length;a++)De(fl[a],s);break;case"source":De("error",s);break;case"img":case"image":case"link":De("error",s),De("load",s);break;case"details":De("toggle",s);break;case"input":De("invalid",s),ab(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":De("invalid",s);break;case"textarea":De("invalid",s),cb(s,c.value,c.defaultValue,c.children)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||c.suppressHydrationWarning===!0||fS(s.textContent,a)?(c.popover!=null&&(De("beforetoggle",s),De("toggle",s)),c.onScroll!=null&&De("scroll",s),c.onScrollEnd!=null&&De("scrollend",s),c.onClick!=null&&(s.onclick=zr),s=!0):s=!1,s||Ri(r,!0)}function Yb(r){for(Bt=r.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Bt=Bt.return}}function go(r){if(r!==Bt)return!1;if(!qe)return Yb(r),qe=!0,!1;var s=r.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=r.type,a=!(a!=="form"&&a!=="button")||Lp(r.type,r.memoizedProps)),a=!a),a&&at&&Ri(r),Yb(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));at=wS(r)}else if(s===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));at=wS(r)}else s===27?(s=at,Pi(r.type)?(r=qp,qp=null,at=r):at=s):at=Bt?Yn(r.stateNode.nextSibling):null;return!0}function Ss(){at=Bt=null,qe=!1}function yh(){var r=Ei;return r!==null&&(mn===null?mn=r:mn.push.apply(mn,r),Ei=null),r}function Fa(r){Ei===null?Ei=[r]:Ei.push(r)}var vh=$(null),xs=null,Vr=null;function Ai(r,s,a){Z(vh,s._currentValue),s._currentValue=a}function Kr(r){r._currentValue=vh.current,B(vh)}function bh(r,s,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===a)break;r=r.return}}function wh(r,s,a,c){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var m=h.dependencies;if(m!==null){var b=h.child;m=m.firstContext;e:for(;m!==null;){var C=m;m=h;for(var D=0;D<s.length;D++)if(C.context===s[D]){m.lanes|=a,C=m.alternate,C!==null&&(C.lanes|=a),bh(m.return,a,r),c||(b=null);break e}m=C.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(i(341));b.lanes|=a,m=b.alternate,m!==null&&(m.lanes|=a),bh(b,a,r),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===r){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function yo(r,s,a,c){r=null;for(var h=s,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var C=h.type;Mn(h.pendingProps.value,b.value)||(r!==null?r.push(C):r=[C])}}else if(h===fe.current){if(b=h.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(gl):r=[gl])}h=h.return}r!==null&&wh(s,r,a,c),s.flags|=262144}function Vc(r){for(r=r.firstContext;r!==null;){if(!Mn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Es(r){xs=r,Vr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Ft(r){return Xb(xs,r)}function Kc(r,s){return xs===null&&Es(r),Xb(r,s)}function Xb(r,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Vr===null){if(r===null)throw Error(i(308));Vr=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Vr=Vr.next=s;return a}var RN=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(a,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(a){return a()})}},AN=e.unstable_scheduleCallback,CN=e.unstable_NormalPriority,wt={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sh(){return{controller:new RN,data:new Map,refCount:0}}function Va(r){r.refCount--,r.refCount===0&&AN(CN,function(){r.controller.abort()})}var Ka=null,xh=0,vo=0,bo=null;function TN(r,s){if(Ka===null){var a=Ka=[];xh=0,vo=Ap(),bo={status:"pending",value:void 0,then:function(c){a.push(c)}}}return xh++,s.then(Jb,Jb),s}function Jb(){if(--xh===0&&Ka!==null){bo!==null&&(bo.status="fulfilled");var r=Ka;Ka=null,vo=0,bo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function _N(r,s){var a=[],c={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var h=0;h<a.length;h++)(0,a[h])(s)},function(h){for(c.status="rejected",c.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),c}var Zb=N.S;N.S=function(r,s){D0=ot(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&TN(r,s),Zb!==null&&Zb(r,s)};var Rs=$(null);function Eh(){var r=Rs.current;return r!==null?r:et.pooledCache}function Hc(r,s){s===null?Z(Rs,Rs.current):Z(Rs,s.pool)}function Wb(){var r=Eh();return r===null?null:{parent:wt._currentValue,pool:r}}var wo=Error(i(460)),Rh=Error(i(474)),Gc=Error(i(542)),Qc={then:function(){}};function ew(r){return r=r.status,r==="fulfilled"||r==="rejected"}function tw(r,s,a){switch(a=r[a],a===void 0?r.push(s):a!==s&&(s.then(zr,zr),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,rw(r),r;default:if(typeof s.status=="string")s.then(zr,zr);else{if(r=et,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=c}},function(c){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,rw(r),r}throw Cs=s,wo}}function As(r){try{var s=r._init;return s(r._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Cs=a,wo):a}}var Cs=null;function nw(){if(Cs===null)throw Error(i(459));var r=Cs;return Cs=null,r}function rw(r){if(r===wo||r===Gc)throw Error(i(483))}var So=null,Ha=0;function Yc(r){var s=Ha;return Ha+=1,So===null&&(So=[]),tw(So,r,s)}function Ga(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Xc(r,s){throw s.$$typeof===v?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function iw(r){function s(V,z){if(r){var G=V.deletions;G===null?(V.deletions=[z],V.flags|=16):G.push(z)}}function a(V,z){if(!r)return null;for(;z!==null;)s(V,z),z=z.sibling;return null}function c(V){for(var z=new Map;V!==null;)V.key!==null?z.set(V.key,V):z.set(V.index,V),V=V.sibling;return z}function h(V,z){return V=Br(V,z),V.index=0,V.sibling=null,V}function m(V,z,G){return V.index=G,r?(G=V.alternate,G!==null?(G=G.index,G<z?(V.flags|=67108866,z):G):(V.flags|=67108866,z)):(V.flags|=1048576,z)}function b(V){return r&&V.alternate===null&&(V.flags|=67108866),V}function C(V,z,G,te){return z===null||z.tag!==6?(z=dh(G,V.mode,te),z.return=V,z):(z=h(z,G),z.return=V,z)}function D(V,z,G,te){var xe=G.type;return xe===w?ee(V,z,G.props.children,te,G.key):z!==null&&(z.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===L&&As(xe)===z.type)?(z=h(z,G.props),Ga(z,G),z.return=V,z):(z=Bc(G.type,G.key,G.props,null,V.mode,te),Ga(z,G),z.return=V,z)}function Q(V,z,G,te){return z===null||z.tag!==4||z.stateNode.containerInfo!==G.containerInfo||z.stateNode.implementation!==G.implementation?(z=hh(G,V.mode,te),z.return=V,z):(z=h(z,G.children||[]),z.return=V,z)}function ee(V,z,G,te,xe){return z===null||z.tag!==7?(z=ws(G,V.mode,te,xe),z.return=V,z):(z=h(z,G),z.return=V,z)}function ie(V,z,G){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=dh(""+z,V.mode,G),z.return=V,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return G=Bc(z.type,z.key,z.props,null,V.mode,G),Ga(G,z),G.return=V,G;case E:return z=hh(z,V.mode,G),z.return=V,z;case L:return z=As(z),ie(V,z,G)}if(H(z)||ue(z))return z=ws(z,V.mode,G,null),z.return=V,z;if(typeof z.then=="function")return ie(V,Yc(z),G);if(z.$$typeof===M)return ie(V,Kc(V,z),G);Xc(V,z)}return null}function Y(V,z,G,te){var xe=z!==null?z.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return xe!==null?null:C(V,z,""+G,te);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case S:return G.key===xe?D(V,z,G,te):null;case E:return G.key===xe?Q(V,z,G,te):null;case L:return G=As(G),Y(V,z,G,te)}if(H(G)||ue(G))return xe!==null?null:ee(V,z,G,te,null);if(typeof G.then=="function")return Y(V,z,Yc(G),te);if(G.$$typeof===M)return Y(V,z,Kc(V,G),te);Xc(V,G)}return null}function J(V,z,G,te,xe){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return V=V.get(G)||null,C(z,V,""+te,xe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case S:return V=V.get(te.key===null?G:te.key)||null,D(z,V,te,xe);case E:return V=V.get(te.key===null?G:te.key)||null,Q(z,V,te,xe);case L:return te=As(te),J(V,z,G,te,xe)}if(H(te)||ue(te))return V=V.get(G)||null,ee(z,V,te,xe,null);if(typeof te.then=="function")return J(V,z,G,Yc(te),xe);if(te.$$typeof===M)return J(V,z,G,Kc(z,te),xe);Xc(z,te)}return null}function me(V,z,G,te){for(var xe=null,Ue=null,be=z,Ne=z=0,Pe=null;be!==null&&Ne<G.length;Ne++){be.index>Ne?(Pe=be,be=null):Pe=be.sibling;var Be=Y(V,be,G[Ne],te);if(Be===null){be===null&&(be=Pe);break}r&&be&&Be.alternate===null&&s(V,be),z=m(Be,z,Ne),Ue===null?xe=Be:Ue.sibling=Be,Ue=Be,be=Pe}if(Ne===G.length)return a(V,be),qe&&Fr(V,Ne),xe;if(be===null){for(;Ne<G.length;Ne++)be=ie(V,G[Ne],te),be!==null&&(z=m(be,z,Ne),Ue===null?xe=be:Ue.sibling=be,Ue=be);return qe&&Fr(V,Ne),xe}for(be=c(be);Ne<G.length;Ne++)Pe=J(be,V,Ne,G[Ne],te),Pe!==null&&(r&&Pe.alternate!==null&&be.delete(Pe.key===null?Ne:Pe.key),z=m(Pe,z,Ne),Ue===null?xe=Pe:Ue.sibling=Pe,Ue=Pe);return r&&be.forEach(function(Fi){return s(V,Fi)}),qe&&Fr(V,Ne),xe}function Re(V,z,G,te){if(G==null)throw Error(i(151));for(var xe=null,Ue=null,be=z,Ne=z=0,Pe=null,Be=G.next();be!==null&&!Be.done;Ne++,Be=G.next()){be.index>Ne?(Pe=be,be=null):Pe=be.sibling;var Fi=Y(V,be,Be.value,te);if(Fi===null){be===null&&(be=Pe);break}r&&be&&Fi.alternate===null&&s(V,be),z=m(Fi,z,Ne),Ue===null?xe=Fi:Ue.sibling=Fi,Ue=Fi,be=Pe}if(Be.done)return a(V,be),qe&&Fr(V,Ne),xe;if(be===null){for(;!Be.done;Ne++,Be=G.next())Be=ie(V,Be.value,te),Be!==null&&(z=m(Be,z,Ne),Ue===null?xe=Be:Ue.sibling=Be,Ue=Be);return qe&&Fr(V,Ne),xe}for(be=c(be);!Be.done;Ne++,Be=G.next())Be=J(be,V,Ne,Be.value,te),Be!==null&&(r&&Be.alternate!==null&&be.delete(Be.key===null?Ne:Be.key),z=m(Be,z,Ne),Ue===null?xe=Be:Ue.sibling=Be,Ue=Be);return r&&be.forEach(function(qk){return s(V,qk)}),qe&&Fr(V,Ne),xe}function Je(V,z,G,te){if(typeof G=="object"&&G!==null&&G.type===w&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case S:e:{for(var xe=G.key;z!==null;){if(z.key===xe){if(xe=G.type,xe===w){if(z.tag===7){a(V,z.sibling),te=h(z,G.props.children),te.return=V,V=te;break e}}else if(z.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===L&&As(xe)===z.type){a(V,z.sibling),te=h(z,G.props),Ga(te,G),te.return=V,V=te;break e}a(V,z);break}else s(V,z);z=z.sibling}G.type===w?(te=ws(G.props.children,V.mode,te,G.key),te.return=V,V=te):(te=Bc(G.type,G.key,G.props,null,V.mode,te),Ga(te,G),te.return=V,V=te)}return b(V);case E:e:{for(xe=G.key;z!==null;){if(z.key===xe)if(z.tag===4&&z.stateNode.containerInfo===G.containerInfo&&z.stateNode.implementation===G.implementation){a(V,z.sibling),te=h(z,G.children||[]),te.return=V,V=te;break e}else{a(V,z);break}else s(V,z);z=z.sibling}te=hh(G,V.mode,te),te.return=V,V=te}return b(V);case L:return G=As(G),Je(V,z,G,te)}if(H(G))return me(V,z,G,te);if(ue(G)){if(xe=ue(G),typeof xe!="function")throw Error(i(150));return G=xe.call(G),Re(V,z,G,te)}if(typeof G.then=="function")return Je(V,z,Yc(G),te);if(G.$$typeof===M)return Je(V,z,Kc(V,G),te);Xc(V,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,z!==null&&z.tag===6?(a(V,z.sibling),te=h(z,G),te.return=V,V=te):(a(V,z),te=dh(G,V.mode,te),te.return=V,V=te),b(V)):a(V,z)}return function(V,z,G,te){try{Ha=0;var xe=Je(V,z,G,te);return So=null,xe}catch(be){if(be===wo||be===Gc)throw be;var Ue=Nn(29,be,null,V.mode);return Ue.lanes=te,Ue.return=V,Ue}}}var Ts=iw(!0),sw=iw(!1),Ci=!1;function Ah(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ch(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ti(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function _i(r,s,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(Ve&2)!==0){var h=c.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),c.pending=s,s=Uc(r),Bb(r,null,a),s}return zc(r,c,s,a),Uc(r)}function Qa(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,Xv(r,a)}}function Th(r,s){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=b:m=m.next=b,a=a.next}while(a!==null);m===null?h=m=s:m=m.next=s}else h=m=s;a={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}var _h=!1;function Ya(){if(_h){var r=bo;if(r!==null)throw r}}function Xa(r,s,a,c){_h=!1;var h=r.updateQueue;Ci=!1;var m=h.firstBaseUpdate,b=h.lastBaseUpdate,C=h.shared.pending;if(C!==null){h.shared.pending=null;var D=C,Q=D.next;D.next=null,b===null?m=Q:b.next=Q,b=D;var ee=r.alternate;ee!==null&&(ee=ee.updateQueue,C=ee.lastBaseUpdate,C!==b&&(C===null?ee.firstBaseUpdate=Q:C.next=Q,ee.lastBaseUpdate=D))}if(m!==null){var ie=h.baseState;b=0,ee=Q=D=null,C=m;do{var Y=C.lane&-536870913,J=Y!==C.lane;if(J?(je&Y)===Y:(c&Y)===Y){Y!==0&&Y===vo&&(_h=!0),ee!==null&&(ee=ee.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var me=r,Re=C;Y=s;var Je=a;switch(Re.tag){case 1:if(me=Re.payload,typeof me=="function"){ie=me.call(Je,ie,Y);break e}ie=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Re.payload,Y=typeof me=="function"?me.call(Je,ie,Y):me,Y==null)break e;ie=y({},ie,Y);break e;case 2:Ci=!0}}Y=C.callback,Y!==null&&(r.flags|=64,J&&(r.flags|=8192),J=h.callbacks,J===null?h.callbacks=[Y]:J.push(Y))}else J={lane:Y,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ee===null?(Q=ee=J,D=ie):ee=ee.next=J,b|=Y;if(C=C.next,C===null){if(C=h.shared.pending,C===null)break;J=C,C=J.next,J.next=null,h.lastBaseUpdate=J,h.shared.pending=null}}while(!0);ee===null&&(D=ie),h.baseState=D,h.firstBaseUpdate=Q,h.lastBaseUpdate=ee,m===null&&(h.shared.lanes=0),$i|=b,r.lanes=b,r.memoizedState=ie}}function ow(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function aw(r,s){var a=r.callbacks;if(a!==null)for(r.callbacks=null,r=0;r<a.length;r++)ow(a[r],s)}var xo=$(null),Jc=$(0);function lw(r,s){r=ei,Z(Jc,r),Z(xo,s),ei=r|s.baseLanes}function Oh(){Z(Jc,ei),Z(xo,xo.current)}function Mh(){ei=Jc.current,B(xo),B(Jc)}var kn=$(null),Qn=null;function Oi(r){var s=r.alternate;Z(yt,yt.current&1),Z(kn,r),Qn===null&&(s===null||xo.current!==null||s.memoizedState!==null)&&(Qn=r)}function Nh(r){Z(yt,yt.current),Z(kn,r),Qn===null&&(Qn=r)}function cw(r){r.tag===22?(Z(yt,yt.current),Z(kn,r),Qn===null&&(Qn=r)):Mi()}function Mi(){Z(yt,yt.current),Z(kn,kn.current)}function $n(r){B(kn),Qn===r&&(Qn=null),B(yt)}var yt=$(0);function Zc(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||jp(a)||Pp(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Hr=0,Oe=null,Ye=null,St=null,Wc=!1,Eo=!1,_s=!1,eu=0,Ja=0,Ro=null,ON=0;function dt(){throw Error(i(321))}function kh(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Mn(r[a],s[a]))return!1;return!0}function $h(r,s,a,c,h,m){return Hr=m,Oe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,N.H=r===null||r.memoizedState===null?Hw:Qh,_s=!1,m=a(c,h),_s=!1,Eo&&(m=fw(s,a,c,h)),uw(r),m}function uw(r){N.H=el;var s=Ye!==null&&Ye.next!==null;if(Hr=0,St=Ye=Oe=null,Wc=!1,Ja=0,Ro=null,s)throw Error(i(300));r===null||xt||(r=r.dependencies,r!==null&&Vc(r)&&(xt=!0))}function fw(r,s,a,c){Oe=r;var h=0;do{if(Eo&&(Ro=null),Ja=0,Eo=!1,25<=h)throw Error(i(301));if(h+=1,St=Ye=null,r.updateQueue!=null){var m=r.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}N.H=Gw,m=s(a,c)}while(Eo);return m}function MN(){var r=N.H,s=r.useState()[0];return s=typeof s.then=="function"?Za(s):s,r=r.useState()[0],(Ye!==null?Ye.memoizedState:null)!==r&&(Oe.flags|=1024),s}function Lh(){var r=eu!==0;return eu=0,r}function Dh(r,s,a){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~a}function Ih(r){if(Wc){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Wc=!1}Hr=0,St=Ye=Oe=null,Eo=!1,Ja=eu=0,Ro=null}function rn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Oe.memoizedState=St=r:St=St.next=r,St}function vt(){if(Ye===null){var r=Oe.alternate;r=r!==null?r.memoizedState:null}else r=Ye.next;var s=St===null?Oe.memoizedState:St.next;if(s!==null)St=s,Ye=r;else{if(r===null)throw Oe.alternate===null?Error(i(467)):Error(i(310));Ye=r,r={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},St===null?Oe.memoizedState=St=r:St=St.next=r}return St}function tu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Za(r){var s=Ja;return Ja+=1,Ro===null&&(Ro=[]),r=tw(Ro,r,s),s=Oe,(St===null?s.memoizedState:St.next)===null&&(s=s.alternate,N.H=s===null||s.memoizedState===null?Hw:Qh),r}function nu(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Za(r);if(r.$$typeof===M)return Ft(r)}throw Error(i(438,String(r)))}function jh(r){var s=null,a=Oe.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var c=Oe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=tu(),Oe.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(r),c=0;c<r;c++)a[c]=oe;return s.index++,a}function Gr(r,s){return typeof s=="function"?s(r):s}function ru(r){var s=vt();return Ph(s,Ye,r)}function Ph(r,s,a){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=a;var h=r.baseQueue,m=c.pending;if(m!==null){if(h!==null){var b=h.next;h.next=m.next,m.next=b}s.baseQueue=h=m,c.pending=null}if(m=r.baseState,h===null)r.memoizedState=m;else{s=h.next;var C=b=null,D=null,Q=s,ee=!1;do{var ie=Q.lane&-536870913;if(ie!==Q.lane?(je&ie)===ie:(Hr&ie)===ie){var Y=Q.revertLane;if(Y===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ie===vo&&(ee=!0);else if((Hr&Y)===Y){Q=Q.next,Y===vo&&(ee=!0);continue}else ie={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},D===null?(C=D=ie,b=m):D=D.next=ie,Oe.lanes|=Y,$i|=Y;ie=Q.action,_s&&a(m,ie),m=Q.hasEagerState?Q.eagerState:a(m,ie)}else Y={lane:ie,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},D===null?(C=D=Y,b=m):D=D.next=Y,Oe.lanes|=ie,$i|=ie;Q=Q.next}while(Q!==null&&Q!==s);if(D===null?b=m:D.next=C,!Mn(m,r.memoizedState)&&(xt=!0,ee&&(a=bo,a!==null)))throw a;r.memoizedState=m,r.baseState=b,r.baseQueue=D,c.lastRenderedState=m}return h===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function qh(r){var s=vt(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=r;var c=a.dispatch,h=a.pending,m=s.memoizedState;if(h!==null){a.pending=null;var b=h=h.next;do m=r(m,b.action),b=b.next;while(b!==h);Mn(m,s.memoizedState)||(xt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,c]}function dw(r,s,a){var c=Oe,h=vt(),m=qe;if(m){if(a===void 0)throw Error(i(407));a=a()}else a=s();var b=!Mn((Ye||h).memoizedState,a);if(b&&(h.memoizedState=a,xt=!0),h=h.queue,Bh(mw.bind(null,c,h,r),[r]),h.getSnapshot!==s||b||St!==null&&St.memoizedState.tag&1){if(c.flags|=2048,Ao(9,{destroy:void 0},pw.bind(null,c,h,a,s),null),et===null)throw Error(i(349));m||(Hr&127)!==0||hw(c,s,a)}return a}function hw(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=Oe.updateQueue,s===null?(s=tu(),Oe.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function pw(r,s,a,c){s.value=a,s.getSnapshot=c,gw(s)&&yw(r)}function mw(r,s,a){return a(function(){gw(s)&&yw(r)})}function gw(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Mn(r,a)}catch{return!0}}function yw(r){var s=bs(r,2);s!==null&&gn(s,r,2)}function zh(r){var s=rn();if(typeof r=="function"){var a=r;if(r=a(),_s){bi(!0);try{a()}finally{bi(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:r},s}function vw(r,s,a,c){return r.baseState=a,Ph(r,Ye,typeof c=="function"?c:Gr)}function NN(r,s,a,c,h){if(ou(r))throw Error(i(485));if(r=s.action,r!==null){var m={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};N.T!==null?a(!0):m.isTransition=!1,c(m),a=s.pending,a===null?(m.next=s.pending=m,bw(s,m)):(m.next=a.next,s.pending=a.next=m)}}function bw(r,s){var a=s.action,c=s.payload,h=r.state;if(s.isTransition){var m=N.T,b={};N.T=b;try{var C=a(h,c),D=N.S;D!==null&&D(b,C),ww(r,s,C)}catch(Q){Uh(r,s,Q)}finally{m!==null&&b.types!==null&&(m.types=b.types),N.T=m}}else try{m=a(h,c),ww(r,s,m)}catch(Q){Uh(r,s,Q)}}function ww(r,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){Sw(r,s,c)},function(c){return Uh(r,s,c)}):Sw(r,s,a)}function Sw(r,s,a){s.status="fulfilled",s.value=a,xw(s),r.state=a,s=r.pending,s!==null&&(a=s.next,a===s?r.pending=null:(a=a.next,s.next=a,bw(r,a)))}function Uh(r,s,a){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=a,xw(s),s=s.next;while(s!==c)}r.action=null}function xw(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function Ew(r,s){return s}function Rw(r,s){if(qe){var a=et.formState;if(a!==null){e:{var c=Oe;if(qe){if(at){t:{for(var h=at,m=Gn;h.nodeType!==8;){if(!m){h=null;break t}if(h=Yn(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){at=Yn(h.nextSibling),c=h.data==="F!";break e}}Ri(c)}c=!1}c&&(s=a[0])}}return a=rn(),a.memoizedState=a.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ew,lastRenderedState:s},a.queue=c,a=Fw.bind(null,Oe,c),c.dispatch=a,c=zh(!1),m=Gh.bind(null,Oe,!1,c.queue),c=rn(),h={state:s,dispatch:null,action:r,pending:null},c.queue=h,a=NN.bind(null,Oe,h,m,a),h.dispatch=a,c.memoizedState=r,[s,a,!1]}function Aw(r){var s=vt();return Cw(s,Ye,r)}function Cw(r,s,a){if(s=Ph(r,s,Ew)[0],r=ru(Gr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Za(s)}catch(b){throw b===wo?Gc:b}else c=s;s=vt();var h=s.queue,m=h.dispatch;return a!==s.memoizedState&&(Oe.flags|=2048,Ao(9,{destroy:void 0},kN.bind(null,h,a),null)),[c,m,r]}function kN(r,s){r.action=s}function Tw(r){var s=vt(),a=Ye;if(a!==null)return Cw(s,a,r);vt(),s=s.memoizedState,a=vt();var c=a.queue.dispatch;return a.memoizedState=r,[s,c,!1]}function Ao(r,s,a,c){return r={tag:r,create:a,deps:c,inst:s,next:null},s=Oe.updateQueue,s===null&&(s=tu(),Oe.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,s.lastEffect=r),r}function _w(){return vt().memoizedState}function iu(r,s,a,c){var h=rn();Oe.flags|=r,h.memoizedState=Ao(1|s,{destroy:void 0},a,c===void 0?null:c)}function su(r,s,a,c){var h=vt();c=c===void 0?null:c;var m=h.memoizedState.inst;Ye!==null&&c!==null&&kh(c,Ye.memoizedState.deps)?h.memoizedState=Ao(s,m,a,c):(Oe.flags|=r,h.memoizedState=Ao(1|s,m,a,c))}function Ow(r,s){iu(8390656,8,r,s)}function Bh(r,s){su(2048,8,r,s)}function $N(r){Oe.flags|=4;var s=Oe.updateQueue;if(s===null)s=tu(),Oe.updateQueue=s,s.events=[r];else{var a=s.events;a===null?s.events=[r]:a.push(r)}}function Mw(r){var s=vt().memoizedState;return $N({ref:s,nextImpl:r}),function(){if((Ve&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function Nw(r,s){return su(4,2,r,s)}function kw(r,s){return su(4,4,r,s)}function $w(r,s){if(typeof s=="function"){r=r();var a=s(r);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Lw(r,s,a){a=a!=null?a.concat([r]):null,su(4,4,$w.bind(null,s,r),a)}function Fh(){}function Dw(r,s){var a=vt();s=s===void 0?null:s;var c=a.memoizedState;return s!==null&&kh(s,c[1])?c[0]:(a.memoizedState=[r,s],r)}function Iw(r,s){var a=vt();s=s===void 0?null:s;var c=a.memoizedState;if(s!==null&&kh(s,c[1]))return c[0];if(c=r(),_s){bi(!0);try{r()}finally{bi(!1)}}return a.memoizedState=[c,s],c}function Vh(r,s,a){return a===void 0||(Hr&1073741824)!==0&&(je&261930)===0?r.memoizedState=s:(r.memoizedState=a,r=j0(),Oe.lanes|=r,$i|=r,a)}function jw(r,s,a,c){return Mn(a,s)?a:xo.current!==null?(r=Vh(r,a,c),Mn(r,s)||(xt=!0),r):(Hr&42)===0||(Hr&1073741824)!==0&&(je&261930)===0?(xt=!0,r.memoizedState=a):(r=j0(),Oe.lanes|=r,$i|=r,s)}function Pw(r,s,a,c,h){var m=P.p;P.p=m!==0&&8>m?m:8;var b=N.T,C={};N.T=C,Gh(r,!1,s,a);try{var D=h(),Q=N.S;if(Q!==null&&Q(C,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var ee=_N(D,c);Wa(r,s,ee,In(r))}else Wa(r,s,c,In(r))}catch(ie){Wa(r,s,{then:function(){},status:"rejected",reason:ie},In())}finally{P.p=m,b!==null&&C.types!==null&&(b.types=C.types),N.T=b}}function LN(){}function Kh(r,s,a,c){if(r.tag!==5)throw Error(i(476));var h=qw(r).queue;Pw(r,h,s,j,a===null?LN:function(){return zw(r),a(c)})}function qw(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:j,baseState:j,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:j},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:a},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function zw(r){var s=qw(r);s.next===null&&(s=r.alternate.memoizedState),Wa(r,s.next.queue,{},In())}function Hh(){return Ft(gl)}function Uw(){return vt().memoizedState}function Bw(){return vt().memoizedState}function DN(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var a=In();r=Ti(a);var c=_i(s,r,a);c!==null&&(gn(c,s,a),Qa(c,s,a)),s={cache:Sh()},r.payload=s;return}s=s.return}}function IN(r,s,a){var c=In();a={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ou(r)?Vw(s,a):(a=uh(r,s,a,c),a!==null&&(gn(a,r,c),Kw(a,s,c)))}function Fw(r,s,a){var c=In();Wa(r,s,a,c)}function Wa(r,s,a,c){var h={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ou(r))Vw(s,h);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var b=s.lastRenderedState,C=m(b,a);if(h.hasEagerState=!0,h.eagerState=C,Mn(C,b))return zc(r,s,h,0),et===null&&qc(),!1}catch{}if(a=uh(r,s,h,c),a!==null)return gn(a,r,c),Kw(a,s,c),!0}return!1}function Gh(r,s,a,c){if(c={lane:2,revertLane:Ap(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},ou(r)){if(s)throw Error(i(479))}else s=uh(r,a,c,2),s!==null&&gn(s,r,2)}function ou(r){var s=r.alternate;return r===Oe||s!==null&&s===Oe}function Vw(r,s){Eo=Wc=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function Kw(r,s,a){if((a&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,Xv(r,a)}}var el={readContext:Ft,use:nu,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};el.useEffectEvent=dt;var Hw={readContext:Ft,use:nu,useCallback:function(r,s){return rn().memoizedState=[r,s===void 0?null:s],r},useContext:Ft,useEffect:Ow,useImperativeHandle:function(r,s,a){a=a!=null?a.concat([r]):null,iu(4194308,4,$w.bind(null,s,r),a)},useLayoutEffect:function(r,s){return iu(4194308,4,r,s)},useInsertionEffect:function(r,s){iu(4,2,r,s)},useMemo:function(r,s){var a=rn();s=s===void 0?null:s;var c=r();if(_s){bi(!0);try{r()}finally{bi(!1)}}return a.memoizedState=[c,s],c},useReducer:function(r,s,a){var c=rn();if(a!==void 0){var h=a(s);if(_s){bi(!0);try{a(s)}finally{bi(!1)}}}else h=s;return c.memoizedState=c.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},c.queue=r,r=r.dispatch=IN.bind(null,Oe,r),[c.memoizedState,r]},useRef:function(r){var s=rn();return r={current:r},s.memoizedState=r},useState:function(r){r=zh(r);var s=r.queue,a=Fw.bind(null,Oe,s);return s.dispatch=a,[r.memoizedState,a]},useDebugValue:Fh,useDeferredValue:function(r,s){var a=rn();return Vh(a,r,s)},useTransition:function(){var r=zh(!1);return r=Pw.bind(null,Oe,r.queue,!0,!1),rn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,a){var c=Oe,h=rn();if(qe){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),et===null)throw Error(i(349));(je&127)!==0||hw(c,s,a)}h.memoizedState=a;var m={value:a,getSnapshot:s};return h.queue=m,Ow(mw.bind(null,c,m,r),[r]),c.flags|=2048,Ao(9,{destroy:void 0},pw.bind(null,c,m,a,s),null),a},useId:function(){var r=rn(),s=et.identifierPrefix;if(qe){var a=Sr,c=wr;a=(c&~(1<<32-On(c)-1)).toString(32)+a,s="_"+s+"R_"+a,a=eu++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=ON++,s="_"+s+"r_"+a.toString(32)+"_";return r.memoizedState=s},useHostTransitionStatus:Hh,useFormState:Rw,useActionState:Rw,useOptimistic:function(r){var s=rn();s.memoizedState=s.baseState=r;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Gh.bind(null,Oe,!0,a),a.dispatch=s,[r,s]},useMemoCache:jh,useCacheRefresh:function(){return rn().memoizedState=DN.bind(null,Oe)},useEffectEvent:function(r){var s=rn(),a={impl:r};return s.memoizedState=a,function(){if((Ve&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},Qh={readContext:Ft,use:nu,useCallback:Dw,useContext:Ft,useEffect:Bh,useImperativeHandle:Lw,useInsertionEffect:Nw,useLayoutEffect:kw,useMemo:Iw,useReducer:ru,useRef:_w,useState:function(){return ru(Gr)},useDebugValue:Fh,useDeferredValue:function(r,s){var a=vt();return jw(a,Ye.memoizedState,r,s)},useTransition:function(){var r=ru(Gr)[0],s=vt().memoizedState;return[typeof r=="boolean"?r:Za(r),s]},useSyncExternalStore:dw,useId:Uw,useHostTransitionStatus:Hh,useFormState:Aw,useActionState:Aw,useOptimistic:function(r,s){var a=vt();return vw(a,Ye,r,s)},useMemoCache:jh,useCacheRefresh:Bw};Qh.useEffectEvent=Mw;var Gw={readContext:Ft,use:nu,useCallback:Dw,useContext:Ft,useEffect:Bh,useImperativeHandle:Lw,useInsertionEffect:Nw,useLayoutEffect:kw,useMemo:Iw,useReducer:qh,useRef:_w,useState:function(){return qh(Gr)},useDebugValue:Fh,useDeferredValue:function(r,s){var a=vt();return Ye===null?Vh(a,r,s):jw(a,Ye.memoizedState,r,s)},useTransition:function(){var r=qh(Gr)[0],s=vt().memoizedState;return[typeof r=="boolean"?r:Za(r),s]},useSyncExternalStore:dw,useId:Uw,useHostTransitionStatus:Hh,useFormState:Tw,useActionState:Tw,useOptimistic:function(r,s){var a=vt();return Ye!==null?vw(a,Ye,r,s):(a.baseState=r,[r,a.queue.dispatch])},useMemoCache:jh,useCacheRefresh:Bw};Gw.useEffectEvent=Mw;function Yh(r,s,a,c){s=r.memoizedState,a=a(c,s),a=a==null?s:y({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Xh={enqueueSetState:function(r,s,a){r=r._reactInternals;var c=In(),h=Ti(c);h.payload=s,a!=null&&(h.callback=a),s=_i(r,h,c),s!==null&&(gn(s,r,c),Qa(s,r,c))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var c=In(),h=Ti(c);h.tag=1,h.payload=s,a!=null&&(h.callback=a),s=_i(r,h,c),s!==null&&(gn(s,r,c),Qa(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=In(),c=Ti(a);c.tag=2,s!=null&&(c.callback=s),s=_i(r,c,a),s!==null&&(gn(s,r,a),Qa(s,r,a))}};function Qw(r,s,a,c,h,m,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,m,b):s.prototype&&s.prototype.isPureReactComponent?!za(a,c)||!za(h,m):!0}function Yw(r,s,a,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==r&&Xh.enqueueReplaceState(s,s.state,null)}function Os(r,s){var a=s;if("ref"in s){a={};for(var c in s)c!=="ref"&&(a[c]=s[c])}if(r=r.defaultProps){a===s&&(a=y({},a));for(var h in r)a[h]===void 0&&(a[h]=r[h])}return a}function Xw(r){Pc(r)}function Jw(r){console.error(r)}function Zw(r){Pc(r)}function au(r,s){try{var a=r.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function Ww(r,s,a){try{var c=r.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Jh(r,s,a){return a=Ti(a),a.tag=3,a.payload={element:null},a.callback=function(){au(r,s)},a}function e0(r){return r=Ti(r),r.tag=3,r}function t0(r,s,a,c){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=c.value;r.payload=function(){return h(m)},r.callback=function(){Ww(s,a,c)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(r.callback=function(){Ww(s,a,c),typeof h!="function"&&(Li===null?Li=new Set([this]):Li.add(this));var C=c.stack;this.componentDidCatch(c.value,{componentStack:C!==null?C:""})})}function jN(r,s,a,c,h){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=a.alternate,s!==null&&yo(s,a,h,!0),a=kn.current,a!==null){switch(a.tag){case 31:case 13:return Qn===null?bu():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,c===Qc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([c]):s.add(c),xp(r,c,h)),!1;case 22:return a.flags|=65536,c===Qc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([c]):a.add(c)),xp(r,c,h)),!1}throw Error(i(435,a.tag))}return xp(r,c,h),bu(),!1}if(qe)return s=kn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,c!==gh&&(r=Error(i(422),{cause:c}),Fa(Vn(r,a)))):(c!==gh&&(s=Error(i(423),{cause:c}),Fa(Vn(s,a))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,c=Vn(c,a),h=Jh(r.stateNode,c,h),Th(r,h),ht!==4&&(ht=2)),!1;var m=Error(i(520),{cause:c});if(m=Vn(m,a),ll===null?ll=[m]:ll.push(m),ht!==4&&(ht=2),s===null)return!0;c=Vn(c,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,r=h&-h,a.lanes|=r,r=Jh(a.stateNode,c,r),Th(a,r),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Li===null||!Li.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=e0(h),t0(h,r,a,c),Th(a,h),!1}a=a.return}while(a!==null);return!1}var Zh=Error(i(461)),xt=!1;function Vt(r,s,a,c){s.child=r===null?sw(s,null,a,c):Ts(s,r.child,a,c)}function n0(r,s,a,c,h){a=a.render;var m=s.ref;if("ref"in c){var b={};for(var C in c)C!=="ref"&&(b[C]=c[C])}else b=c;return Es(s),c=$h(r,s,a,b,m,h),C=Lh(),r!==null&&!xt?(Dh(r,s,h),Qr(r,s,h)):(qe&&C&&ph(s),s.flags|=1,Vt(r,s,c,h),s.child)}function r0(r,s,a,c,h){if(r===null){var m=a.type;return typeof m=="function"&&!fh(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,i0(r,s,m,c,h)):(r=Bc(a.type,null,c,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(m=r.child,!op(r,h)){var b=m.memoizedProps;if(a=a.compare,a=a!==null?a:za,a(b,c)&&r.ref===s.ref)return Qr(r,s,h)}return s.flags|=1,r=Br(m,c),r.ref=s.ref,r.return=s,s.child=r}function i0(r,s,a,c,h){if(r!==null){var m=r.memoizedProps;if(za(m,c)&&r.ref===s.ref)if(xt=!1,s.pendingProps=c=m,op(r,h))(r.flags&131072)!==0&&(xt=!0);else return s.lanes=r.lanes,Qr(r,s,h)}return Wh(r,s,a,c,h)}function s0(r,s,a,c){var h=c.children,m=r!==null?r.memoizedState:null;if(r===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,r!==null){for(c=s.child=r.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;c=h&~m}else c=0,s.child=null;return o0(r,s,m,a,c)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Hc(s,m!==null?m.cachePool:null),m!==null?lw(s,m):Oh(),cw(s);else return c=s.lanes=536870912,o0(r,s,m!==null?m.baseLanes|a:a,a,c)}else m!==null?(Hc(s,m.cachePool),lw(s,m),Mi(),s.memoizedState=null):(r!==null&&Hc(s,null),Oh(),Mi());return Vt(r,s,h,a),s.child}function tl(r,s){return r!==null&&r.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function o0(r,s,a,c,h){var m=Eh();return m=m===null?null:{parent:wt._currentValue,pool:m},s.memoizedState={baseLanes:a,cachePool:m},r!==null&&Hc(s,null),Oh(),cw(s),r!==null&&yo(r,s,c,!0),s.childLanes=h,null}function lu(r,s){return s=uu({mode:s.mode,children:s.children},r.mode),s.ref=r.ref,r.child=s,s.return=r,s}function a0(r,s,a){return Ts(s,r.child,null,a),r=lu(s,s.pendingProps),r.flags|=2,$n(s),s.memoizedState=null,r}function PN(r,s,a){var c=s.pendingProps,h=(s.flags&128)!==0;if(s.flags&=-129,r===null){if(qe){if(c.mode==="hidden")return r=lu(s,c),s.lanes=536870912,tl(null,r);if(Nh(s),(r=at)?(r=bS(r,Gn),r=r!==null&&r.data==="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:xi!==null?{id:wr,overflow:Sr}:null,retryLane:536870912,hydrationErrors:null},a=Vb(r),a.return=s,s.child=a,Bt=s,at=null)):r=null,r===null)throw Ri(s);return s.lanes=536870912,null}return lu(s,c)}var m=r.memoizedState;if(m!==null){var b=m.dehydrated;if(Nh(s),h)if(s.flags&256)s.flags&=-257,s=a0(r,s,a);else if(s.memoizedState!==null)s.child=r.child,s.flags|=128,s=null;else throw Error(i(558));else if(xt||yo(r,s,a,!1),h=(a&r.childLanes)!==0,xt||h){if(c=et,c!==null&&(b=Jv(c,a),b!==0&&b!==m.retryLane))throw m.retryLane=b,bs(r,b),gn(c,r,b),Zh;bu(),s=a0(r,s,a)}else r=m.treeContext,at=Yn(b.nextSibling),Bt=s,qe=!0,Ei=null,Gn=!1,r!==null&&Gb(s,r),s=lu(s,c),s.flags|=4096;return s}return r=Br(r.child,{mode:c.mode,children:c.children}),r.ref=s.ref,s.child=r,r.return=s,r}function cu(r,s){var a=s.ref;if(a===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(r===null||r.ref!==a)&&(s.flags|=4194816)}}function Wh(r,s,a,c,h){return Es(s),a=$h(r,s,a,c,void 0,h),c=Lh(),r!==null&&!xt?(Dh(r,s,h),Qr(r,s,h)):(qe&&c&&ph(s),s.flags|=1,Vt(r,s,a,h),s.child)}function l0(r,s,a,c,h,m){return Es(s),s.updateQueue=null,a=fw(s,c,a,h),uw(r),c=Lh(),r!==null&&!xt?(Dh(r,s,m),Qr(r,s,m)):(qe&&c&&ph(s),s.flags|=1,Vt(r,s,a,m),s.child)}function c0(r,s,a,c,h){if(Es(s),s.stateNode===null){var m=ho,b=a.contextType;typeof b=="object"&&b!==null&&(m=Ft(b)),m=new a(c,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Xh,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=c,m.state=s.memoizedState,m.refs={},Ah(s),b=a.contextType,m.context=typeof b=="object"&&b!==null?Ft(b):ho,m.state=s.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(Yh(s,a,b,c),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&Xh.enqueueReplaceState(m,m.state,null),Xa(s,c,m,h),Ya(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){m=s.stateNode;var C=s.memoizedProps,D=Os(a,C);m.props=D;var Q=m.context,ee=a.contextType;b=ho,typeof ee=="object"&&ee!==null&&(b=Ft(ee));var ie=a.getDerivedStateFromProps;ee=typeof ie=="function"||typeof m.getSnapshotBeforeUpdate=="function",C=s.pendingProps!==C,ee||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(C||Q!==b)&&Yw(s,m,c,b),Ci=!1;var Y=s.memoizedState;m.state=Y,Xa(s,c,m,h),Ya(),Q=s.memoizedState,C||Y!==Q||Ci?(typeof ie=="function"&&(Yh(s,a,ie,c),Q=s.memoizedState),(D=Ci||Qw(s,a,D,c,Y,Q,b))?(ee||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=Q),m.props=c,m.state=Q,m.context=b,c=D):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{m=s.stateNode,Ch(r,s),b=s.memoizedProps,ee=Os(a,b),m.props=ee,ie=s.pendingProps,Y=m.context,Q=a.contextType,D=ho,typeof Q=="object"&&Q!==null&&(D=Ft(Q)),C=a.getDerivedStateFromProps,(Q=typeof C=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==ie||Y!==D)&&Yw(s,m,c,D),Ci=!1,Y=s.memoizedState,m.state=Y,Xa(s,c,m,h),Ya();var J=s.memoizedState;b!==ie||Y!==J||Ci||r!==null&&r.dependencies!==null&&Vc(r.dependencies)?(typeof C=="function"&&(Yh(s,a,C,c),J=s.memoizedState),(ee=Ci||Qw(s,a,ee,c,Y,J,D)||r!==null&&r.dependencies!==null&&Vc(r.dependencies))?(Q||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,J,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,J,D)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===r.memoizedProps&&Y===r.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&Y===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=J),m.props=c,m.state=J,m.context=D,c=ee):(typeof m.componentDidUpdate!="function"||b===r.memoizedProps&&Y===r.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&Y===r.memoizedState||(s.flags|=1024),c=!1)}return m=c,cu(r,s),c=(s.flags&128)!==0,m||c?(m=s.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,r!==null&&c?(s.child=Ts(s,r.child,null,h),s.child=Ts(s,null,a,h)):Vt(r,s,a,h),s.memoizedState=m.state,r=s.child):r=Qr(r,s,h),r}function u0(r,s,a,c){return Ss(),s.flags|=256,Vt(r,s,a,c),s.child}var ep={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tp(r){return{baseLanes:r,cachePool:Wb()}}function np(r,s,a){return r=r!==null?r.childLanes&~a:0,s&&(r|=Dn),r}function f0(r,s,a){var c=s.pendingProps,h=!1,m=(s.flags&128)!==0,b;if((b=m)||(b=r!==null&&r.memoizedState===null?!1:(yt.current&2)!==0),b&&(h=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,r===null){if(qe){if(h?Oi(s):Mi(),(r=at)?(r=bS(r,Gn),r=r!==null&&r.data!=="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:xi!==null?{id:wr,overflow:Sr}:null,retryLane:536870912,hydrationErrors:null},a=Vb(r),a.return=s,s.child=a,Bt=s,at=null)):r=null,r===null)throw Ri(s);return Pp(r)?s.lanes=32:s.lanes=536870912,null}var C=c.children;return c=c.fallback,h?(Mi(),h=s.mode,C=uu({mode:"hidden",children:C},h),c=ws(c,h,a,null),C.return=s,c.return=s,C.sibling=c,s.child=C,c=s.child,c.memoizedState=tp(a),c.childLanes=np(r,b,a),s.memoizedState=ep,tl(null,c)):(Oi(s),rp(s,C))}var D=r.memoizedState;if(D!==null&&(C=D.dehydrated,C!==null)){if(m)s.flags&256?(Oi(s),s.flags&=-257,s=ip(r,s,a)):s.memoizedState!==null?(Mi(),s.child=r.child,s.flags|=128,s=null):(Mi(),C=c.fallback,h=s.mode,c=uu({mode:"visible",children:c.children},h),C=ws(C,h,a,null),C.flags|=2,c.return=s,C.return=s,c.sibling=C,s.child=c,Ts(s,r.child,null,a),c=s.child,c.memoizedState=tp(a),c.childLanes=np(r,b,a),s.memoizedState=ep,s=tl(null,c));else if(Oi(s),Pp(C)){if(b=C.nextSibling&&C.nextSibling.dataset,b)var Q=b.dgst;b=Q,c=Error(i(419)),c.stack="",c.digest=b,Fa({value:c,source:null,stack:null}),s=ip(r,s,a)}else if(xt||yo(r,s,a,!1),b=(a&r.childLanes)!==0,xt||b){if(b=et,b!==null&&(c=Jv(b,a),c!==0&&c!==D.retryLane))throw D.retryLane=c,bs(r,c),gn(b,r,c),Zh;jp(C)||bu(),s=ip(r,s,a)}else jp(C)?(s.flags|=192,s.child=r.child,s=null):(r=D.treeContext,at=Yn(C.nextSibling),Bt=s,qe=!0,Ei=null,Gn=!1,r!==null&&Gb(s,r),s=rp(s,c.children),s.flags|=4096);return s}return h?(Mi(),C=c.fallback,h=s.mode,D=r.child,Q=D.sibling,c=Br(D,{mode:"hidden",children:c.children}),c.subtreeFlags=D.subtreeFlags&65011712,Q!==null?C=Br(Q,C):(C=ws(C,h,a,null),C.flags|=2),C.return=s,c.return=s,c.sibling=C,s.child=c,tl(null,c),c=s.child,C=r.child.memoizedState,C===null?C=tp(a):(h=C.cachePool,h!==null?(D=wt._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=Wb(),C={baseLanes:C.baseLanes|a,cachePool:h}),c.memoizedState=C,c.childLanes=np(r,b,a),s.memoizedState=ep,tl(r.child,c)):(Oi(s),a=r.child,r=a.sibling,a=Br(a,{mode:"visible",children:c.children}),a.return=s,a.sibling=null,r!==null&&(b=s.deletions,b===null?(s.deletions=[r],s.flags|=16):b.push(r)),s.child=a,s.memoizedState=null,a)}function rp(r,s){return s=uu({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function uu(r,s){return r=Nn(22,r,null,s),r.lanes=0,r}function ip(r,s,a){return Ts(s,r.child,null,a),r=rp(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function d0(r,s,a){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),bh(r.return,s,a)}function sp(r,s,a,c,h,m){var b=r.memoizedState;b===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:h,treeForkCount:m}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=a,b.tailMode=h,b.treeForkCount=m)}function h0(r,s,a){var c=s.pendingProps,h=c.revealOrder,m=c.tail;c=c.children;var b=yt.current,C=(b&2)!==0;if(C?(b=b&1|2,s.flags|=128):b&=1,Z(yt,b),Vt(r,s,c,a),c=qe?Ba:0,!C&&r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&d0(r,a,s);else if(r.tag===19)d0(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(h){case"forwards":for(a=s.child,h=null;a!==null;)r=a.alternate,r!==null&&Zc(r)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),sp(s,!1,h,a,m,c);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&Zc(r)===null){s.child=h;break}r=h.sibling,h.sibling=a,a=h,h=r}sp(s,!0,a,null,m,c);break;case"together":sp(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function Qr(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),$i|=s.lanes,(a&s.childLanes)===0)if(r!==null){if(yo(r,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,a=Br(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=Br(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function op(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Vc(r)))}function qN(r,s,a){switch(s.tag){case 3:de(s,s.stateNode.containerInfo),Ai(s,wt,r.memoizedState.cache),Ss();break;case 27:case 5:Ce(s);break;case 4:de(s,s.stateNode.containerInfo);break;case 10:Ai(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Nh(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Oi(s),s.flags|=128,null):(a&s.child.childLanes)!==0?f0(r,s,a):(Oi(s),r=Qr(r,s,a),r!==null?r.sibling:null);Oi(s);break;case 19:var h=(r.flags&128)!==0;if(c=(a&s.childLanes)!==0,c||(yo(r,s,a,!1),c=(a&s.childLanes)!==0),h){if(c)return h0(r,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Z(yt,yt.current),c)break;return null;case 22:return s.lanes=0,s0(r,s,a,s.pendingProps);case 24:Ai(s,wt,r.memoizedState.cache)}return Qr(r,s,a)}function p0(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps)xt=!0;else{if(!op(r,a)&&(s.flags&128)===0)return xt=!1,qN(r,s,a);xt=(r.flags&131072)!==0}else xt=!1,qe&&(s.flags&1048576)!==0&&Hb(s,Ba,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(r=As(s.elementType),s.type=r,typeof r=="function")fh(r)?(c=Os(r,c),s.tag=1,s=c0(null,s,r,c,a)):(s.tag=0,s=Wh(null,s,r,c,a));else{if(r!=null){var h=r.$$typeof;if(h===k){s.tag=11,s=n0(null,s,r,c,a);break e}else if(h===q){s.tag=14,s=r0(null,s,r,c,a);break e}}throw s=X(r)||r,Error(i(306,s,""))}}return s;case 0:return Wh(r,s,s.type,s.pendingProps,a);case 1:return c=s.type,h=Os(c,s.pendingProps),c0(r,s,c,h,a);case 3:e:{if(de(s,s.stateNode.containerInfo),r===null)throw Error(i(387));c=s.pendingProps;var m=s.memoizedState;h=m.element,Ch(r,s),Xa(s,c,null,a);var b=s.memoizedState;if(c=b.cache,Ai(s,wt,c),c!==m.cache&&wh(s,[wt],a,!0),Ya(),c=b.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=u0(r,s,c,a);break e}else if(c!==h){h=Vn(Error(i(424)),s),Fa(h),s=u0(r,s,c,a);break e}else for(r=s.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,at=Yn(r.firstChild),Bt=s,qe=!0,Ei=null,Gn=!0,a=sw(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ss(),c===h){s=Qr(r,s,a);break e}Vt(r,s,c,a)}s=s.child}return s;case 26:return cu(r,s),r===null?(a=AS(s.type,null,s.pendingProps,null))?s.memoizedState=a:qe||(a=s.type,r=s.pendingProps,c=Cu(pe.current).createElement(a),c[Ut]=s,c[un]=r,Kt(c,a,r),It(c),s.stateNode=c):s.memoizedState=AS(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Ce(s),r===null&&qe&&(c=s.stateNode=xS(s.type,s.pendingProps,pe.current),Bt=s,Gn=!0,h=at,Pi(s.type)?(qp=h,at=Yn(c.firstChild)):at=h),Vt(r,s,s.pendingProps.children,a),cu(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&qe&&((h=c=at)&&(c=mk(c,s.type,s.pendingProps,Gn),c!==null?(s.stateNode=c,Bt=s,at=Yn(c.firstChild),Gn=!1,h=!0):h=!1),h||Ri(s)),Ce(s),h=s.type,m=s.pendingProps,b=r!==null?r.memoizedProps:null,c=m.children,Lp(h,m)?c=null:b!==null&&Lp(h,b)&&(s.flags|=32),s.memoizedState!==null&&(h=$h(r,s,MN,null,null,a),gl._currentValue=h),cu(r,s),Vt(r,s,c,a),s.child;case 6:return r===null&&qe&&((r=a=at)&&(a=gk(a,s.pendingProps,Gn),a!==null?(s.stateNode=a,Bt=s,at=null,r=!0):r=!1),r||Ri(s)),null;case 13:return f0(r,s,a);case 4:return de(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Ts(s,null,c,a):Vt(r,s,c,a),s.child;case 11:return n0(r,s,s.type,s.pendingProps,a);case 7:return Vt(r,s,s.pendingProps,a),s.child;case 8:return Vt(r,s,s.pendingProps.children,a),s.child;case 12:return Vt(r,s,s.pendingProps.children,a),s.child;case 10:return c=s.pendingProps,Ai(s,s.type,c.value),Vt(r,s,c.children,a),s.child;case 9:return h=s.type._context,c=s.pendingProps.children,Es(s),h=Ft(h),c=c(h),s.flags|=1,Vt(r,s,c,a),s.child;case 14:return r0(r,s,s.type,s.pendingProps,a);case 15:return i0(r,s,s.type,s.pendingProps,a);case 19:return h0(r,s,a);case 31:return PN(r,s,a);case 22:return s0(r,s,a,s.pendingProps);case 24:return Es(s),c=Ft(wt),r===null?(h=Eh(),h===null&&(h=et,m=Sh(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),s.memoizedState={parent:c,cache:h},Ah(s),Ai(s,wt,h)):((r.lanes&a)!==0&&(Ch(r,s),Xa(s,null,null,a),Ya()),h=r.memoizedState,m=s.memoizedState,h.parent!==c?(h={parent:c,cache:c},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),Ai(s,wt,c)):(c=m.cache,Ai(s,wt,c),c!==h.cache&&wh(s,[wt],a,!0))),Vt(r,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Yr(r){r.flags|=4}function ap(r,s,a,c,h){if((s=(r.mode&32)!==0)&&(s=!1),s){if(r.flags|=16777216,(h&335544128)===h)if(r.stateNode.complete)r.flags|=8192;else if(U0())r.flags|=8192;else throw Cs=Qc,Rh}else r.flags&=-16777217}function m0(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!MS(s))if(U0())r.flags|=8192;else throw Cs=Qc,Rh}function fu(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Qv():536870912,r.lanes|=s,Oo|=s)}function nl(r,s){if(!qe)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function lt(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(s)for(var h=r.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags&65011712,c|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=c,r.childLanes=a,s}function zN(r,s,a){var c=s.pendingProps;switch(mh(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(s),null;case 1:return lt(s),null;case 3:return a=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Kr(wt),Se(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(r===null||r.child===null)&&(go(s)?Yr(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,yh())),lt(s),null;case 26:var h=s.type,m=s.memoizedState;return r===null?(Yr(s),m!==null?(lt(s),m0(s,m)):(lt(s),ap(s,h,null,c,a))):m?m!==r.memoizedState?(Yr(s),lt(s),m0(s,m)):(lt(s),s.flags&=-16777217):(r=r.memoizedProps,r!==c&&Yr(s),lt(s),ap(s,h,r,c,a)),null;case 27:if(Me(s),a=pe.current,h=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Yr(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return lt(s),null}r=ne.current,go(s)?Qb(s):(r=xS(h,c,a),s.stateNode=r,Yr(s))}return lt(s),null;case 5:if(Me(s),h=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Yr(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return lt(s),null}if(m=ne.current,go(s))Qb(s);else{var b=Cu(pe.current);switch(m){case 1:m=b.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=b.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=b.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?m.multiple=!0:c.size&&(m.size=c.size);break;default:m=typeof c.is=="string"?b.createElement(h,{is:c.is}):b.createElement(h)}}m[Ut]=s,m[un]=c;e:for(b=s.child;b!==null;){if(b.tag===5||b.tag===6)m.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===s)break e;for(;b.sibling===null;){if(b.return===null||b.return===s)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}s.stateNode=m;e:switch(Kt(m,h,c),h){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Yr(s)}}return lt(s),ap(s,s.type,r===null?null:r.memoizedProps,s.pendingProps,a),null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&Yr(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(r=pe.current,go(s)){if(r=s.stateNode,a=s.memoizedProps,c=null,h=Bt,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}r[Ut]=s,r=!!(r.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||fS(r.nodeValue,a)),r||Ri(s,!0)}else r=Cu(r).createTextNode(c),r[Ut]=s,s.stateNode=r}return lt(s),null;case 31:if(a=s.memoizedState,r===null||r.memoizedState!==null){if(c=go(s),a!==null){if(r===null){if(!c)throw Error(i(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[Ut]=s}else Ss(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;lt(s),r=!1}else a=yh(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=a),r=!0;if(!r)return s.flags&256?($n(s),s):($n(s),null);if((s.flags&128)!==0)throw Error(i(558))}return lt(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=go(s),c!==null&&c.dehydrated!==null){if(r===null){if(!h)throw Error(i(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Ut]=s}else Ss(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;lt(s),h=!1}else h=yh(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?($n(s),s):($n(s),null)}return $n(s),(s.flags&128)!==0?(s.lanes=a,s):(a=c!==null,r=r!==null&&r.memoizedState!==null,a&&(c=s.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==h&&(c.flags|=2048)),a!==r&&a&&(s.child.flags|=8192),fu(s,s.updateQueue),lt(s),null);case 4:return Se(),r===null&&Op(s.stateNode.containerInfo),lt(s),null;case 10:return Kr(s.type),lt(s),null;case 19:if(B(yt),c=s.memoizedState,c===null)return lt(s),null;if(h=(s.flags&128)!==0,m=c.rendering,m===null)if(h)nl(c,!1);else{if(ht!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(m=Zc(r),m!==null){for(s.flags|=128,nl(c,!1),r=m.updateQueue,s.updateQueue=r,fu(s,r),s.subtreeFlags=0,r=a,a=s.child;a!==null;)Fb(a,r),a=a.sibling;return Z(yt,yt.current&1|2),qe&&Fr(s,c.treeForkCount),s.child}r=r.sibling}c.tail!==null&&ot()>gu&&(s.flags|=128,h=!0,nl(c,!1),s.lanes=4194304)}else{if(!h)if(r=Zc(m),r!==null){if(s.flags|=128,h=!0,r=r.updateQueue,s.updateQueue=r,fu(s,r),nl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!qe)return lt(s),null}else 2*ot()-c.renderingStartTime>gu&&a!==536870912&&(s.flags|=128,h=!0,nl(c,!1),s.lanes=4194304);c.isBackwards?(m.sibling=s.child,s.child=m):(r=c.last,r!==null?r.sibling=m:s.child=m,c.last=m)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=ot(),r.sibling=null,a=yt.current,Z(yt,h?a&1|2:a&1),qe&&Fr(s,c.treeForkCount),r):(lt(s),null);case 22:case 23:return $n(s),Mh(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(a&536870912)!==0&&(s.flags&128)===0&&(lt(s),s.subtreeFlags&6&&(s.flags|=8192)):lt(s),a=s.updateQueue,a!==null&&fu(s,a.retryQueue),a=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==a&&(s.flags|=2048),r!==null&&B(Rs),null;case 24:return a=null,r!==null&&(a=r.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Kr(wt),lt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function UN(r,s){switch(mh(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Kr(wt),Se(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Me(s),null;case 31:if(s.memoizedState!==null){if($n(s),s.alternate===null)throw Error(i(340));Ss()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 13:if($n(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Ss()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return B(yt),null;case 4:return Se(),null;case 10:return Kr(s.type),null;case 22:case 23:return $n(s),Mh(),r!==null&&B(Rs),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Kr(wt),null;case 25:return null;default:return null}}function g0(r,s){switch(mh(s),s.tag){case 3:Kr(wt),Se();break;case 26:case 27:case 5:Me(s);break;case 4:Se();break;case 31:s.memoizedState!==null&&$n(s);break;case 13:$n(s);break;case 19:B(yt);break;case 10:Kr(s.type);break;case 22:case 23:$n(s),Mh(),r!==null&&B(Rs);break;case 24:Kr(wt)}}function rl(r,s){try{var a=s.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var h=c.next;a=h;do{if((a.tag&r)===r){c=void 0;var m=a.create,b=a.inst;c=m(),b.destroy=c}a=a.next}while(a!==h)}}catch(C){Qe(s,s.return,C)}}function Ni(r,s,a){try{var c=s.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var m=h.next;c=m;do{if((c.tag&r)===r){var b=c.inst,C=b.destroy;if(C!==void 0){b.destroy=void 0,h=s;var D=a,Q=C;try{Q()}catch(ee){Qe(h,D,ee)}}}c=c.next}while(c!==m)}}catch(ee){Qe(s,s.return,ee)}}function y0(r){var s=r.updateQueue;if(s!==null){var a=r.stateNode;try{aw(s,a)}catch(c){Qe(r,r.return,c)}}}function v0(r,s,a){a.props=Os(r.type,r.memoizedProps),a.state=r.memoizedState;try{a.componentWillUnmount()}catch(c){Qe(r,s,c)}}function il(r,s){try{var a=r.ref;if(a!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof a=="function"?r.refCleanup=a(c):a.current=c}}catch(h){Qe(r,s,h)}}function xr(r,s){var a=r.ref,c=r.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(h){Qe(r,s,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Qe(r,s,h)}else a.current=null}function b0(r){var s=r.type,a=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(h){Qe(r,r.return,h)}}function lp(r,s,a){try{var c=r.stateNode;ck(c,r.type,a,s),c[un]=s}catch(h){Qe(r,r.return,h)}}function w0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Pi(r.type)||r.tag===4}function cp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||w0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Pi(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function up(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(r,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(r),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=zr));else if(c!==4&&(c===27&&Pi(r.type)&&(a=r.stateNode,s=null),r=r.child,r!==null))for(up(r,s,a),r=r.sibling;r!==null;)up(r,s,a),r=r.sibling}function du(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(c!==4&&(c===27&&Pi(r.type)&&(a=r.stateNode),r=r.child,r!==null))for(du(r,s,a),r=r.sibling;r!==null;)du(r,s,a),r=r.sibling}function S0(r){var s=r.stateNode,a=r.memoizedProps;try{for(var c=r.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);Kt(s,c,a),s[Ut]=r,s[un]=a}catch(m){Qe(r,r.return,m)}}var Xr=!1,Et=!1,fp=!1,x0=typeof WeakSet=="function"?WeakSet:Set,jt=null;function BN(r,s){if(r=r.containerInfo,kp=$u,r=Lb(r),ih(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var h=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var b=0,C=-1,D=-1,Q=0,ee=0,ie=r,Y=null;t:for(;;){for(var J;ie!==a||h!==0&&ie.nodeType!==3||(C=b+h),ie!==m||c!==0&&ie.nodeType!==3||(D=b+c),ie.nodeType===3&&(b+=ie.nodeValue.length),(J=ie.firstChild)!==null;)Y=ie,ie=J;for(;;){if(ie===r)break t;if(Y===a&&++Q===h&&(C=b),Y===m&&++ee===c&&(D=b),(J=ie.nextSibling)!==null)break;ie=Y,Y=ie.parentNode}ie=J}a=C===-1||D===-1?null:{start:C,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for($p={focusedElem:r,selectionRange:a},$u=!1,jt=s;jt!==null;)if(s=jt,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,jt=r;else for(;jt!==null;){switch(s=jt,m=s.alternate,r=s.flags,s.tag){case 0:if((r&4)!==0&&(r=s.updateQueue,r=r!==null?r.events:null,r!==null))for(a=0;a<r.length;a++)h=r[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&m!==null){r=void 0,a=s,h=m.memoizedProps,m=m.memoizedState,c=a.stateNode;try{var me=Os(a.type,h);r=c.getSnapshotBeforeUpdate(me,m),c.__reactInternalSnapshotBeforeUpdate=r}catch(Re){Qe(a,a.return,Re)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,a=r.nodeType,a===9)Ip(r);else if(a===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Ip(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,jt=r;break}jt=s.return}}function E0(r,s,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Zr(r,a),c&4&&rl(5,a);break;case 1:if(Zr(r,a),c&4)if(r=a.stateNode,s===null)try{r.componentDidMount()}catch(b){Qe(a,a.return,b)}else{var h=Os(a.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(h,s,r.__reactInternalSnapshotBeforeUpdate)}catch(b){Qe(a,a.return,b)}}c&64&&y0(a),c&512&&il(a,a.return);break;case 3:if(Zr(r,a),c&64&&(r=a.updateQueue,r!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{aw(r,s)}catch(b){Qe(a,a.return,b)}}break;case 27:s===null&&c&4&&S0(a);case 26:case 5:Zr(r,a),s===null&&c&4&&b0(a),c&512&&il(a,a.return);break;case 12:Zr(r,a);break;case 31:Zr(r,a),c&4&&C0(r,a);break;case 13:Zr(r,a),c&4&&T0(r,a),c&64&&(r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(a=JN.bind(null,a),yk(r,a))));break;case 22:if(c=a.memoizedState!==null||Xr,!c){s=s!==null&&s.memoizedState!==null||Et,h=Xr;var m=Et;Xr=c,(Et=s)&&!m?Wr(r,a,(a.subtreeFlags&8772)!==0):Zr(r,a),Xr=h,Et=m}break;case 30:break;default:Zr(r,a)}}function R0(r){var s=r.alternate;s!==null&&(r.alternate=null,R0(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Ud(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var ft=null,dn=!1;function Jr(r,s,a){for(a=a.child;a!==null;)A0(r,s,a),a=a.sibling}function A0(r,s,a){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(_a,a)}catch{}switch(a.tag){case 26:Et||xr(a,s),Jr(r,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Et||xr(a,s);var c=ft,h=dn;Pi(a.type)&&(ft=a.stateNode,dn=!1),Jr(r,s,a),hl(a.stateNode),ft=c,dn=h;break;case 5:Et||xr(a,s);case 6:if(c=ft,h=dn,ft=null,Jr(r,s,a),ft=c,dn=h,ft!==null)if(dn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(a.stateNode)}catch(m){Qe(a,s,m)}else try{ft.removeChild(a.stateNode)}catch(m){Qe(a,s,m)}break;case 18:ft!==null&&(dn?(r=ft,yS(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.stateNode),jo(r)):yS(ft,a.stateNode));break;case 4:c=ft,h=dn,ft=a.stateNode.containerInfo,dn=!0,Jr(r,s,a),ft=c,dn=h;break;case 0:case 11:case 14:case 15:Ni(2,a,s),Et||Ni(4,a,s),Jr(r,s,a);break;case 1:Et||(xr(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"&&v0(a,s,c)),Jr(r,s,a);break;case 21:Jr(r,s,a);break;case 22:Et=(c=Et)||a.memoizedState!==null,Jr(r,s,a),Et=c;break;default:Jr(r,s,a)}}function C0(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{jo(r)}catch(a){Qe(s,s.return,a)}}}function T0(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{jo(r)}catch(a){Qe(s,s.return,a)}}function FN(r){switch(r.tag){case 31:case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new x0),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new x0),s;default:throw Error(i(435,r.tag))}}function hu(r,s){var a=FN(r);s.forEach(function(c){if(!a.has(c)){a.add(c);var h=ZN.bind(null,r,c);c.then(h,h)}})}function hn(r,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var h=a[c],m=r,b=s,C=b;e:for(;C!==null;){switch(C.tag){case 27:if(Pi(C.type)){ft=C.stateNode,dn=!1;break e}break;case 5:ft=C.stateNode,dn=!1;break e;case 3:case 4:ft=C.stateNode.containerInfo,dn=!0;break e}C=C.return}if(ft===null)throw Error(i(160));A0(m,b,h),ft=null,dn=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)_0(s,r),s=s.sibling}var sr=null;function _0(r,s){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:hn(s,r),pn(r),c&4&&(Ni(3,r,r.return),rl(3,r),Ni(5,r,r.return));break;case 1:hn(s,r),pn(r),c&512&&(Et||a===null||xr(a,a.return)),c&64&&Xr&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(a=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var h=sr;if(hn(s,r),pn(r),c&512&&(Et||a===null||xr(a,a.return)),c&4){var m=a!==null?a.memoizedState:null;if(c=r.memoizedState,a===null)if(c===null)if(r.stateNode===null){e:{c=r.type,a=r.memoizedProps,h=h.ownerDocument||h;t:switch(c){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Na]||m[Ut]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(c),h.head.insertBefore(m,h.querySelector("head > title"))),Kt(m,c,a),m[Ut]=r,It(m),c=m;break e;case"link":var b=_S("link","href",h).get(c+(a.href||""));if(b){for(var C=0;C<b.length;C++)if(m=b[C],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(C,1);break t}}m=h.createElement(c),Kt(m,c,a),h.head.appendChild(m);break;case"meta":if(b=_S("meta","content",h).get(c+(a.content||""))){for(C=0;C<b.length;C++)if(m=b[C],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(C,1);break t}}m=h.createElement(c),Kt(m,c,a),h.head.appendChild(m);break;default:throw Error(i(468,c))}m[Ut]=r,It(m),c=m}r.stateNode=c}else OS(h,r.type,r.stateNode);else r.stateNode=TS(h,c,r.memoizedProps);else m!==c?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,c===null?OS(h,r.type,r.stateNode):TS(h,c,r.memoizedProps)):c===null&&r.stateNode!==null&&lp(r,r.memoizedProps,a.memoizedProps)}break;case 27:hn(s,r),pn(r),c&512&&(Et||a===null||xr(a,a.return)),a!==null&&c&4&&lp(r,r.memoizedProps,a.memoizedProps);break;case 5:if(hn(s,r),pn(r),c&512&&(Et||a===null||xr(a,a.return)),r.flags&32){h=r.stateNode;try{so(h,"")}catch(me){Qe(r,r.return,me)}}c&4&&r.stateNode!=null&&(h=r.memoizedProps,lp(r,h,a!==null?a.memoizedProps:h)),c&1024&&(fp=!0);break;case 6:if(hn(s,r),pn(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,a=r.stateNode;try{a.nodeValue=c}catch(me){Qe(r,r.return,me)}}break;case 3:if(Ou=null,h=sr,sr=Tu(s.containerInfo),hn(s,r),sr=h,pn(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{jo(s.containerInfo)}catch(me){Qe(r,r.return,me)}fp&&(fp=!1,O0(r));break;case 4:c=sr,sr=Tu(r.stateNode.containerInfo),hn(s,r),pn(r),sr=c;break;case 12:hn(s,r),pn(r);break;case 31:hn(s,r),pn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,hu(r,c)));break;case 13:hn(s,r),pn(r),r.child.flags&8192&&r.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(mu=ot()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,hu(r,c)));break;case 22:h=r.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,Q=Xr,ee=Et;if(Xr=Q||h,Et=ee||D,hn(s,r),Et=ee,Xr=Q,pn(r),c&8192)e:for(s=r.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(a===null||D||Xr||Et||Ms(r)),a=null,s=r;;){if(s.tag===5||s.tag===26){if(a===null){D=a=s;try{if(m=D.stateNode,h)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{C=D.stateNode;var ie=D.memoizedProps.style,Y=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;C.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(me){Qe(D,D.return,me)}}}else if(s.tag===6){if(a===null){D=s;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(me){Qe(D,D.return,me)}}}else if(s.tag===18){if(a===null){D=s;try{var J=D.stateNode;h?vS(J,!0):vS(D.stateNode,!1)}catch(me){Qe(D,D.return,me)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,hu(r,a))));break;case 19:hn(s,r),pn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,hu(r,c)));break;case 30:break;case 21:break;default:hn(s,r),pn(r)}}function pn(r){var s=r.flags;if(s&2){try{for(var a,c=r.return;c!==null;){if(w0(c)){a=c;break}c=c.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var h=a.stateNode,m=cp(r);du(r,m,h);break;case 5:var b=a.stateNode;a.flags&32&&(so(b,""),a.flags&=-33);var C=cp(r);du(r,C,b);break;case 3:case 4:var D=a.stateNode.containerInfo,Q=cp(r);up(r,Q,D);break;default:throw Error(i(161))}}catch(ee){Qe(r,r.return,ee)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function O0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;O0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Zr(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)E0(r,s.alternate,s),s=s.sibling}function Ms(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Ni(4,s,s.return),Ms(s);break;case 1:xr(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&v0(s,s.return,a),Ms(s);break;case 27:hl(s.stateNode);case 26:case 5:xr(s,s.return),Ms(s);break;case 22:s.memoizedState===null&&Ms(s);break;case 30:Ms(s);break;default:Ms(s)}r=r.sibling}}function Wr(r,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,h=r,m=s,b=m.flags;switch(m.tag){case 0:case 11:case 15:Wr(h,m,a),rl(4,m);break;case 1:if(Wr(h,m,a),c=m,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Q){Qe(c,c.return,Q)}if(c=m,h=c.updateQueue,h!==null){var C=c.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)ow(D[h],C)}catch(Q){Qe(c,c.return,Q)}}a&&b&64&&y0(m),il(m,m.return);break;case 27:S0(m);case 26:case 5:Wr(h,m,a),a&&c===null&&b&4&&b0(m),il(m,m.return);break;case 12:Wr(h,m,a);break;case 31:Wr(h,m,a),a&&b&4&&C0(h,m);break;case 13:Wr(h,m,a),a&&b&4&&T0(h,m);break;case 22:m.memoizedState===null&&Wr(h,m,a),il(m,m.return);break;case 30:break;default:Wr(h,m,a)}s=s.sibling}}function dp(r,s){var a=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==a&&(r!=null&&r.refCount++,a!=null&&Va(a))}function hp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Va(r))}function or(r,s,a,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)M0(r,s,a,c),s=s.sibling}function M0(r,s,a,c){var h=s.flags;switch(s.tag){case 0:case 11:case 15:or(r,s,a,c),h&2048&&rl(9,s);break;case 1:or(r,s,a,c);break;case 3:or(r,s,a,c),h&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Va(r)));break;case 12:if(h&2048){or(r,s,a,c),r=s.stateNode;try{var m=s.memoizedProps,b=m.id,C=m.onPostCommit;typeof C=="function"&&C(b,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(D){Qe(s,s.return,D)}}else or(r,s,a,c);break;case 31:or(r,s,a,c);break;case 13:or(r,s,a,c);break;case 23:break;case 22:m=s.stateNode,b=s.alternate,s.memoizedState!==null?m._visibility&2?or(r,s,a,c):sl(r,s):m._visibility&2?or(r,s,a,c):(m._visibility|=2,Co(r,s,a,c,(s.subtreeFlags&10256)!==0||!1)),h&2048&&dp(b,s);break;case 24:or(r,s,a,c),h&2048&&hp(s.alternate,s);break;default:or(r,s,a,c)}}function Co(r,s,a,c,h){for(h=h&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=r,b=s,C=a,D=c,Q=b.flags;switch(b.tag){case 0:case 11:case 15:Co(m,b,C,D,h),rl(8,b);break;case 23:break;case 22:var ee=b.stateNode;b.memoizedState!==null?ee._visibility&2?Co(m,b,C,D,h):sl(m,b):(ee._visibility|=2,Co(m,b,C,D,h)),h&&Q&2048&&dp(b.alternate,b);break;case 24:Co(m,b,C,D,h),h&&Q&2048&&hp(b.alternate,b);break;default:Co(m,b,C,D,h)}s=s.sibling}}function sl(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=r,c=s,h=c.flags;switch(c.tag){case 22:sl(a,c),h&2048&&dp(c.alternate,c);break;case 24:sl(a,c),h&2048&&hp(c.alternate,c);break;default:sl(a,c)}s=s.sibling}}var ol=8192;function To(r,s,a){if(r.subtreeFlags&ol)for(r=r.child;r!==null;)N0(r,s,a),r=r.sibling}function N0(r,s,a){switch(r.tag){case 26:To(r,s,a),r.flags&ol&&r.memoizedState!==null&&Ok(a,sr,r.memoizedState,r.memoizedProps);break;case 5:To(r,s,a);break;case 3:case 4:var c=sr;sr=Tu(r.stateNode.containerInfo),To(r,s,a),sr=c;break;case 22:r.memoizedState===null&&(c=r.alternate,c!==null&&c.memoizedState!==null?(c=ol,ol=16777216,To(r,s,a),ol=c):To(r,s,a));break;default:To(r,s,a)}}function k0(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function al(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];jt=c,L0(c,r)}k0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)$0(r),r=r.sibling}function $0(r){switch(r.tag){case 0:case 11:case 15:al(r),r.flags&2048&&Ni(9,r,r.return);break;case 3:al(r);break;case 12:al(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,pu(r)):al(r);break;default:al(r)}}function pu(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];jt=c,L0(c,r)}k0(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Ni(8,s,s.return),pu(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,pu(s));break;default:pu(s)}r=r.sibling}}function L0(r,s){for(;jt!==null;){var a=jt;switch(a.tag){case 0:case 11:case 15:Ni(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Va(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,jt=c;else e:for(a=r;jt!==null;){c=jt;var h=c.sibling,m=c.return;if(R0(c),c===a){jt=null;break e}if(h!==null){h.return=m,jt=h;break e}jt=m}}}var VN={getCacheForType:function(r){var s=Ft(wt),a=s.data.get(r);return a===void 0&&(a=r(),s.data.set(r,a)),a},cacheSignal:function(){return Ft(wt).controller.signal}},KN=typeof WeakMap=="function"?WeakMap:Map,Ve=0,et=null,Le=null,je=0,Ge=0,Ln=null,ki=!1,_o=!1,pp=!1,ei=0,ht=0,$i=0,Ns=0,mp=0,Dn=0,Oo=0,ll=null,mn=null,gp=!1,mu=0,D0=0,gu=1/0,yu=null,Li=null,Ot=0,Di=null,Mo=null,ti=0,yp=0,vp=null,I0=null,cl=0,bp=null;function In(){return(Ve&2)!==0&&je!==0?je&-je:N.T!==null?Ap():Zv()}function j0(){if(Dn===0)if((je&536870912)===0||qe){var r=Ac;Ac<<=1,(Ac&3932160)===0&&(Ac=262144),Dn=r}else Dn=536870912;return r=kn.current,r!==null&&(r.flags|=32),Dn}function gn(r,s,a){(r===et&&(Ge===2||Ge===9)||r.cancelPendingCommit!==null)&&(No(r,0),Ii(r,je,Dn,!1)),Ma(r,a),((Ve&2)===0||r!==et)&&(r===et&&((Ve&2)===0&&(Ns|=a),ht===4&&Ii(r,je,Dn,!1)),Er(r))}function P0(r,s,a){if((Ve&6)!==0)throw Error(i(327));var c=!a&&(s&127)===0&&(s&r.expiredLanes)===0||Oa(r,s),h=c?QN(r,s):Sp(r,s,!0),m=c;do{if(h===0){_o&&!c&&Ii(r,s,0,!1);break}else{if(a=r.current.alternate,m&&!HN(a)){h=Sp(r,s,!1),m=!1;continue}if(h===2){if(m=s,r.errorRecoveryDisabledLanes&m)var b=0;else b=r.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var C=r;h=ll;var D=C.current.memoizedState.isDehydrated;if(D&&(No(C,b).flags|=256),b=Sp(C,b,!1),b!==2){if(pp&&!D){C.errorRecoveryDisabledLanes|=m,Ns|=m,h=4;break e}m=mn,mn=h,m!==null&&(mn===null?mn=m:mn.push.apply(mn,m))}h=b}if(m=!1,h!==2)continue}}if(h===1){No(r,0),Ii(r,s,0,!0);break}e:{switch(c=r,m=h,m){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Ii(c,s,Dn,!ki);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(h=mu+300-ot(),10<h)){if(Ii(c,s,Dn,!ki),Tc(c,0,!0)!==0)break e;ti=s,c.timeoutHandle=mS(q0.bind(null,c,a,mn,yu,gp,s,Dn,Ns,Oo,ki,m,"Throttled",-0,0),h);break e}q0(c,a,mn,yu,gp,s,Dn,Ns,Oo,ki,m,null,-0,0)}}break}while(!0);Er(r)}function q0(r,s,a,c,h,m,b,C,D,Q,ee,ie,Y,J){if(r.timeoutHandle=-1,ie=s.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zr},N0(s,m,ie);var me=(m&62914560)===m?mu-ot():(m&4194048)===m?D0-ot():0;if(me=Mk(ie,me),me!==null){ti=m,r.cancelPendingCommit=me(G0.bind(null,r,s,m,a,c,h,b,C,D,ee,ie,null,Y,J)),Ii(r,m,b,!Q);return}}G0(r,s,m,a,c,h,b,C,D)}function HN(r){for(var s=r;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var h=a[c],m=h.getSnapshot;h=h.value;try{if(!Mn(m(),h))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ii(r,s,a,c){s&=~mp,s&=~Ns,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var h=s;0<h;){var m=31-On(h),b=1<<m;c[m]=-1,h&=~b}a!==0&&Yv(r,a,s)}function vu(){return(Ve&6)===0?(ul(0),!1):!0}function wp(){if(Le!==null){if(Ge===0)var r=Le.return;else r=Le,Vr=xs=null,Ih(r),So=null,Ha=0,r=Le;for(;r!==null;)g0(r.alternate,r),r=r.return;Le=null}}function No(r,s){var a=r.timeoutHandle;a!==-1&&(r.timeoutHandle=-1,dk(a)),a=r.cancelPendingCommit,a!==null&&(r.cancelPendingCommit=null,a()),ti=0,wp(),et=r,Le=a=Br(r.current,null),je=s,Ge=0,Ln=null,ki=!1,_o=Oa(r,s),pp=!1,Oo=Dn=mp=Ns=$i=ht=0,mn=ll=null,gp=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var h=31-On(c),m=1<<h;s|=r[h],c&=~m}return ei=s,qc(),a}function z0(r,s){Oe=null,N.H=el,s===wo||s===Gc?(s=nw(),Ge=3):s===Rh?(s=nw(),Ge=4):Ge=s===Zh?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ln=s,Le===null&&(ht=1,au(r,Vn(s,r.current)))}function U0(){var r=kn.current;return r===null?!0:(je&4194048)===je?Qn===null:(je&62914560)===je||(je&536870912)!==0?r===Qn:!1}function B0(){var r=N.H;return N.H=el,r===null?el:r}function F0(){var r=N.A;return N.A=VN,r}function bu(){ht=4,ki||(je&4194048)!==je&&kn.current!==null||(_o=!0),($i&134217727)===0&&(Ns&134217727)===0||et===null||Ii(et,je,Dn,!1)}function Sp(r,s,a){var c=Ve;Ve|=2;var h=B0(),m=F0();(et!==r||je!==s)&&(yu=null,No(r,s)),s=!1;var b=ht;e:do try{if(Ge!==0&&Le!==null){var C=Le,D=Ln;switch(Ge){case 8:wp(),b=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(s=!0);var Q=Ge;if(Ge=0,Ln=null,ko(r,C,D,Q),a&&_o){b=0;break e}break;default:Q=Ge,Ge=0,Ln=null,ko(r,C,D,Q)}}GN(),b=ht;break}catch(ee){z0(r,ee)}while(!0);return s&&r.shellSuspendCounter++,Vr=xs=null,Ve=c,N.H=h,N.A=m,Le===null&&(et=null,je=0,qc()),b}function GN(){for(;Le!==null;)V0(Le)}function QN(r,s){var a=Ve;Ve|=2;var c=B0(),h=F0();et!==r||je!==s?(yu=null,gu=ot()+500,No(r,s)):_o=Oa(r,s);e:do try{if(Ge!==0&&Le!==null){s=Le;var m=Ln;t:switch(Ge){case 1:Ge=0,Ln=null,ko(r,s,m,1);break;case 2:case 9:if(ew(m)){Ge=0,Ln=null,K0(s);break}s=function(){Ge!==2&&Ge!==9||et!==r||(Ge=7),Er(r)},m.then(s,s);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:ew(m)?(Ge=0,Ln=null,K0(s)):(Ge=0,Ln=null,ko(r,s,m,7));break;case 5:var b=null;switch(Le.tag){case 26:b=Le.memoizedState;case 5:case 27:var C=Le;if(b?MS(b):C.stateNode.complete){Ge=0,Ln=null;var D=C.sibling;if(D!==null)Le=D;else{var Q=C.return;Q!==null?(Le=Q,wu(Q)):Le=null}break t}}Ge=0,Ln=null,ko(r,s,m,5);break;case 6:Ge=0,Ln=null,ko(r,s,m,6);break;case 8:wp(),ht=6;break e;default:throw Error(i(462))}}YN();break}catch(ee){z0(r,ee)}while(!0);return Vr=xs=null,N.H=c,N.A=h,Ve=a,Le!==null?0:(et=null,je=0,qc(),ht)}function YN(){for(;Le!==null&&!Ie();)V0(Le)}function V0(r){var s=p0(r.alternate,r,ei);r.memoizedProps=r.pendingProps,s===null?wu(r):Le=s}function K0(r){var s=r,a=s.alternate;switch(s.tag){case 15:case 0:s=l0(a,s,s.pendingProps,s.type,void 0,je);break;case 11:s=l0(a,s,s.pendingProps,s.type.render,s.ref,je);break;case 5:Ih(s);default:g0(a,s),s=Le=Fb(s,ei),s=p0(a,s,ei)}r.memoizedProps=r.pendingProps,s===null?wu(r):Le=s}function ko(r,s,a,c){Vr=xs=null,Ih(s),So=null,Ha=0;var h=s.return;try{if(jN(r,h,s,a,je)){ht=1,au(r,Vn(a,r.current)),Le=null;return}}catch(m){if(h!==null)throw Le=h,m;ht=1,au(r,Vn(a,r.current)),Le=null;return}s.flags&32768?(qe||c===1?r=!0:_o||(je&536870912)!==0?r=!1:(ki=r=!0,(c===2||c===9||c===3||c===6)&&(c=kn.current,c!==null&&c.tag===13&&(c.flags|=16384))),H0(s,r)):wu(s)}function wu(r){var s=r;do{if((s.flags&32768)!==0){H0(s,ki);return}r=s.return;var a=zN(s.alternate,s,ei);if(a!==null){Le=a;return}if(s=s.sibling,s!==null){Le=s;return}Le=s=r}while(s!==null);ht===0&&(ht=5)}function H0(r,s){do{var a=UN(r.alternate,r);if(a!==null){a.flags&=32767,Le=a;return}if(a=r.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(r=r.sibling,r!==null)){Le=r;return}Le=r=a}while(r!==null);ht=6,Le=null}function G0(r,s,a,c,h,m,b,C,D){r.cancelPendingCommit=null;do Su();while(Ot!==0);if((Ve&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(m=s.lanes|s.childLanes,m|=ch,_M(r,a,m,b,C,D),r===et&&(Le=et=null,je=0),Mo=s,Di=r,ti=a,yp=m,vp=h,I0=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,WN(Qt,function(){return Z0(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=N.T,N.T=null,h=P.p,P.p=2,b=Ve,Ve|=4;try{BN(r,s,a)}finally{Ve=b,P.p=h,N.T=c}}Ot=1,Q0(),Y0(),X0()}}function Q0(){if(Ot===1){Ot=0;var r=Di,s=Mo,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=N.T,N.T=null;var c=P.p;P.p=2;var h=Ve;Ve|=4;try{_0(s,r);var m=$p,b=Lb(r.containerInfo),C=m.focusedElem,D=m.selectionRange;if(b!==C&&C&&C.ownerDocument&&$b(C.ownerDocument.documentElement,C)){if(D!==null&&ih(C)){var Q=D.start,ee=D.end;if(ee===void 0&&(ee=Q),"selectionStart"in C)C.selectionStart=Q,C.selectionEnd=Math.min(ee,C.value.length);else{var ie=C.ownerDocument||document,Y=ie&&ie.defaultView||window;if(Y.getSelection){var J=Y.getSelection(),me=C.textContent.length,Re=Math.min(D.start,me),Je=D.end===void 0?Re:Math.min(D.end,me);!J.extend&&Re>Je&&(b=Je,Je=Re,Re=b);var V=kb(C,Re),z=kb(C,Je);if(V&&z&&(J.rangeCount!==1||J.anchorNode!==V.node||J.anchorOffset!==V.offset||J.focusNode!==z.node||J.focusOffset!==z.offset)){var G=ie.createRange();G.setStart(V.node,V.offset),J.removeAllRanges(),Re>Je?(J.addRange(G),J.extend(z.node,z.offset)):(G.setEnd(z.node,z.offset),J.addRange(G))}}}}for(ie=[],J=C;J=J.parentNode;)J.nodeType===1&&ie.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ie.length;C++){var te=ie[C];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}$u=!!kp,$p=kp=null}finally{Ve=h,P.p=c,N.T=a}}r.current=s,Ot=2}}function Y0(){if(Ot===2){Ot=0;var r=Di,s=Mo,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=N.T,N.T=null;var c=P.p;P.p=2;var h=Ve;Ve|=4;try{E0(r,s.alternate,s)}finally{Ve=h,P.p=c,N.T=a}}Ot=3}}function X0(){if(Ot===4||Ot===3){Ot=0,Tn();var r=Di,s=Mo,a=ti,c=I0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ot=5:(Ot=0,Mo=Di=null,J0(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&(Li=null),qd(a),s=s.stateNode,_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(_a,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=N.T,h=P.p,P.p=2,N.T=null;try{for(var m=r.onRecoverableError,b=0;b<c.length;b++){var C=c[b];m(C.value,{componentStack:C.stack})}}finally{N.T=s,P.p=h}}(ti&3)!==0&&Su(),Er(r),h=r.pendingLanes,(a&261930)!==0&&(h&42)!==0?r===bp?cl++:(cl=0,bp=r):cl=0,ul(0)}}function J0(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Va(s)))}function Su(){return Q0(),Y0(),X0(),Z0()}function Z0(){if(Ot!==5)return!1;var r=Di,s=yp;yp=0;var a=qd(ti),c=N.T,h=P.p;try{P.p=32>a?32:a,N.T=null,a=vp,vp=null;var m=Di,b=ti;if(Ot=0,Mo=Di=null,ti=0,(Ve&6)!==0)throw Error(i(331));var C=Ve;if(Ve|=4,$0(m.current),M0(m,m.current,b,a),Ve=C,ul(0,!1),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(_a,m)}catch{}return!0}finally{P.p=h,N.T=c,J0(r,s)}}function W0(r,s,a){s=Vn(a,s),s=Jh(r.stateNode,s,2),r=_i(r,s,2),r!==null&&(Ma(r,2),Er(r))}function Qe(r,s,a){if(r.tag===3)W0(r,r,a);else for(;s!==null;){if(s.tag===3){W0(s,r,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Li===null||!Li.has(c))){r=Vn(a,r),a=e0(2),c=_i(s,a,2),c!==null&&(t0(a,c,s,r),Ma(c,2),Er(c));break}}s=s.return}}function xp(r,s,a){var c=r.pingCache;if(c===null){c=r.pingCache=new KN;var h=new Set;c.set(s,h)}else h=c.get(s),h===void 0&&(h=new Set,c.set(s,h));h.has(a)||(pp=!0,h.add(a),r=XN.bind(null,r,s,a),s.then(r,r))}function XN(r,s,a){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&a,r.warmLanes&=~a,et===r&&(je&a)===a&&(ht===4||ht===3&&(je&62914560)===je&&300>ot()-mu?(Ve&2)===0&&No(r,0):mp|=a,Oo===je&&(Oo=0)),Er(r)}function eS(r,s){s===0&&(s=Qv()),r=bs(r,s),r!==null&&(Ma(r,s),Er(r))}function JN(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),eS(r,a)}function ZN(r,s){var a=0;switch(r.tag){case 31:case 13:var c=r.stateNode,h=r.memoizedState;h!==null&&(a=h.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),eS(r,a)}function WN(r,s){return ve(r,s)}var xu=null,$o=null,Ep=!1,Eu=!1,Rp=!1,ji=0;function Er(r){r!==$o&&r.next===null&&($o===null?xu=$o=r:$o=$o.next=r),Eu=!0,Ep||(Ep=!0,tk())}function ul(r,s){if(!Rp&&Eu){Rp=!0;do for(var a=!1,c=xu;c!==null;){if(r!==0){var h=c.pendingLanes;if(h===0)var m=0;else{var b=c.suspendedLanes,C=c.pingedLanes;m=(1<<31-On(42|r)+1)-1,m&=h&~(b&~C),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,iS(c,m))}else m=je,m=Tc(c,c===et?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||Oa(c,m)||(a=!0,iS(c,m));c=c.next}while(a);Rp=!1}}function ek(){tS()}function tS(){Eu=Ep=!1;var r=0;ji!==0&&fk()&&(r=ji);for(var s=ot(),a=null,c=xu;c!==null;){var h=c.next,m=nS(c,s);m===0?(c.next=null,a===null?xu=h:a.next=h,h===null&&($o=a)):(a=c,(r!==0||(m&3)!==0)&&(Eu=!0)),c=h}Ot!==0&&Ot!==5||ul(r),ji!==0&&(ji=0)}function nS(r,s){for(var a=r.suspendedLanes,c=r.pingedLanes,h=r.expirationTimes,m=r.pendingLanes&-62914561;0<m;){var b=31-On(m),C=1<<b,D=h[b];D===-1?((C&a)===0||(C&c)!==0)&&(h[b]=TM(C,s)):D<=s&&(r.expiredLanes|=C),m&=~C}if(s=et,a=je,a=Tc(r,r===s?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,a===0||r===s&&(Ge===2||Ge===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&$e(c),r.callbackNode=null,r.callbackPriority=0;if((a&3)===0||Oa(r,a)){if(s=a&-a,s===r.callbackPriority)return s;switch(c!==null&&$e(c),qd(a)){case 2:case 8:a=_t;break;case 32:a=Qt;break;case 268435456:a=Gv;break;default:a=Qt}return c=rS.bind(null,r),a=ve(a,c),r.callbackPriority=s,r.callbackNode=a,s}return c!==null&&c!==null&&$e(c),r.callbackPriority=2,r.callbackNode=null,2}function rS(r,s){if(Ot!==0&&Ot!==5)return r.callbackNode=null,r.callbackPriority=0,null;var a=r.callbackNode;if(Su()&&r.callbackNode!==a)return null;var c=je;return c=Tc(r,r===et?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(P0(r,c,s),nS(r,ot()),r.callbackNode!=null&&r.callbackNode===a?rS.bind(null,r):null)}function iS(r,s){if(Su())return null;P0(r,s,!0)}function tk(){hk(function(){(Ve&6)!==0?ve(We,ek):tS()})}function Ap(){if(ji===0){var r=vo;r===0&&(r=Rc,Rc<<=1,(Rc&261888)===0&&(Rc=256)),ji=r}return ji}function sS(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Nc(""+r)}function oS(r,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,r.id&&a.setAttribute("form",r.id),s.parentNode.insertBefore(a,s),r=new FormData(r),a.parentNode.removeChild(a),r}function nk(r,s,a,c,h){if(s==="submit"&&a&&a.stateNode===h){var m=sS((h[un]||null).action),b=c.submitter;b&&(s=(s=b[un]||null)?sS(s.formAction):b.getAttribute("formAction"),s!==null&&(m=s,b=null));var C=new Dc("action","action",null,c,h);r.push({event:C,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ji!==0){var D=b?oS(h,b):new FormData(h);Kh(a,{pending:!0,data:D,method:h.method,action:m},null,D)}}else typeof m=="function"&&(C.preventDefault(),D=b?oS(h,b):new FormData(h),Kh(a,{pending:!0,data:D,method:h.method,action:m},m,D))},currentTarget:h}]})}}for(var Cp=0;Cp<lh.length;Cp++){var Tp=lh[Cp],rk=Tp.toLowerCase(),ik=Tp[0].toUpperCase()+Tp.slice(1);ir(rk,"on"+ik)}ir(jb,"onAnimationEnd"),ir(Pb,"onAnimationIteration"),ir(qb,"onAnimationStart"),ir("dblclick","onDoubleClick"),ir("focusin","onFocus"),ir("focusout","onBlur"),ir(wN,"onTransitionRun"),ir(SN,"onTransitionStart"),ir(xN,"onTransitionCancel"),ir(zb,"onTransitionEnd"),ro("onMouseEnter",["mouseout","mouseover"]),ro("onMouseLeave",["mouseout","mouseover"]),ro("onPointerEnter",["pointerout","pointerover"]),ro("onPointerLeave",["pointerout","pointerover"]),ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ms("onBeforeInput",["compositionend","keypress","textInput","paste"]),ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fl));function aS(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],h=c.event;c=c.listeners;e:{var m=void 0;if(s)for(var b=c.length-1;0<=b;b--){var C=c[b],D=C.instance,Q=C.currentTarget;if(C=C.listener,D!==m&&h.isPropagationStopped())break e;m=C,h.currentTarget=Q;try{m(h)}catch(ee){Pc(ee)}h.currentTarget=null,m=D}else for(b=0;b<c.length;b++){if(C=c[b],D=C.instance,Q=C.currentTarget,C=C.listener,D!==m&&h.isPropagationStopped())break e;m=C,h.currentTarget=Q;try{m(h)}catch(ee){Pc(ee)}h.currentTarget=null,m=D}}}}function De(r,s){var a=s[zd];a===void 0&&(a=s[zd]=new Set);var c=r+"__bubble";a.has(c)||(lS(s,r,2,!1),a.add(c))}function _p(r,s,a){var c=0;s&&(c|=4),lS(a,r,c,s)}var Ru="_reactListening"+Math.random().toString(36).slice(2);function Op(r){if(!r[Ru]){r[Ru]=!0,tb.forEach(function(a){a!=="selectionchange"&&(sk.has(a)||_p(a,!1,r),_p(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Ru]||(s[Ru]=!0,_p("selectionchange",!1,s))}}function lS(r,s,a,c){switch(jS(s)){case 2:var h=$k;break;case 8:h=Lk;break;default:h=Vp}a=h.bind(null,s,a,r),h=void 0,!Yd||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),c?h!==void 0?r.addEventListener(s,a,{capture:!0,passive:h}):r.addEventListener(s,a,!0):h!==void 0?r.addEventListener(s,a,{passive:h}):r.addEventListener(s,a,!1)}function Mp(r,s,a,c,h){var m=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var C=c.stateNode.containerInfo;if(C===h)break;if(b===4)for(b=c.return;b!==null;){var D=b.tag;if((D===3||D===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;C!==null;){if(b=eo(C),b===null)return;if(D=b.tag,D===5||D===6||D===26||D===27){c=m=b;continue e}C=C.parentNode}}c=c.return}hb(function(){var Q=m,ee=Gd(a),ie=[];e:{var Y=Ub.get(r);if(Y!==void 0){var J=Dc,me=r;switch(r){case"keypress":if($c(a)===0)break e;case"keydown":case"keyup":J=ZM;break;case"focusin":me="focus",J=Wd;break;case"focusout":me="blur",J=Wd;break;case"beforeblur":case"afterblur":J=Wd;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=gb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=zM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=tN;break;case jb:case Pb:case qb:J=FM;break;case zb:J=rN;break;case"scroll":case"scrollend":J=PM;break;case"wheel":J=sN;break;case"copy":case"cut":case"paste":J=KM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=vb;break;case"toggle":case"beforetoggle":J=aN}var Re=(s&4)!==0,Je=!Re&&(r==="scroll"||r==="scrollend"),V=Re?Y!==null?Y+"Capture":null:Y;Re=[];for(var z=Q,G;z!==null;){var te=z;if(G=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||G===null||V===null||(te=$a(z,V),te!=null&&Re.push(dl(z,te,G))),Je)break;z=z.return}0<Re.length&&(Y=new J(Y,me,null,a,ee),ie.push({event:Y,listeners:Re}))}}if((s&7)===0){e:{if(Y=r==="mouseover"||r==="pointerover",J=r==="mouseout"||r==="pointerout",Y&&a!==Hd&&(me=a.relatedTarget||a.fromElement)&&(eo(me)||me[Ws]))break e;if((J||Y)&&(Y=ee.window===ee?ee:(Y=ee.ownerDocument)?Y.defaultView||Y.parentWindow:window,J?(me=a.relatedTarget||a.toElement,J=Q,me=me?eo(me):null,me!==null&&(Je=l(me),Re=me.tag,me!==Je||Re!==5&&Re!==27&&Re!==6)&&(me=null)):(J=null,me=Q),J!==me)){if(Re=gb,te="onMouseLeave",V="onMouseEnter",z="mouse",(r==="pointerout"||r==="pointerover")&&(Re=vb,te="onPointerLeave",V="onPointerEnter",z="pointer"),Je=J==null?Y:ka(J),G=me==null?Y:ka(me),Y=new Re(te,z+"leave",J,a,ee),Y.target=Je,Y.relatedTarget=G,te=null,eo(ee)===Q&&(Re=new Re(V,z+"enter",me,a,ee),Re.target=G,Re.relatedTarget=Je,te=Re),Je=te,J&&me)t:{for(Re=ok,V=J,z=me,G=0,te=V;te;te=Re(te))G++;te=0;for(var xe=z;xe;xe=Re(xe))te++;for(;0<G-te;)V=Re(V),G--;for(;0<te-G;)z=Re(z),te--;for(;G--;){if(V===z||z!==null&&V===z.alternate){Re=V;break t}V=Re(V),z=Re(z)}Re=null}else Re=null;J!==null&&cS(ie,Y,J,Re,!1),me!==null&&Je!==null&&cS(ie,Je,me,Re,!0)}}e:{if(Y=Q?ka(Q):window,J=Y.nodeName&&Y.nodeName.toLowerCase(),J==="select"||J==="input"&&Y.type==="file")var Ue=Cb;else if(Rb(Y))if(Tb)Ue=yN;else{Ue=mN;var be=pN}else J=Y.nodeName,!J||J.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?Q&&Kd(Q.elementType)&&(Ue=Cb):Ue=gN;if(Ue&&(Ue=Ue(r,Q))){Ab(ie,Ue,a,ee);break e}be&&be(r,Y,Q),r==="focusout"&&Q&&Y.type==="number"&&Q.memoizedProps.value!=null&&Vd(Y,"number",Y.value)}switch(be=Q?ka(Q):window,r){case"focusin":(Rb(be)||be.contentEditable==="true")&&(co=be,sh=Q,Ua=null);break;case"focusout":Ua=sh=co=null;break;case"mousedown":oh=!0;break;case"contextmenu":case"mouseup":case"dragend":oh=!1,Db(ie,a,ee);break;case"selectionchange":if(bN)break;case"keydown":case"keyup":Db(ie,a,ee)}var Ne;if(th)e:{switch(r){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else lo?xb(r,a)&&(Pe="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(bb&&a.locale!=="ko"&&(lo||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&lo&&(Ne=pb()):(Si=ee,Xd="value"in Si?Si.value:Si.textContent,lo=!0)),be=Au(Q,Pe),0<be.length&&(Pe=new yb(Pe,r,null,a,ee),ie.push({event:Pe,listeners:be}),Ne?Pe.data=Ne:(Ne=Eb(a),Ne!==null&&(Pe.data=Ne)))),(Ne=cN?uN(r,a):fN(r,a))&&(Pe=Au(Q,"onBeforeInput"),0<Pe.length&&(be=new yb("onBeforeInput","beforeinput",null,a,ee),ie.push({event:be,listeners:Pe}),be.data=Ne)),nk(ie,r,Q,a,ee)}aS(ie,s)})}function dl(r,s,a){return{instance:r,listener:s,currentTarget:a}}function Au(r,s){for(var a=s+"Capture",c=[];r!==null;){var h=r,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=$a(r,a),h!=null&&c.unshift(dl(r,h,m)),h=$a(r,s),h!=null&&c.push(dl(r,h,m))),r.tag===3)return c;r=r.return}return[]}function ok(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function cS(r,s,a,c,h){for(var m=s._reactName,b=[];a!==null&&a!==c;){var C=a,D=C.alternate,Q=C.stateNode;if(C=C.tag,D!==null&&D===c)break;C!==5&&C!==26&&C!==27||Q===null||(D=Q,h?(Q=$a(a,m),Q!=null&&b.unshift(dl(a,Q,D))):h||(Q=$a(a,m),Q!=null&&b.push(dl(a,Q,D)))),a=a.return}b.length!==0&&r.push({event:s,listeners:b})}var ak=/\r\n?/g,lk=/\u0000|\uFFFD/g;function uS(r){return(typeof r=="string"?r:""+r).replace(ak,`
`).replace(lk,"")}function fS(r,s){return s=uS(s),uS(r)===s}function Xe(r,s,a,c,h,m){switch(a){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||so(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&so(r,""+c);break;case"className":Oc(r,"class",c);break;case"tabIndex":Oc(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Oc(r,a,c);break;case"style":fb(r,c,m);break;case"data":if(s!=="object"){Oc(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||a!=="href")){r.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(a);break}c=Nc(""+c),r.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&Xe(r,s,"name",h.name,h,null),Xe(r,s,"formEncType",h.formEncType,h,null),Xe(r,s,"formMethod",h.formMethod,h,null),Xe(r,s,"formTarget",h.formTarget,h,null)):(Xe(r,s,"encType",h.encType,h,null),Xe(r,s,"method",h.method,h,null),Xe(r,s,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(a);break}c=Nc(""+c),r.setAttribute(a,c);break;case"onClick":c!=null&&(r.onclick=zr);break;case"onScroll":c!=null&&De("scroll",r);break;case"onScrollEnd":c!=null&&De("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(a=c.__html,a!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=a}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}a=Nc(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(a,""+c):r.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(a,""):r.removeAttribute(a);break;case"capture":case"download":c===!0?r.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(a,c):r.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(a,c):r.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(a):r.setAttribute(a,c);break;case"popover":De("beforetoggle",r),De("toggle",r),_c(r,"popover",c);break;case"xlinkActuate":qr(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":qr(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":qr(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":qr(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":qr(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":qr(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":qr(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":qr(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":qr(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":_c(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=IM.get(a)||a,_c(r,a,c))}}function Np(r,s,a,c,h,m){switch(a){case"style":fb(r,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(a=c.__html,a!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=a}}break;case"children":typeof c=="string"?so(r,c):(typeof c=="number"||typeof c=="bigint")&&so(r,""+c);break;case"onScroll":c!=null&&De("scroll",r);break;case"onScrollEnd":c!=null&&De("scrollend",r);break;case"onClick":c!=null&&(r.onclick=zr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nb.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),s=a.slice(2,h?a.length-7:void 0),m=r[un]||null,m=m!=null?m[a]:null,typeof m=="function"&&r.removeEventListener(s,m,h),typeof c=="function")){typeof m!="function"&&m!==null&&(a in r?r[a]=null:r.hasAttribute(a)&&r.removeAttribute(a)),r.addEventListener(s,c,h);break e}a in r?r[a]=c:c===!0?r.setAttribute(a,""):_c(r,a,c)}}}function Kt(r,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",r),De("load",r);var c=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var b=a[m];if(b!=null)switch(m){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Xe(r,s,m,b,a,null)}}h&&Xe(r,s,"srcSet",a.srcSet,a,null),c&&Xe(r,s,"src",a.src,a,null);return;case"input":De("invalid",r);var C=m=b=h=null,D=null,Q=null;for(c in a)if(a.hasOwnProperty(c)){var ee=a[c];if(ee!=null)switch(c){case"name":h=ee;break;case"type":b=ee;break;case"checked":D=ee;break;case"defaultChecked":Q=ee;break;case"value":m=ee;break;case"defaultValue":C=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,s));break;default:Xe(r,s,c,ee,a,null)}}ab(r,m,C,D,Q,b,h,!1);return;case"select":De("invalid",r),c=b=m=null;for(h in a)if(a.hasOwnProperty(h)&&(C=a[h],C!=null))switch(h){case"value":m=C;break;case"defaultValue":b=C;break;case"multiple":c=C;default:Xe(r,s,h,C,a,null)}s=m,a=b,r.multiple=!!c,s!=null?io(r,!!c,s,!1):a!=null&&io(r,!!c,a,!0);return;case"textarea":De("invalid",r),m=h=c=null;for(b in a)if(a.hasOwnProperty(b)&&(C=a[b],C!=null))switch(b){case"value":c=C;break;case"defaultValue":h=C;break;case"children":m=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:Xe(r,s,b,C,a,null)}cb(r,c,h,m);return;case"option":for(D in a)a.hasOwnProperty(D)&&(c=a[D],c!=null)&&(D==="selected"?r.selected=c&&typeof c!="function"&&typeof c!="symbol":Xe(r,s,D,c,a,null));return;case"dialog":De("beforetoggle",r),De("toggle",r),De("cancel",r),De("close",r);break;case"iframe":case"object":De("load",r);break;case"video":case"audio":for(c=0;c<fl.length;c++)De(fl[c],r);break;case"image":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"embed":case"source":case"link":De("error",r),De("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in a)if(a.hasOwnProperty(Q)&&(c=a[Q],c!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Xe(r,s,Q,c,a,null)}return;default:if(Kd(s)){for(ee in a)a.hasOwnProperty(ee)&&(c=a[ee],c!==void 0&&Np(r,s,ee,c,a,void 0));return}}for(C in a)a.hasOwnProperty(C)&&(c=a[C],c!=null&&Xe(r,s,C,c,a,null))}function ck(r,s,a,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,b=null,C=null,D=null,Q=null,ee=null;for(J in a){var ie=a[J];if(a.hasOwnProperty(J)&&ie!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":D=ie;default:c.hasOwnProperty(J)||Xe(r,s,J,null,c,ie)}}for(var Y in c){var J=c[Y];if(ie=a[Y],c.hasOwnProperty(Y)&&(J!=null||ie!=null))switch(Y){case"type":m=J;break;case"name":h=J;break;case"checked":Q=J;break;case"defaultChecked":ee=J;break;case"value":b=J;break;case"defaultValue":C=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,s));break;default:J!==ie&&Xe(r,s,Y,J,c,ie)}}Fd(r,b,C,D,Q,ee,m,h);return;case"select":J=b=C=Y=null;for(m in a)if(D=a[m],a.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":J=D;default:c.hasOwnProperty(m)||Xe(r,s,m,null,c,D)}for(h in c)if(m=c[h],D=a[h],c.hasOwnProperty(h)&&(m!=null||D!=null))switch(h){case"value":Y=m;break;case"defaultValue":C=m;break;case"multiple":b=m;default:m!==D&&Xe(r,s,h,m,c,D)}s=C,a=b,c=J,Y!=null?io(r,!!a,Y,!1):!!c!=!!a&&(s!=null?io(r,!!a,s,!0):io(r,!!a,a?[]:"",!1));return;case"textarea":J=Y=null;for(C in a)if(h=a[C],a.hasOwnProperty(C)&&h!=null&&!c.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Xe(r,s,C,null,c,h)}for(b in c)if(h=c[b],m=a[b],c.hasOwnProperty(b)&&(h!=null||m!=null))switch(b){case"value":Y=h;break;case"defaultValue":J=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==m&&Xe(r,s,b,h,c,m)}lb(r,Y,J);return;case"option":for(var me in a)Y=a[me],a.hasOwnProperty(me)&&Y!=null&&!c.hasOwnProperty(me)&&(me==="selected"?r.selected=!1:Xe(r,s,me,null,c,Y));for(D in c)Y=c[D],J=a[D],c.hasOwnProperty(D)&&Y!==J&&(Y!=null||J!=null)&&(D==="selected"?r.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":Xe(r,s,D,Y,c,J));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in a)Y=a[Re],a.hasOwnProperty(Re)&&Y!=null&&!c.hasOwnProperty(Re)&&Xe(r,s,Re,null,c,Y);for(Q in c)if(Y=c[Q],J=a[Q],c.hasOwnProperty(Q)&&Y!==J&&(Y!=null||J!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,s));break;default:Xe(r,s,Q,Y,c,J)}return;default:if(Kd(s)){for(var Je in a)Y=a[Je],a.hasOwnProperty(Je)&&Y!==void 0&&!c.hasOwnProperty(Je)&&Np(r,s,Je,void 0,c,Y);for(ee in c)Y=c[ee],J=a[ee],!c.hasOwnProperty(ee)||Y===J||Y===void 0&&J===void 0||Np(r,s,ee,Y,c,J);return}}for(var V in a)Y=a[V],a.hasOwnProperty(V)&&Y!=null&&!c.hasOwnProperty(V)&&Xe(r,s,V,null,c,Y);for(ie in c)Y=c[ie],J=a[ie],!c.hasOwnProperty(ie)||Y===J||Y==null&&J==null||Xe(r,s,ie,Y,c,J)}function dS(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function uk(){if(typeof performance.getEntriesByType=="function"){for(var r=0,s=0,a=performance.getEntriesByType("resource"),c=0;c<a.length;c++){var h=a[c],m=h.transferSize,b=h.initiatorType,C=h.duration;if(m&&C&&dS(b)){for(b=0,C=h.responseEnd,c+=1;c<a.length;c++){var D=a[c],Q=D.startTime;if(Q>C)break;var ee=D.transferSize,ie=D.initiatorType;ee&&dS(ie)&&(D=D.responseEnd,b+=ee*(D<C?1:(C-Q)/(D-Q)))}if(--c,s+=8*(m+b)/(h.duration/1e3),r++,10<r)break}}if(0<r)return s/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var kp=null,$p=null;function Cu(r){return r.nodeType===9?r:r.ownerDocument}function hS(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pS(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Lp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Dp=null;function fk(){var r=window.event;return r&&r.type==="popstate"?r===Dp?!1:(Dp=r,!0):(Dp=null,!1)}var mS=typeof setTimeout=="function"?setTimeout:void 0,dk=typeof clearTimeout=="function"?clearTimeout:void 0,gS=typeof Promise=="function"?Promise:void 0,hk=typeof queueMicrotask=="function"?queueMicrotask:typeof gS<"u"?function(r){return gS.resolve(null).then(r).catch(pk)}:mS;function pk(r){setTimeout(function(){throw r})}function Pi(r){return r==="head"}function yS(r,s){var a=s,c=0;do{var h=a.nextSibling;if(r.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(c===0){r.removeChild(h),jo(s);return}c--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")c++;else if(a==="html")hl(r.ownerDocument.documentElement);else if(a==="head"){a=r.ownerDocument.head,hl(a);for(var m=a.firstChild;m;){var b=m.nextSibling,C=m.nodeName;m[Na]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=b}}else a==="body"&&hl(r.ownerDocument.body);a=h}while(a);jo(s)}function vS(r,s){var a=r;r=0;do{var c=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(r===0)break;r--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||r++;a=c}while(a)}function Ip(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ip(a),Ud(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}r.removeChild(a)}}function mk(r,s,a,c){for(;r.nodeType===1;){var h=a;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[Na])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(m=r.getAttribute("rel"),m==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(m!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(m=r.getAttribute("src"),(m!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===m)return r}else return r;if(r=Yn(r.nextSibling),r===null)break}return null}function gk(r,s,a){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=Yn(r.nextSibling),r===null))return null;return r}function bS(r,s){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=Yn(r.nextSibling),r===null))return null;return r}function jp(r){return r.data==="$?"||r.data==="$~"}function Pp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function yk(r,s){var a=r.ownerDocument;if(r.data==="$~")r._reactRetry=s;else if(r.data!=="$?"||a.readyState!=="loading")s();else{var c=function(){s(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function Yn(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return r}var qp=null;function wS(r){r=r.nextSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"||a==="/&"){if(s===0)return Yn(r.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}r=r.nextSibling}return null}function SS(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return r;s--}else a!=="/$"&&a!=="/&"||s++}r=r.previousSibling}return null}function xS(r,s,a){switch(s=Cu(a),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function hl(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Ud(r)}var Xn=new Map,ES=new Set;function Tu(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ni=P.d;P.d={f:vk,r:bk,D:wk,C:Sk,L:xk,m:Ek,X:Ak,S:Rk,M:Ck};function vk(){var r=ni.f(),s=vu();return r||s}function bk(r){var s=to(r);s!==null&&s.tag===5&&s.type==="form"?zw(s):ni.r(r)}var Lo=typeof document>"u"?null:document;function RS(r,s,a){var c=Lo;if(c&&typeof s=="string"&&s){var h=Bn(s);h='link[rel="'+r+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),ES.has(h)||(ES.add(h),r={rel:r,crossOrigin:a,href:s},c.querySelector(h)===null&&(s=c.createElement("link"),Kt(s,"link",r),It(s),c.head.appendChild(s)))}}function wk(r){ni.D(r),RS("dns-prefetch",r,null)}function Sk(r,s){ni.C(r,s),RS("preconnect",r,s)}function xk(r,s,a){ni.L(r,s,a);var c=Lo;if(c&&r&&s){var h='link[rel="preload"][as="'+Bn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Bn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Bn(a.imageSizes)+'"]')):h+='[href="'+Bn(r)+'"]';var m=h;switch(s){case"style":m=Do(r);break;case"script":m=Io(r)}Xn.has(m)||(r=y({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:r,as:s},a),Xn.set(m,r),c.querySelector(h)!==null||s==="style"&&c.querySelector(pl(m))||s==="script"&&c.querySelector(ml(m))||(s=c.createElement("link"),Kt(s,"link",r),It(s),c.head.appendChild(s)))}}function Ek(r,s){ni.m(r,s);var a=Lo;if(a&&r){var c=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+Bn(c)+'"][href="'+Bn(r)+'"]',m=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Io(r)}if(!Xn.has(m)&&(r=y({rel:"modulepreload",href:r},s),Xn.set(m,r),a.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ml(m)))return}c=a.createElement("link"),Kt(c,"link",r),It(c),a.head.appendChild(c)}}}function Rk(r,s,a){ni.S(r,s,a);var c=Lo;if(c&&r){var h=no(c).hoistableStyles,m=Do(r);s=s||"default";var b=h.get(m);if(!b){var C={loading:0,preload:null};if(b=c.querySelector(pl(m)))C.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":s},a),(a=Xn.get(m))&&zp(r,a);var D=b=c.createElement("link");It(D),Kt(D,"link",r),D._p=new Promise(function(Q,ee){D.onload=Q,D.onerror=ee}),D.addEventListener("load",function(){C.loading|=1}),D.addEventListener("error",function(){C.loading|=2}),C.loading|=4,_u(b,s,c)}b={type:"stylesheet",instance:b,count:1,state:C},h.set(m,b)}}}function Ak(r,s){ni.X(r,s);var a=Lo;if(a&&r){var c=no(a).hoistableScripts,h=Io(r),m=c.get(h);m||(m=a.querySelector(ml(h)),m||(r=y({src:r,async:!0},s),(s=Xn.get(h))&&Up(r,s),m=a.createElement("script"),It(m),Kt(m,"link",r),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(h,m))}}function Ck(r,s){ni.M(r,s);var a=Lo;if(a&&r){var c=no(a).hoistableScripts,h=Io(r),m=c.get(h);m||(m=a.querySelector(ml(h)),m||(r=y({src:r,async:!0,type:"module"},s),(s=Xn.get(h))&&Up(r,s),m=a.createElement("script"),It(m),Kt(m,"link",r),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(h,m))}}function AS(r,s,a,c){var h=(h=pe.current)?Tu(h):null;if(!h)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Do(a.href),a=no(h).hoistableStyles,c=a.get(s),c||(c={type:"style",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){r=Do(a.href);var m=no(h).hoistableStyles,b=m.get(r);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(r,b),(m=h.querySelector(pl(r)))&&!m._p&&(b.instance=m,b.state.loading=5),Xn.has(r)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Xn.set(r,a),m||Tk(h,r,a,b.state))),s&&c===null)throw Error(i(528,""));return b}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Io(a),a=no(h).hoistableScripts,c=a.get(s),c||(c={type:"script",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Do(r){return'href="'+Bn(r)+'"'}function pl(r){return'link[rel="stylesheet"]['+r+"]"}function CS(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function Tk(r,s,a,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Kt(s,"link",a),It(s),r.head.appendChild(s))}function Io(r){return'[src="'+Bn(r)+'"]'}function ml(r){return"script[async]"+r}function TS(r,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+Bn(a.href)+'"]');if(c)return s.instance=c,It(c),c;var h=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),It(c),Kt(c,"style",h),_u(c,a.precedence,r),s.instance=c;case"stylesheet":h=Do(a.href);var m=r.querySelector(pl(h));if(m)return s.state.loading|=4,s.instance=m,It(m),m;c=CS(a),(h=Xn.get(h))&&zp(c,h),m=(r.ownerDocument||r).createElement("link"),It(m);var b=m;return b._p=new Promise(function(C,D){b.onload=C,b.onerror=D}),Kt(m,"link",c),s.state.loading|=4,_u(m,a.precedence,r),s.instance=m;case"script":return m=Io(a.src),(h=r.querySelector(ml(m)))?(s.instance=h,It(h),h):(c=a,(h=Xn.get(m))&&(c=y({},a),Up(c,h)),r=r.ownerDocument||r,h=r.createElement("script"),It(h),Kt(h,"link",c),r.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,_u(c,a.precedence,r));return s.instance}function _u(r,s,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,m=h,b=0;b<c.length;b++){var C=c[b];if(C.dataset.precedence===s)m=C;else if(m!==h)break}m?m.parentNode.insertBefore(r,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(r,s.firstChild))}function zp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Up(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Ou=null;function _S(r,s,a){if(Ou===null){var c=new Map,h=Ou=new Map;h.set(a,c)}else h=Ou,c=h.get(a),c||(c=new Map,h.set(a,c));if(c.has(r))return c;for(c.set(r,null),a=a.getElementsByTagName(r),h=0;h<a.length;h++){var m=a[h];if(!(m[Na]||m[Ut]||r==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(s)||"";b=r+b;var C=c.get(b);C?C.push(m):c.set(b,[m])}}return c}function OS(r,s,a){r=r.ownerDocument||r,r.head.insertBefore(a,s==="title"?r.querySelector("head > title"):null)}function _k(r,s,a){if(a===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(r=s.disabled,typeof s.precedence=="string"&&r==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function MS(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function Ok(r,s,a,c){if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Do(c.href),m=s.querySelector(pl(h));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(r.count++,r=Mu.bind(r),s.then(r,r)),a.state.loading|=4,a.instance=m,It(m);return}m=s.ownerDocument||s,c=CS(c),(h=Xn.get(h))&&zp(c,h),m=m.createElement("link"),It(m);var b=m;b._p=new Promise(function(C,D){b.onload=C,b.onerror=D}),Kt(m,"link",c),a.instance=m}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(r.count++,a=Mu.bind(r),s.addEventListener("load",a),s.addEventListener("error",a))}}var Bp=0;function Mk(r,s){return r.stylesheets&&r.count===0&&ku(r,r.stylesheets),0<r.count||0<r.imgCount?function(a){var c=setTimeout(function(){if(r.stylesheets&&ku(r,r.stylesheets),r.unsuspend){var m=r.unsuspend;r.unsuspend=null,m()}},6e4+s);0<r.imgBytes&&Bp===0&&(Bp=62500*uk());var h=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&ku(r,r.stylesheets),r.unsuspend)){var m=r.unsuspend;r.unsuspend=null,m()}},(r.imgBytes>Bp?50:800)+s);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(c),clearTimeout(h)}}:null}function Mu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ku(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Nu=null;function ku(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Nu=new Map,s.forEach(Nk,r),Nu=null,Mu.call(r))}function Nk(r,s){if(!(s.state.loading&4)){var a=Nu.get(r);if(a)var c=a.get(null);else{a=new Map,Nu.set(r,a);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var b=h[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),c=b)}c&&a.set(null,c)}h=s.instance,b=h.getAttribute("data-precedence"),m=a.get(b)||c,m===c&&a.set(null,h),a.set(b,h),this.count++,c=Mu.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),m?m.parentNode.insertBefore(h,m.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),s.state.loading|=4}}var gl={$$typeof:M,Provider:null,Consumer:null,_currentValue:j,_currentValue2:j,_threadCount:0};function kk(r,s,a,c,h,m,b,C,D){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jd(0),this.hiddenUpdates=jd(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function NS(r,s,a,c,h,m,b,C,D,Q,ee,ie){return r=new kk(r,s,a,b,D,Q,ee,ie,C),s=1,m===!0&&(s|=24),m=Nn(3,null,null,s),r.current=m,m.stateNode=r,s=Sh(),s.refCount++,r.pooledCache=s,s.refCount++,m.memoizedState={element:c,isDehydrated:a,cache:s},Ah(m),r}function kS(r){return r?(r=ho,r):ho}function $S(r,s,a,c,h,m){h=kS(h),c.context===null?c.context=h:c.pendingContext=h,c=Ti(s),c.payload={element:a},m=m===void 0?null:m,m!==null&&(c.callback=m),a=_i(r,c,s),a!==null&&(gn(a,r,s),Qa(a,r,s))}function LS(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Fp(r,s){LS(r,s),(r=r.alternate)&&LS(r,s)}function DS(r){if(r.tag===13||r.tag===31){var s=bs(r,67108864);s!==null&&gn(s,r,67108864),Fp(r,67108864)}}function IS(r){if(r.tag===13||r.tag===31){var s=In();s=Pd(s);var a=bs(r,s);a!==null&&gn(a,r,s),Fp(r,s)}}var $u=!0;function $k(r,s,a,c){var h=N.T;N.T=null;var m=P.p;try{P.p=2,Vp(r,s,a,c)}finally{P.p=m,N.T=h}}function Lk(r,s,a,c){var h=N.T;N.T=null;var m=P.p;try{P.p=8,Vp(r,s,a,c)}finally{P.p=m,N.T=h}}function Vp(r,s,a,c){if($u){var h=Kp(c);if(h===null)Mp(r,s,c,Lu,a),PS(r,c);else if(Ik(h,r,s,a,c))c.stopPropagation();else if(PS(r,c),s&4&&-1<Dk.indexOf(r)){for(;h!==null;){var m=to(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=ps(m.pendingLanes);if(b!==0){var C=m;for(C.pendingLanes|=2,C.entangledLanes|=2;b;){var D=1<<31-On(b);C.entanglements[1]|=D,b&=~D}Er(m),(Ve&6)===0&&(gu=ot()+500,ul(0))}}break;case 31:case 13:C=bs(m,2),C!==null&&gn(C,m,2),vu(),Fp(m,2)}if(m=Kp(c),m===null&&Mp(r,s,c,Lu,a),m===h)break;h=m}h!==null&&c.stopPropagation()}else Mp(r,s,c,null,a)}}function Kp(r){return r=Gd(r),Hp(r)}var Lu=null;function Hp(r){if(Lu=null,r=eo(r),r!==null){var s=l(r);if(s===null)r=null;else{var a=s.tag;if(a===13){if(r=u(s),r!==null)return r;r=null}else if(a===31){if(r=f(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Lu=r,null}function jS(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pr()){case We:return 2;case _t:return 8;case Qt:case Ec:return 32;case Gv:return 268435456;default:return 32}default:return 32}}var Gp=!1,qi=null,zi=null,Ui=null,yl=new Map,vl=new Map,Bi=[],Dk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function PS(r,s){switch(r){case"focusin":case"focusout":qi=null;break;case"dragenter":case"dragleave":zi=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":yl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(s.pointerId)}}function bl(r,s,a,c,h,m){return r===null||r.nativeEvent!==m?(r={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[h]},s!==null&&(s=to(s),s!==null&&DS(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function Ik(r,s,a,c,h){switch(s){case"focusin":return qi=bl(qi,r,s,a,c,h),!0;case"dragenter":return zi=bl(zi,r,s,a,c,h),!0;case"mouseover":return Ui=bl(Ui,r,s,a,c,h),!0;case"pointerover":var m=h.pointerId;return yl.set(m,bl(yl.get(m)||null,r,s,a,c,h)),!0;case"gotpointercapture":return m=h.pointerId,vl.set(m,bl(vl.get(m)||null,r,s,a,c,h)),!0}return!1}function qS(r){var s=eo(r.target);if(s!==null){var a=l(s);if(a!==null){if(s=a.tag,s===13){if(s=u(a),s!==null){r.blockedOn=s,Wv(r.priority,function(){IS(a)});return}}else if(s===31){if(s=f(a),s!==null){r.blockedOn=s,Wv(r.priority,function(){IS(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Du(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=Kp(r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);Hd=c,a.target.dispatchEvent(c),Hd=null}else return s=to(a),s!==null&&DS(s),r.blockedOn=a,!1;s.shift()}return!0}function zS(r,s,a){Du(r)&&a.delete(s)}function jk(){Gp=!1,qi!==null&&Du(qi)&&(qi=null),zi!==null&&Du(zi)&&(zi=null),Ui!==null&&Du(Ui)&&(Ui=null),yl.forEach(zS),vl.forEach(zS)}function Iu(r,s){r.blockedOn===s&&(r.blockedOn=null,Gp||(Gp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jk)))}var ju=null;function US(r){ju!==r&&(ju=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ju===r&&(ju=null);for(var s=0;s<r.length;s+=3){var a=r[s],c=r[s+1],h=r[s+2];if(typeof c!="function"){if(Hp(c||a)===null)continue;break}var m=to(a);m!==null&&(r.splice(s,3),s-=3,Kh(m,{pending:!0,data:h,method:a.method,action:c},c,h))}}))}function jo(r){function s(D){return Iu(D,r)}qi!==null&&Iu(qi,r),zi!==null&&Iu(zi,r),Ui!==null&&Iu(Ui,r),yl.forEach(s),vl.forEach(s);for(var a=0;a<Bi.length;a++){var c=Bi[a];c.blockedOn===r&&(c.blockedOn=null)}for(;0<Bi.length&&(a=Bi[0],a.blockedOn===null);)qS(a),a.blockedOn===null&&Bi.shift();if(a=(r.ownerDocument||r).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var h=a[c],m=a[c+1],b=h[un]||null;if(typeof m=="function")b||US(a);else if(b){var C=null;if(m&&m.hasAttribute("formAction")){if(h=m,b=m[un]||null)C=b.formAction;else if(Hp(h)!==null)continue}else C=b.action;typeof C=="function"?a[c+1]=C:(a.splice(c,3),c-=3),US(a)}}}function BS(){function r(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(b){return h=b})},focusReset:"manual",scroll:"manual"})}function s(){h!==null&&(h(),h=null),c||setTimeout(a,20)}function a(){if(!c&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,h=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){c=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),h!==null&&(h(),h=null)}}}function Qp(r){this._internalRoot=r}Pu.prototype.render=Qp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,c=In();$S(a,c,r,s,null,null)},Pu.prototype.unmount=Qp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;$S(r.current,2,null,r,null,null),vu(),s[Ws]=null}};function Pu(r){this._internalRoot=r}Pu.prototype.unstable_scheduleHydration=function(r){if(r){var s=Zv();r={blockedOn:null,target:r,priority:s};for(var a=0;a<Bi.length&&s!==0&&s<Bi[a].priority;a++);Bi.splice(a,0,r),a===0&&qS(r)}};var FS=t.version;if(FS!=="19.2.4")throw Error(i(527,FS,"19.2.4"));P.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(s),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var Pk={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qu.isDisabled&&qu.supportsFiber)try{_a=qu.inject(Pk),_n=qu}catch{}}return Sl.createRoot=function(r,s){if(!o(r))throw Error(i(299));var a=!1,c="",h=Xw,m=Jw,b=Zw;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError)),s=NS(r,1,!1,null,null,a,c,null,h,m,b,BS),r[Ws]=s.current,Op(r),new Qp(s)},Sl.hydrateRoot=function(r,s,a){if(!o(r))throw Error(i(299));var c=!1,h="",m=Xw,b=Jw,C=Zw,D=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),s=NS(r,1,!0,s,a??null,c,h,D,m,b,C,BS),s.context=kS(null),a=s.current,c=In(),c=Pd(c),h=Ti(c),h.callback=null,_i(a,h,c),a=c,s.current.lanes=a,Ma(s,a),Er(s),r[Ws]=s.current,Op(r),new Pu(s)},Sl.version="19.2.4",Sl}var WS;function Qk(){if(WS)return Jp.exports;WS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Jp.exports=Gk(),Jp.exports}var Yk=Qk();const Gg=new WeakMap,Xk=new WeakMap,Ef={current:[]};let tm=!1,Dl=0;const Ml=new Set,zu=new Map;function kR(e){for(const t of e){if(Ef.current.includes(t))continue;Ef.current.push(t),t.recompute();const n=Xk.get(t);if(n)for(const i of n){const o=Gg.get(i);o?.length&&kR(o)}}}function Jk(e){const t={prevVal:e.prevState,currentVal:e.state};for(const n of e.listeners)n(t)}function Zk(e){const t={prevVal:e.prevState,currentVal:e.state};for(const n of e.listeners)n(t)}function $R(e){if(Dl>0&&!zu.has(e)&&zu.set(e,e.prevState),Ml.add(e),!(Dl>0)&&!tm)try{for(tm=!0;Ml.size>0;){const t=Array.from(Ml);Ml.clear();for(const n of t){const i=zu.get(n)??n.prevState;n.prevState=i,Jk(n)}for(const n of t){const i=Gg.get(n);i&&(Ef.current.push(n),kR(i))}for(const n of t){const i=Gg.get(n);if(i)for(const o of i)Zk(o)}}}finally{tm=!1,Ef.current=[],zu.clear()}}function Wk(e){Dl++;try{e()}finally{if(Dl--,Dl===0){const t=Ml.values().next().value;t&&$R(t)}}}function e$(e){return typeof e=="function"}class t${constructor(t,n){this.listeners=new Set,this.subscribe=i=>{var o,l;this.listeners.add(i);const u=(l=(o=this.options)==null?void 0:o.onSubscribe)==null?void 0:l.call(o,i,this);return()=>{this.listeners.delete(i),u?.()}},this.prevState=t,this.state=t,this.options=n}setState(t){var n,i,o;this.prevState=this.state,(n=this.options)!=null&&n.updateFn?this.state=this.options.updateFn(this.prevState)(t):e$(t)?this.state=t(this.prevState):this.state=t,(o=(i=this.options)==null?void 0:i.onUpdate)==null||o.call(i),$R(this)}}const rs="__TSR_index",ex="popstate",tx="beforeunload";function n$(e){let t=e.getLocation();const n=new Set,i=u=>{t=e.getLocation(),n.forEach(f=>f({location:t,action:u}))},o=u=>{e.notifyOnIndexChange??!0?i(u):t=e.getLocation()},l=async({task:u,navigateOpts:f,...d})=>{if(f?.ignoreBlocker??!1){u();return}const g=e.getBlockers?.()??[],y=d.type==="PUSH"||d.type==="REPLACE";if(typeof document<"u"&&g.length&&y)for(const v of g){const S=Rf(d.path,d.state);if(await v.blockerFn({currentLocation:t,nextLocation:S,action:d.type})){e.onBlocked?.();return}}u()};return{get location(){return t},get length(){return e.getLength()},subscribers:n,subscribe:u=>(n.add(u),()=>{n.delete(u)}),push:(u,f,d)=>{const p=t.state[rs];f=nx(p+1,f),l({task:()=>{e.pushState(u,f),i({type:"PUSH"})},navigateOpts:d,type:"PUSH",path:u,state:f})},replace:(u,f,d)=>{const p=t.state[rs];f=nx(p,f),l({task:()=>{e.replaceState(u,f),i({type:"REPLACE"})},navigateOpts:d,type:"REPLACE",path:u,state:f})},go:(u,f)=>{l({task:()=>{e.go(u),o({type:"GO",index:u})},navigateOpts:f,type:"GO"})},back:u=>{l({task:()=>{e.back(u?.ignoreBlocker??!1),o({type:"BACK"})},navigateOpts:u,type:"BACK"})},forward:u=>{l({task:()=>{e.forward(u?.ignoreBlocker??!1),o({type:"FORWARD"})},navigateOpts:u,type:"FORWARD"})},canGoBack:()=>t.state[rs]!==0,createHref:u=>e.createHref(u),block:u=>{if(!e.setBlockers)return()=>{};const f=e.getBlockers?.()??[];return e.setBlockers([...f,u]),()=>{const d=e.getBlockers?.()??[];e.setBlockers?.(d.filter(p=>p!==u))}},flush:()=>e.flush?.(),destroy:()=>e.destroy?.(),notify:i}}function nx(e,t){t||(t={});const n=Py();return{...t,key:n,__TSR_key:n,[rs]:e}}function r$(e){const t=typeof document<"u"?window:void 0,n=t.history.pushState,i=t.history.replaceState;let o=[];const l=()=>o,u=L=>o=L,f=(L=>L),d=(()=>Rf(`${t.location.pathname}${t.location.search}${t.location.hash}`,t.history.state));if(!t.history.state?.__TSR_key&&!t.history.state?.key){const L=Py();t.history.replaceState({[rs]:0,key:L,__TSR_key:L},"")}let p=d(),g,y=!1,v=!1,S=!1,E=!1;const w=()=>p;let A,_;const I=()=>{A&&(q._ignoreSubscribers=!0,(A.isPush?t.history.pushState:t.history.replaceState)(A.state,"",A.href),q._ignoreSubscribers=!1,A=void 0,_=void 0,g=void 0)},M=(L,W,oe)=>{const se=f(W);_||(g=p),p=Rf(W,oe),A={href:se,state:oe,isPush:A?.isPush||L==="push"},_||(_=Promise.resolve().then(()=>I()))},k=L=>{p=d(),q.notify({type:L})},U=async()=>{if(v){v=!1;return}const L=d(),W=L.state[rs]-p.state[rs],oe=W===1,se=W===-1,ue=!oe&&!se||y;y=!1;const ce=ue?"GO":se?"BACK":"FORWARD",X=ue?{type:"GO",index:W}:{type:se?"BACK":"FORWARD"};if(S)S=!1;else{const H=l();if(typeof document<"u"&&H.length){for(const N of H)if(await N.blockerFn({currentLocation:p,nextLocation:L,action:ce})){v=!0,t.history.go(1),q.notify(X);return}}}p=d(),q.notify(X)},K=L=>{if(E){E=!1;return}let W=!1;const oe=l();if(typeof document<"u"&&oe.length)for(const se of oe){const ue=se.enableBeforeUnload??!0;if(ue===!0){W=!0;break}if(typeof ue=="function"&&ue()===!0){W=!0;break}}if(W)return L.preventDefault(),L.returnValue=""},q=n$({getLocation:w,getLength:()=>t.history.length,pushState:(L,W)=>M("push",L,W),replaceState:(L,W)=>M("replace",L,W),back:L=>(L&&(S=!0),E=!0,t.history.back()),forward:L=>{L&&(S=!0),E=!0,t.history.forward()},go:L=>{y=!0,t.history.go(L)},createHref:L=>f(L),flush:I,destroy:()=>{t.history.pushState=n,t.history.replaceState=i,t.removeEventListener(tx,K,{capture:!0}),t.removeEventListener(ex,U)},onBlocked:()=>{g&&p!==g&&(p=g)},getBlockers:l,setBlockers:u,notifyOnIndexChange:!1});return t.addEventListener(tx,K,{capture:!0}),t.addEventListener(ex,U),t.history.pushState=function(...L){const W=n.apply(t.history,L);return q._ignoreSubscribers||k("PUSH"),W},t.history.replaceState=function(...L){const W=i.apply(t.history,L);return q._ignoreSubscribers||k("REPLACE"),W},q}function i$(e){let t=e.replace(/[\x00-\x1f\x7f]/g,"");return t.startsWith("//")&&(t="/"+t.replace(/^\/+/,"")),t}function Rf(e,t){const n=i$(e),i=n.indexOf("#"),o=n.indexOf("?"),l=Py();return{href:n,pathname:n.substring(0,i>0?o>0?Math.min(i,o):i:o>0?o:n.length),hash:i>-1?n.substring(i):"",search:o>-1?n.slice(o,i===-1?void 0:i):"",state:t||{[rs]:0,key:l,__TSR_key:l}}}function Py(){return(Math.random()+1).toString(36).substring(7)}const s$=!1;function Zo(e){let t;return Wk(()=>{t=e()}),t}function Vl(e){return e[e.length-1]}function o$(e){return typeof e=="function"}function Ji(e,t){return o$(e)?e(t):e}const a$=Object.prototype.hasOwnProperty,rx=Object.prototype.propertyIsEnumerable;function vn(e,t,n=0){if(e===t)return e;if(n>500)return t;const i=t,o=ox(e)&&ox(i);if(!o&&!(Af(e)&&Af(i)))return i;const l=o?e:ix(e);if(!l)return i;const u=o?i:ix(i);if(!u)return i;const f=l.length,d=u.length,p=o?new Array(d):{};let g=0;for(let y=0;y<d;y++){const v=o?y:u[y],S=e[v],E=i[v];if(S===E){p[v]=S,(o?y<f:a$.call(e,v))&&g++;continue}if(S===null||E===null||typeof S!="object"||typeof E!="object"){p[v]=E;continue}const w=vn(S,E,n+1);p[v]=w,w===S&&g++}return f===d&&g===f?e:p}function ix(e){const t=Object.getOwnPropertyNames(e);for(const o of t)if(!rx.call(e,o))return!1;const n=Object.getOwnPropertySymbols(e);if(n.length===0)return t;const i=t;for(const o of n){if(!rx.call(e,o))return!1;i.push(o)}return i}function Af(e){if(!sx(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!sx(n)||!n.hasOwnProperty("isPrototypeOf"))}function sx(e){return Object.prototype.toString.call(e)==="[object Object]"}function ox(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ps(e,t,n){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(let i=0,o=e.length;i<o;i++)if(!Ps(e[i],t[i],n))return!1;return!0}if(Af(e)&&Af(t)){const i=n?.ignoreUndefined??!0;if(n?.partial){for(const u in t)if((!i||t[u]!==void 0)&&!Ps(e[u],t[u],n))return!1;return!0}let o=0;if(!i)o=Object.keys(e).length;else for(const u in e)e[u]!==void 0&&o++;let l=0;for(const u in t)if((!i||t[u]!==void 0)&&(l++,l>o||!Ps(e[u],t[u],n)))return!1;return o===l}return!1}function Bs(e){let t,n;const i=new Promise((o,l)=>{t=o,n=l});return i.status="pending",i.resolve=o=>{i.status="resolved",i.value=o,t(o),e?.(o)},i.reject=o=>{i.status="rejected",n(o)},i}function l$(e){return typeof e?.message!="string"?!1:e.message.startsWith("Failed to fetch dynamically imported module")||e.message.startsWith("error loading dynamically imported module")||e.message.startsWith("Importing a module script failed")}function Wo(e){return!!(e&&typeof e=="object"&&typeof e.then=="function")}function c$(e){return e.replace(/[\x00-\x1f\x7f]/g,"")}function ax(e){let t;try{t=decodeURI(e)}catch{t=e.replaceAll(/%[0-9A-F]{2}/gi,n=>{try{return decodeURI(n)}catch{return n}})}return c$(t)}const LR=["http:","https:","mailto:","tel:"];function Cf(e){if(!e)return!1;try{const t=new URL(e);return!LR.includes(t.protocol)}catch{return!1}}const u$={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},f$=/[&><\u2028\u2029]/g;function d$(e){return e.replace(f$,t=>u$[t])}function xl(e,t){if(!e||!/[%\\\x00-\x1f\x7f]/.test(e)&&!e.startsWith("//"))return e;const n=/%25|%5C/gi;let i=0,o="",l;for(;(l=n.exec(e))!==null;)o+=ax(e.slice(i,l.index))+l[0],i=n.lastIndex;return o=o+ax(i?e.slice(i):e),o.startsWith("//")&&(o="/"+o.replace(/^\/+/,"")),o}function h$(e){return/\s|[^\u0000-\u007F]/.test(e)?e.replace(/\s|[^\u0000-\u007F]/gu,encodeURIComponent):e}var p$="Invariant failed";function Rn(e,t){if(!e)throw new Error(p$)}function Tf(e){const t=new Map;let n,i;const o=l=>{l.next&&(l.prev?(l.prev.next=l.next,l.next.prev=l.prev,l.next=void 0,i&&(i.next=l,l.prev=i)):(l.next.prev=void 0,n=l.next,l.next=void 0,i&&(l.prev=i,i.next=l)),i=l)};return{get(l){const u=t.get(l);if(u)return o(u),u.value},set(l,u){if(t.size>=e&&n){const d=n;t.delete(d.key),d.next&&(n=d.next,d.next.prev=void 0),d===i&&(i=void 0)}const f=t.get(l);if(f)f.value=u,o(f);else{const d={key:l,value:u,prev:i};i&&(i.next=d),i=d,n||(n=d),t.set(l,d)}},clear(){t.clear(),n=void 0,i=void 0}}}const la=0,Fs=1,Vs=2,Kl=3,Ls=4,DR=5;function m$(e){const t=e.indexOf("{");if(t===-1)return null;const n=e.indexOf("}",t);return n===-1||t+1>=e.length?null:[t,n]}function qy(e,t,n=new Uint16Array(6)){const i=e.indexOf("/",t),o=i===-1?e.length:i,l=e.substring(t,o);if(!l||!l.includes("$"))return n[0]=la,n[1]=t,n[2]=t,n[3]=o,n[4]=o,n[5]=o,n;if(l==="$"){const f=e.length;return n[0]=Vs,n[1]=t,n[2]=t,n[3]=f,n[4]=f,n[5]=f,n}if(l.charCodeAt(0)===36)return n[0]=Fs,n[1]=t,n[2]=t+1,n[3]=o,n[4]=o,n[5]=o,n;const u=m$(l);if(u){const[f,d]=u,p=l.charCodeAt(f+1);if(p===45){if(f+2<l.length&&l.charCodeAt(f+2)===36){const g=f+3,y=d;if(g<y)return n[0]=Kl,n[1]=t+f,n[2]=t+g,n[3]=t+y,n[4]=t+d+1,n[5]=o,n}}else if(p===36){const g=f+1,y=f+2;return y===d?(n[0]=Vs,n[1]=t+f,n[2]=t+g,n[3]=t+y,n[4]=t+d+1,n[5]=e.length,n):(n[0]=Fs,n[1]=t+f,n[2]=t+y,n[3]=t+d,n[4]=t+d+1,n[5]=o,n)}}return n[0]=la,n[1]=t,n[2]=t,n[3]=o,n[4]=o,n[5]=o,n}function ed(e,t,n,i,o,l,u){u?.(n);let f=i;{const d=n.fullPath??n.from,p=d.length,g=n.options?.caseSensitive??e,y=!!(n.options?.params?.parse&&n.options?.skipRouteOnParseError?.params);for(;f<p;){const S=qy(d,f,t);let E;const w=f,A=S[5];switch(f=A+1,l++,S[0]){case la:{const I=d.substring(S[2],S[3]);if(g){const M=o.static?.get(I);if(M)E=M;else{o.static??=new Map;const k=Ds(n.fullPath??n.from);k.parent=o,k.depth=l,E=k,o.static.set(I,k)}}else{const M=I.toLowerCase(),k=o.staticInsensitive?.get(M);if(k)E=k;else{o.staticInsensitive??=new Map;const U=Ds(n.fullPath??n.from);U.parent=o,U.depth=l,E=U,o.staticInsensitive.set(M,U)}}break}case Fs:{const I=d.substring(w,S[1]),M=d.substring(S[4],A),k=g&&!!(I||M),U=I?k?I:I.toLowerCase():void 0,K=M?k?M:M.toLowerCase():void 0,q=!y&&o.dynamic?.find(L=>!L.skipOnParamError&&L.caseSensitive===k&&L.prefix===U&&L.suffix===K);if(q)E=q;else{const L=rm(Fs,n.fullPath??n.from,k,U,K);E=L,L.depth=l,L.parent=o,o.dynamic??=[],o.dynamic.push(L)}break}case Kl:{const I=d.substring(w,S[1]),M=d.substring(S[4],A),k=g&&!!(I||M),U=I?k?I:I.toLowerCase():void 0,K=M?k?M:M.toLowerCase():void 0,q=!y&&o.optional?.find(L=>!L.skipOnParamError&&L.caseSensitive===k&&L.prefix===U&&L.suffix===K);if(q)E=q;else{const L=rm(Kl,n.fullPath??n.from,k,U,K);E=L,L.parent=o,L.depth=l,o.optional??=[],o.optional.push(L)}break}case Vs:{const I=d.substring(w,S[1]),M=d.substring(S[4],A),k=g&&!!(I||M),U=I?k?I:I.toLowerCase():void 0,K=M?k?M:M.toLowerCase():void 0,q=rm(Vs,n.fullPath??n.from,k,U,K);E=q,q.parent=o,q.depth=l,o.wildcard??=[],o.wildcard.push(q)}}o=E}if(y&&n.children&&!n.isRoot&&n.id&&n.id.charCodeAt(n.id.lastIndexOf("/")+1)===95){const S=Ds(n.fullPath??n.from);S.kind=DR,S.parent=o,l++,S.depth=l,o.pathless??=[],o.pathless.push(S),o=S}const v=(n.path||!n.children)&&!n.isRoot;if(v&&d.endsWith("/")){const S=Ds(n.fullPath??n.from);S.kind=Ls,S.parent=o,l++,S.depth=l,o.index=S,o=S}o.parse=n.options?.params?.parse??null,o.skipOnParamError=y,o.parsingPriority=n.options?.skipRouteOnParseError?.priority??0,v&&!o.route&&(o.route=n,o.fullPath=n.fullPath??n.from)}if(n.children)for(const d of n.children)ed(e,t,d,f,o,l,u)}function nm(e,t){if(e.skipOnParamError&&!t.skipOnParamError)return-1;if(!e.skipOnParamError&&t.skipOnParamError)return 1;if(e.skipOnParamError&&t.skipOnParamError&&(e.parsingPriority||t.parsingPriority))return t.parsingPriority-e.parsingPriority;if(e.prefix&&t.prefix&&e.prefix!==t.prefix){if(e.prefix.startsWith(t.prefix))return-1;if(t.prefix.startsWith(e.prefix))return 1}if(e.suffix&&t.suffix&&e.suffix!==t.suffix){if(e.suffix.endsWith(t.suffix))return-1;if(t.suffix.endsWith(e.suffix))return 1}return e.prefix&&!t.prefix?-1:!e.prefix&&t.prefix?1:e.suffix&&!t.suffix?-1:!e.suffix&&t.suffix?1:e.caseSensitive&&!t.caseSensitive?-1:!e.caseSensitive&&t.caseSensitive?1:0}function Qi(e){if(e.pathless)for(const t of e.pathless)Qi(t);if(e.static)for(const t of e.static.values())Qi(t);if(e.staticInsensitive)for(const t of e.staticInsensitive.values())Qi(t);if(e.dynamic?.length){e.dynamic.sort(nm);for(const t of e.dynamic)Qi(t)}if(e.optional?.length){e.optional.sort(nm);for(const t of e.optional)Qi(t)}if(e.wildcard?.length){e.wildcard.sort(nm);for(const t of e.wildcard)Qi(t)}}function Ds(e){return{kind:la,depth:0,pathless:null,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:e,parent:null,parse:null,skipOnParamError:!1,parsingPriority:0}}function rm(e,t,n,i,o){return{kind:e,depth:0,pathless:null,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:t,parent:null,parse:null,skipOnParamError:!1,parsingPriority:0,caseSensitive:n,prefix:i,suffix:o}}function g$(e,t){const n=Ds("/"),i=new Uint16Array(6);for(const o of e)ed(!1,i,o,1,n,0);Qi(n),t.masksTree=n,t.flatCache=Tf(1e3)}function y$(e,t){e||="/";const n=t.flatCache.get(e);if(n)return n;const i=zy(e,t.masksTree);return t.flatCache.set(e,i),i}function v$(e,t,n,i,o){e||="/",i||="/";const l=t?`case\0${e}`:e;let u=o.singleCache.get(l);if(!u){u=Ds("/");const f=new Uint16Array(6);ed(t,f,{from:e},1,u,0),o.singleCache.set(l,u)}return zy(i,u,n)}function b$(e,t,n=!1){const i=n?e:`nofuzz\0${e}`,o=t.matchCache.get(i);if(o!==void 0)return o;e||="/";let l;try{l=zy(e,t.segmentTree,n)}catch(u){if(u instanceof URIError)l=null;else throw u}return l&&(l.branch=x$(l.route)),t.matchCache.set(i,l),l}function w$(e){return e==="/"?e:e.replace(/\/{1,}$/,"")}function S$(e,t=!1,n){const i=Ds(e.fullPath),o=new Uint16Array(6),l={},u={};let f=0;return ed(t,o,e,1,i,0,p=>{if(n?.(p,f),Rn(!(p.id in l),`Duplicate routes found with id: ${String(p.id)}`),l[p.id]=p,f!==0&&p.path){const g=w$(p.fullPath);(!u[g]||p.fullPath.endsWith("/"))&&(u[g]=p)}f++}),Qi(i),{processedTree:{segmentTree:i,singleCache:Tf(1e3),matchCache:Tf(1e3),flatCache:null,masksTree:null},routesById:l,routesByPath:u}}function zy(e,t,n=!1){const i=e.split("/"),o=R$(e,i,t,n);if(!o)return null;const[l]=IR(e,i,o);return{route:o.node.route,rawParams:l,parsedParams:o.parsedParams}}function IR(e,t,n){const i=E$(n.node);let o=null;const l={};let u=n.extract?.part??0,f=n.extract?.node??0,d=n.extract?.path??0,p=n.extract?.segment??0;for(;f<i.length;u++,f++,d++,p++){const g=i[f];if(g.kind===Ls)break;if(g.kind===DR){p--,u--,d--;continue}const y=t[u],v=d;if(y&&(d+=y.length),g.kind===Fs){o??=n.node.fullPath.split("/");const S=o[p],E=g.prefix?.length??0;if(S.charCodeAt(E)===123){const A=g.suffix?.length??0,_=S.substring(E+2,S.length-A-1),I=y.substring(E,y.length-A);l[_]=decodeURIComponent(I)}else{const A=S.substring(1);l[A]=decodeURIComponent(y)}}else if(g.kind===Kl){if(n.skipped&1<<f){u--,d=v-1;continue}o??=n.node.fullPath.split("/");const S=o[p],E=g.prefix?.length??0,w=g.suffix?.length??0,A=S.substring(E+3,S.length-w-1),_=g.suffix||g.prefix?y.substring(E,y.length-w):y;_&&(l[A]=decodeURIComponent(_))}else if(g.kind===Vs){const S=g,E=e.substring(v+(S.prefix?.length??0),e.length-(S.suffix?.length??0)),w=decodeURIComponent(E);l["*"]=w,l._splat=w;break}}return n.rawParams&&Object.assign(l,n.rawParams),[l,{part:u,node:f,path:d,segment:p}]}function x$(e){const t=[e];for(;e.parentRoute;)e=e.parentRoute,t.push(e);return t.reverse(),t}function E$(e){const t=Array(e.depth+1);do t[e.depth]=e,e=e.parent;while(e);return t}function R$(e,t,n,i){if(e==="/"&&n.index)return{node:n.index,skipped:0};const o=!Vl(t),l=o&&e!=="/",u=t.length-(o?1:0),f=[{node:n,index:1,skipped:0,depth:1,statics:1,dynamics:0,optionals:0}];let d=null,p=null,g=null;for(;f.length;){const y=f.pop(),{node:v,index:S,skipped:E,depth:w,statics:A,dynamics:_,optionals:I}=y;let{extract:M,rawParams:k,parsedParams:U}=y;if(v.skipOnParamError){if(!im(e,t,y))continue;k=y.rawParams,M=y.extract,U=y.parsedParams}i&&v.route&&v.kind!==Ls&&El(p,y)&&(p=y);const K=S===u;if(K&&(v.route&&!l&&El(g,y)&&(g=y),!v.optional&&!v.wildcard&&!v.index&&!v.pathless))continue;const q=K?void 0:t[S];let L;if(K&&v.index){const W={node:v.index,index:S,skipped:E,depth:w+1,statics:A,dynamics:_,optionals:I,extract:M,rawParams:k,parsedParams:U};let oe=!0;if(v.index.skipOnParamError&&(im(e,t,W)||(oe=!1)),oe){if(A===u&&!_&&!I&&!E)return W;El(g,W)&&(g=W)}}if(v.wildcard&&El(d,y))for(const W of v.wildcard){const{prefix:oe,suffix:se}=W;if(oe&&(K||!(W.caseSensitive?q:L??=q.toLowerCase()).startsWith(oe)))continue;if(se){if(K)continue;const ce=t.slice(S).join("/").slice(-se.length);if((W.caseSensitive?ce:ce.toLowerCase())!==se)continue}const ue={node:W,index:u,skipped:E,depth:w,statics:A,dynamics:_,optionals:I,extract:M,rawParams:k,parsedParams:U};if(!(W.skipOnParamError&&!im(e,t,ue))){d=ue;break}}if(v.optional){const W=E|1<<w,oe=w+1;for(let se=v.optional.length-1;se>=0;se--){const ue=v.optional[se];f.push({node:ue,index:S,skipped:W,depth:oe,statics:A,dynamics:_,optionals:I,extract:M,rawParams:k,parsedParams:U})}if(!K)for(let se=v.optional.length-1;se>=0;se--){const ue=v.optional[se],{prefix:ce,suffix:X}=ue;if(ce||X){const H=ue.caseSensitive?q:L??=q.toLowerCase();if(ce&&!H.startsWith(ce)||X&&!H.endsWith(X))continue}f.push({node:ue,index:S+1,skipped:E,depth:oe,statics:A,dynamics:_,optionals:I+1,extract:M,rawParams:k,parsedParams:U})}}if(!K&&v.dynamic&&q)for(let W=v.dynamic.length-1;W>=0;W--){const oe=v.dynamic[W],{prefix:se,suffix:ue}=oe;if(se||ue){const ce=oe.caseSensitive?q:L??=q.toLowerCase();if(se&&!ce.startsWith(se)||ue&&!ce.endsWith(ue))continue}f.push({node:oe,index:S+1,skipped:E,depth:w+1,statics:A,dynamics:_+1,optionals:I,extract:M,rawParams:k,parsedParams:U})}if(!K&&v.staticInsensitive){const W=v.staticInsensitive.get(L??=q.toLowerCase());W&&f.push({node:W,index:S+1,skipped:E,depth:w+1,statics:A+1,dynamics:_,optionals:I,extract:M,rawParams:k,parsedParams:U})}if(!K&&v.static){const W=v.static.get(q);W&&f.push({node:W,index:S+1,skipped:E,depth:w+1,statics:A+1,dynamics:_,optionals:I,extract:M,rawParams:k,parsedParams:U})}if(v.pathless){const W=w+1;for(let oe=v.pathless.length-1;oe>=0;oe--){const se=v.pathless[oe];f.push({node:se,index:S,skipped:E,depth:W,statics:A,dynamics:_,optionals:I,extract:M,rawParams:k,parsedParams:U})}}}if(g&&d)return El(d,g)?g:d;if(g)return g;if(d)return d;if(i&&p){let y=p.index;for(let S=0;S<p.index;S++)y+=t[S].length;const v=y===e.length?"/":e.slice(y);return p.rawParams??={},p.rawParams["**"]=decodeURIComponent(v),p}return null}function im(e,t,n){try{const[i,o]=IR(e,t,n);n.rawParams=i,n.extract=o;const l=n.node.parse(i);return n.parsedParams=Object.assign({},n.parsedParams,l),!0}catch{return null}}function El(e,t){return e?t.statics>e.statics||t.statics===e.statics&&(t.dynamics>e.dynamics||t.dynamics===e.dynamics&&(t.optionals>e.optionals||t.optionals===e.optionals&&((t.node.kind===Ls)>(e.node.kind===Ls)||t.node.kind===Ls==(e.node.kind===Ls)&&t.depth>e.depth))):!0}function df(e){return Uy(e.filter(t=>t!==void 0).join("/"))}function Uy(e){return e.replace(/\/{2,}/g,"/")}function jR(e){return e==="/"?e:e.replace(/^\/{1,}/,"")}function ai(e){const t=e.length;return t>1&&e[t-1]==="/"?e.replace(/\/{1,}$/,""):e}function PR(e){return ai(jR(e))}function _f(e,t){return e?.endsWith("/")&&e!=="/"&&e!==`${t}/`?e.slice(0,-1):e}function A$(e,t,n){return _f(e,n)===_f(t,n)}function C$({base:e,to:t,trailingSlash:n="never",cache:i}){const o=t.startsWith("/"),l=!o&&t===".";let u;if(i){u=o?t:l?e:e+"\0"+t;const y=i.get(u);if(y)return y}let f;if(l)f=e.split("/");else if(o)f=t.split("/");else{for(f=e.split("/");f.length>1&&Vl(f)==="";)f.pop();const y=t.split("/");for(let v=0,S=y.length;v<S;v++){const E=y[v];E===""?v?v===S-1&&f.push(E):f=[E]:E===".."?f.pop():E==="."||f.push(E)}}f.length>1&&(Vl(f)===""?n==="never"&&f.pop():n==="always"&&f.push(""));let d,p="";for(let y=0;y<f.length;y++){y>0&&(p+="/");const v=f[y];if(!v)continue;d=qy(v,0,d);const S=d[0];if(S===la){p+=v;continue}const E=d[5],w=v.substring(0,d[1]),A=v.substring(d[4],E),_=v.substring(d[2],d[3]);S===Fs?p+=w||A?`${w}{$${_}}${A}`:`$${_}`:S===Vs?p+=w||A?`${w}{$}${A}`:"$":p+=`${w}{-$${_}}${A}`}p=Uy(p);const g=p||"/";return u&&i&&i.set(u,g),g}function T$(e){const t=new Map(e.map(o=>[encodeURIComponent(o),o])),n=Array.from(t.keys()).map(o=>o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|"),i=new RegExp(n,"g");return o=>o.replace(i,l=>t.get(l)??l)}function sm(e,t,n){const i=t[e];return typeof i!="string"?i:e==="_splat"?/^[a-zA-Z0-9\-._~!/]*$/.test(i)?i:i.split("/").map(o=>lx(o,n)).join("/"):lx(i,n)}function om({path:e,params:t,decoder:n,server:i}){let o=!1;const l={};if(!e||e==="/")return{interpolatedPath:"/",usedParams:l,isMissingParams:o};if(!e.includes("$"))return{interpolatedPath:e,usedParams:l,isMissingParams:o};const u=e.length;let f=0,d,p="";for(;f<u;){const y=f;d=qy(e,y,d);const v=d[5];if(f=v+1,y===v)continue;const S=d[0];if(S===la){p+="/"+e.substring(y,v);continue}if(S===Vs){const E=t._splat;l._splat=E,l["*"]=E;const w=e.substring(y,d[1]),A=e.substring(d[4],v);if(!E){o=!0,(w||A)&&(p+="/"+w+A);continue}const _=sm("_splat",t,n);p+="/"+w+_+A;continue}if(S===Fs){const E=e.substring(d[2],d[3]);!o&&!(E in t)&&(o=!0),l[E]=t[E];const w=e.substring(y,d[1]),A=e.substring(d[4],v),_=sm(E,t,n)??"undefined";p+="/"+w+_+A;continue}if(S===Kl){const E=e.substring(d[2],d[3]),w=t[E];if(w==null)continue;l[E]=w;const A=e.substring(y,d[1]),_=e.substring(d[4],v),I=sm(E,t,n)??"";p+="/"+A+I+_;continue}}return e.endsWith("/")&&(p+="/"),{usedParams:l,interpolatedPath:p||"/",isMissingParams:o}}function lx(e,t){const n=encodeURIComponent(e);return t?.(n)??n}function on(e){return!!e?.isNotFound}function _$(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{}}const Qg="tsr-scroll-restoration-v1_3",O$=(e,t)=>{let n;return(...i)=>{n||(n=setTimeout(()=>{e(...i),n=null},t))}};function M$(){const e=_$();if(!e)return null;const t=e.getItem(Qg);let n=t?JSON.parse(t):{};return{state:n,set:i=>{n=Ji(i,n)||n;try{e.setItem(Qg,JSON.stringify(n))}catch{console.warn("[ts-router] Could not persist scroll restoration state to sessionStorage.")}}}}const Uu=M$(),N$=e=>e.state.__TSR_key||e.href;function k$(e){const t=[];let n;for(;n=e.parentNode;)t.push(`${e.tagName}:nth-child(${Array.prototype.indexOf.call(n.children,e)+1})`),e=n;return`${t.reverse().join(" > ")}`.toLowerCase()}let Of=!1;function $$({storageKey:e,key:t,behavior:n,shouldScrollRestoration:i,scrollToTopSelectors:o,location:l}){let u;try{u=JSON.parse(sessionStorage.getItem(e)||"{}")}catch(p){console.error(p);return}const f=t||window.history.state?.__TSR_key,d=u[f];Of=!0;e:{if(i&&d&&Object.keys(d).length>0){for(const y in d){const v=d[y];if(y==="window")window.scrollTo({top:v.scrollY,left:v.scrollX,behavior:n});else if(y){const S=document.querySelector(y);S&&(S.scrollLeft=v.scrollX,S.scrollTop=v.scrollY)}}break e}const p=(l??window.location).hash.split("#",2)[1];if(p){const y=window.history.state?.__hashScrollIntoViewOptions??!0;if(y){const v=document.getElementById(p);v&&v.scrollIntoView(y)}break e}const g={top:0,left:0,behavior:n};if(window.scrollTo(g),o)for(const y of o){if(y==="window")continue;const v=typeof y=="function"?y():document.querySelector(y);v&&v.scrollTo(g)}}Of=!1}function L$(e,t){if(!Uu||((e.options.scrollRestoration??!1)&&(e.isScrollRestoring=!0),e.isScrollRestorationSetup||!Uu))return;e.isScrollRestorationSetup=!0,Of=!1;const i=e.options.getScrollRestorationKey||N$;window.history.scrollRestoration="manual";const o=l=>{if(Of||!e.isScrollRestoring)return;let u="";if(l.target===document||l.target===window)u="window";else{const d=l.target.getAttribute("data-scroll-restoration-id");d?u=`[data-scroll-restoration-id="${d}"]`:u=k$(l.target)}const f=i(e.state.location);Uu.set(d=>{const p=d[f]||={},g=p[u]||={};if(u==="window")g.scrollX=window.scrollX||0,g.scrollY=window.scrollY||0;else if(u){const y=document.querySelector(u);y&&(g.scrollX=y.scrollLeft||0,g.scrollY=y.scrollTop||0)}return d})};typeof document<"u"&&document.addEventListener("scroll",O$(o,100),!0),e.subscribe("onRendered",l=>{const u=i(l.toLocation);if(!e.resetNextScroll){e.resetNextScroll=!0;return}typeof e.options.scrollRestoration=="function"&&!e.options.scrollRestoration({location:e.latestLocation})||($$({storageKey:Qg,key:u,behavior:e.options.scrollRestorationBehavior,shouldScrollRestoration:e.isScrollRestoring,scrollToTopSelectors:e.options.scrollToTopSelectors,location:e.history.location}),e.isScrollRestoring&&Uu.set(f=>(f[u]||={},f)))})}function D$(e){if(typeof document<"u"&&document.querySelector){const t=e.state.location.state.__hashScrollIntoViewOptions??!0;if(t&&e.state.location.hash!==""){const n=document.getElementById(e.state.location.hash);n&&n.scrollIntoView(t)}}}function qR(e,t=String){const n=new URLSearchParams;for(const i in e){const o=e[i];o!==void 0&&n.set(i,t(o))}return n.toString()}function am(e){return e?e==="false"?!1:e==="true"?!0:+e*0===0&&+e+""===e?+e:e:""}function I$(e){const t=new URLSearchParams(e),n={};for(const[i,o]of t.entries()){const l=n[i];l==null?n[i]=am(o):Array.isArray(l)?l.push(am(o)):n[i]=[l,am(o)]}return n}const j$=q$(JSON.parse),P$=z$(JSON.stringify,JSON.parse);function q$(e){return t=>{t[0]==="?"&&(t=t.substring(1));const n=I$(t);for(const i in n){const o=n[i];if(typeof o=="string")try{n[i]=e(o)}catch{}}return n}}function z$(e,t){const n=typeof t=="function";function i(o){if(typeof o=="object"&&o!==null)try{return e(o)}catch{}else if(n&&typeof o=="string")try{return t(o),e(o)}catch{}return o}return o=>{const l=qR(o,i);return l?`?${l}`:""}}const Wn="__root__";function ca(e){if(e.statusCode=e.statusCode||e.code||307,!e._builtLocation&&typeof e.href=="string"&&Cf(e.href))throw new Error(`Redirect blocked: unsafe protocol in href "${e.href}". Only ${LR.join(", ")} protocols are allowed.`);if(!e._builtLocation&&!e.reloadDocument&&typeof e.href=="string")try{new URL(e.href),e.reloadDocument=!0}catch{}const t=new Headers(e.headers);e.href&&t.get("Location")===null&&t.set("Location",e.href);const n=new Response(null,{status:e.statusCode,headers:t});if(n.options=e,e.throw)throw n;return n}function nr(e){return e instanceof Response&&!!e.options}function U$(e){if(e!==null&&typeof e=="object"&&e.isSerializedRedirect)return ca(e)}const hf=e=>{if(!e.rendered)return e.rendered=!0,e.onReady?.()},td=(e,t)=>!!(e.preload&&!e.router.state.matches.some(n=>n.id===t)),ea=(e,t,n=!0)=>{const i={...e.router.options.context??{}},o=n?t:t-1;for(let l=0;l<=o;l++){const u=e.matches[l];if(!u)continue;const f=e.router.getMatch(u.id);f&&Object.assign(i,f.__routeContext,f.__beforeLoadContext)}return i},zR=(e,t)=>{const n=e.router.routesById[t.routeId??""]??e.router.routeTree;!n.options.notFoundComponent&&e.router.options?.defaultNotFoundComponent&&(n.options.notFoundComponent=e.router.options.defaultNotFoundComponent),Rn(n.options.notFoundComponent);const i=e.matches.find(o=>o.routeId===n.id);Rn(i,"Could not find match for route: "+n.id),e.updateMatch(i.id,o=>({...o,status:"notFound",error:t,isFetching:!1})),t.routerCode==="BEFORE_LOAD"&&n.parentRoute&&(t.routeId=n.parentRoute.id,zR(e,t))},Zi=(e,t,n)=>{if(!(!nr(n)&&!on(n))){if(nr(n)&&n.redirectHandled&&!n.options.reloadDocument)throw n;if(t){t._nonReactive.beforeLoadPromise?.resolve(),t._nonReactive.loaderPromise?.resolve(),t._nonReactive.beforeLoadPromise=void 0,t._nonReactive.loaderPromise=void 0;const i=nr(n)?"redirected":"notFound";t._nonReactive.error=n,e.updateMatch(t.id,o=>({...o,status:i,context:ea(e,t.index),isFetching:!1,error:n})),on(n)&&!n.routeId&&(n.routeId=t.routeId),t._nonReactive.loadPromise?.resolve()}throw nr(n)?(e.rendered=!0,n.options._fromLocation=e.location,n.redirectHandled=!0,n=e.router.resolveRedirect(n),n):(zR(e,n),n)}},UR=(e,t)=>!!e.router.getMatch(t)._nonReactive.dehydrated,Rl=(e,t,n,i)=>{const{id:o,routeId:l}=e.matches[t],u=e.router.looseRoutesById[l];if(n instanceof Promise)throw n;n.routerCode=i,e.firstBadMatchIndex??=t,Zi(e,e.router.getMatch(o),n);try{u.options.onError?.(n)}catch(f){n=f,Zi(e,e.router.getMatch(o),n)}e.updateMatch(o,f=>(f._nonReactive.beforeLoadPromise?.resolve(),f._nonReactive.beforeLoadPromise=void 0,f._nonReactive.loadPromise?.resolve(),{...f,error:n,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}))},BR=(e,t,n,i)=>{if(i._nonReactive.pendingTimeout!==void 0)return;const o=n.options.pendingMs??e.router.options.defaultPendingMs;if(!!(e.onReady&&!td(e,t)&&(n.options.loader||n.options.beforeLoad||KR(n))&&typeof o=="number"&&o!==1/0&&(n.options.pendingComponent??e.router.options?.defaultPendingComponent))){const u=setTimeout(()=>{hf(e)},o);i._nonReactive.pendingTimeout=u}},B$=(e,t,n)=>{const i=e.router.getMatch(t);if(!i._nonReactive.beforeLoadPromise&&!i._nonReactive.loaderPromise)return;BR(e,t,n,i);const o=()=>{const l=e.router.getMatch(t);l.preload&&(l.status==="redirected"||l.status==="notFound")&&Zi(e,l,l.error)};return i._nonReactive.beforeLoadPromise?i._nonReactive.beforeLoadPromise.then(o):o()},F$=(e,t,n,i)=>{const o=e.router.getMatch(t),l=o._nonReactive.loadPromise;o._nonReactive.loadPromise=Bs(()=>{l?.resolve()});const{paramsError:u,searchError:f}=o;u&&Rl(e,n,u,"PARSE_PARAMS"),f&&Rl(e,n,f,"VALIDATE_SEARCH"),BR(e,t,i,o);const d=new AbortController;let p=!1;const g=()=>{p||(p=!0,e.updateMatch(t,k=>({...k,isFetching:"beforeLoad",fetchCount:k.fetchCount+1,abortController:d})))},y=()=>{o._nonReactive.beforeLoadPromise?.resolve(),o._nonReactive.beforeLoadPromise=void 0,e.updateMatch(t,k=>({...k,isFetching:!1}))};if(!i.options.beforeLoad){Zo(()=>{g(),y()});return}o._nonReactive.beforeLoadPromise=Bs();const v={...ea(e,n,!1),...o.__routeContext},{search:S,params:E,cause:w}=o,A=td(e,t),_={search:S,abortController:d,params:E,preload:A,context:v,location:e.location,navigate:k=>e.router.navigate({...k,_fromLocation:e.location}),buildLocation:e.router.buildLocation,cause:A?"preload":w,matches:e.matches,...e.router.options.additionalContext},I=k=>{if(k===void 0){Zo(()=>{g(),y()});return}(nr(k)||on(k))&&(g(),Rl(e,n,k,"BEFORE_LOAD")),Zo(()=>{g(),e.updateMatch(t,U=>({...U,__beforeLoadContext:k})),y()})};let M;try{if(M=i.options.beforeLoad(_),Wo(M))return g(),M.catch(k=>{Rl(e,n,k,"BEFORE_LOAD")}).then(I)}catch(k){g(),Rl(e,n,k,"BEFORE_LOAD")}I(M)},V$=(e,t)=>{const{id:n,routeId:i}=e.matches[t],o=e.router.looseRoutesById[i],l=()=>f(),u=()=>F$(e,n,t,o),f=()=>{if(UR(e,n))return;const d=B$(e,n,o);return Wo(d)?d.then(u):u()};return l()},K$=(e,t,n)=>{const i=e.router.getMatch(t);if(!i||!n.options.head&&!n.options.scripts&&!n.options.headers)return;const o={ssr:e.router.options.ssr,matches:e.matches,match:i,params:i.params,loaderData:i.loaderData};return Promise.all([n.options.head?.(o),n.options.scripts?.(o),n.options.headers?.(o)]).then(([l,u,f])=>{const d=l?.meta,p=l?.links,g=l?.scripts,y=l?.styles;return{meta:d,links:p,headScripts:g,headers:f,scripts:u,styles:y}})},FR=(e,t,n,i)=>{const o=e.matchPromises[n-1],{params:l,loaderDeps:u,abortController:f,cause:d}=e.router.getMatch(t),p=ea(e,n),g=td(e,t);return{params:l,deps:u,preload:!!g,parentMatchPromise:o,abortController:f,context:p,location:e.location,navigate:y=>e.router.navigate({...y,_fromLocation:e.location}),cause:g?"preload":d,route:i,...e.router.options.additionalContext}},cx=async(e,t,n,i)=>{try{const o=e.router.getMatch(t);try{(!(s$??e.router.isServer)||o.ssr===!0)&&VR(i);const l=i.options.loader?.(FR(e,t,n,i)),u=i.options.loader&&Wo(l);if((u||i._lazyPromise||i._componentsPromise||i.options.head||i.options.scripts||i.options.headers||o._nonReactive.minPendingPromise)&&e.updateMatch(t,p=>({...p,isFetching:"loader"})),i.options.loader){const p=u?await l:l;Zi(e,e.router.getMatch(t),p),p!==void 0&&e.updateMatch(t,g=>({...g,loaderData:p}))}i._lazyPromise&&await i._lazyPromise;const d=o._nonReactive.minPendingPromise;d&&await d,i._componentsPromise&&await i._componentsPromise,e.updateMatch(t,p=>({...p,error:void 0,context:ea(e,n),status:"success",isFetching:!1,updatedAt:Date.now()}))}catch(l){let u=l;if(u?.name==="AbortError"){e.updateMatch(t,d=>({...d,status:d.status==="pending"?"success":d.status,isFetching:!1,context:ea(e,n)}));return}const f=o._nonReactive.minPendingPromise;f&&await f,on(l)&&await i.options.notFoundComponent?.preload?.(),Zi(e,e.router.getMatch(t),l);try{i.options.onError?.(l)}catch(d){u=d,Zi(e,e.router.getMatch(t),d)}e.updateMatch(t,d=>({...d,error:u,context:ea(e,n),status:"error",isFetching:!1}))}}catch(o){const l=e.router.getMatch(t);l&&(l._nonReactive.loaderPromise=void 0),Zi(e,l,o)}},H$=async(e,t)=>{const{id:n,routeId:i}=e.matches[t];let o=!1,l=!1;const u=e.router.looseRoutesById[i];if(!UR(e,n)){const p=e.router.getMatch(n);if(p._nonReactive.loaderPromise){if(p.status==="success"&&!e.sync&&!p.preload)return p;await p._nonReactive.loaderPromise;const g=e.router.getMatch(n),y=g._nonReactive.error||g.error;y&&Zi(e,g,y)}else{const g=Date.now()-p.updatedAt,y=td(e,n),v=y?u.options.preloadStaleTime??e.router.options.defaultPreloadStaleTime??3e4:u.options.staleTime??e.router.options.defaultStaleTime??0,S=u.options.shouldReload,E=typeof S=="function"?S(FR(e,n,t,u)):S,w=!!y&&!e.router.state.matches.some(M=>M.id===n),A=e.router.getMatch(n);A._nonReactive.loaderPromise=Bs(),w!==A.preload&&e.updateMatch(n,M=>({...M,preload:w}));const{status:_,invalid:I}=A;o=_==="success"&&(I||(E??g>v)),y&&u.options.preload===!1||(o&&!e.sync?(l=!0,(async()=>{try{await cx(e,n,t,u);const M=e.router.getMatch(n);M._nonReactive.loaderPromise?.resolve(),M._nonReactive.loadPromise?.resolve(),M._nonReactive.loaderPromise=void 0}catch(M){nr(M)&&await e.router.navigate(M.options)}})()):(_!=="success"||o&&e.sync)&&await cx(e,n,t,u))}}const f=e.router.getMatch(n);l||(f._nonReactive.loaderPromise?.resolve(),f._nonReactive.loadPromise?.resolve()),clearTimeout(f._nonReactive.pendingTimeout),f._nonReactive.pendingTimeout=void 0,l||(f._nonReactive.loaderPromise=void 0),f._nonReactive.dehydrated=void 0;const d=l?f.isFetching:!1;return d!==f.isFetching||f.invalid!==!1?(e.updateMatch(n,p=>({...p,isFetching:d,invalid:!1})),e.router.getMatch(n)):f};async function ux(e){const t=Object.assign(e,{matchPromises:[]});t.router.state.matches.some(n=>n._forcePending)&&hf(t);try{for(let f=0;f<t.matches.length;f++){const d=V$(t,f);Wo(d)&&await d}const n=t.firstBadMatchIndex??t.matches.length;for(let f=0;f<n;f++)t.matchPromises.push(H$(t,f));const o=(await Promise.allSettled(t.matchPromises)).filter(f=>f.status==="rejected").map(f=>f.reason);let l;for(const f of o){if(nr(f))throw f;!l&&on(f)&&(l=f)}for(const f of t.matches){const{id:d,routeId:p}=f,g=t.router.looseRoutesById[p];try{const y=K$(t,d,g);if(y){const v=await y;t.updateMatch(d,S=>({...S,...v}))}}catch(y){console.error(`Error executing head for route ${p}:`,y)}}if(l)throw l;const u=hf(t);Wo(u)&&await u}catch(n){if(on(n)&&!t.preload){const i=hf(t);throw Wo(i)&&await i,n}if(nr(n))throw n}return t.matches}async function VR(e){if(!e._lazyLoaded&&e._lazyPromise===void 0&&(e.lazyFn?e._lazyPromise=e.lazyFn().then(t=>{const{id:n,...i}=t.options;Object.assign(e.options,i),e._lazyLoaded=!0,e._lazyPromise=void 0}):e._lazyLoaded=!0),!e._componentsLoaded&&e._componentsPromise===void 0){const t=()=>{const n=[];for(const i of HR){const o=e.options[i]?.preload;o&&n.push(o())}if(n.length)return Promise.all(n).then(()=>{e._componentsLoaded=!0,e._componentsPromise=void 0});e._componentsLoaded=!0,e._componentsPromise=void 0};e._componentsPromise=e._lazyPromise?e._lazyPromise.then(t):t()}return e._componentsPromise}function KR(e){for(const t of HR)if(e.options[t]?.preload)return!0;return!1}const HR=["component","errorComponent","pendingComponent","notFoundComponent"];function G$(e){return{input:({url:t})=>{for(const n of e)t=Yg(n,t);return t},output:({url:t})=>{for(let n=e.length-1;n>=0;n--)t=GR(e[n],t);return t}}}function Q$(e){const t=PR(e.basepath),n=`/${t}`,i=`${n}/`,o=e.caseSensitive?n:n.toLowerCase(),l=e.caseSensitive?i:i.toLowerCase();return{input:({url:u})=>{const f=e.caseSensitive?u.pathname:u.pathname.toLowerCase();return f===o?u.pathname="/":f.startsWith(l)&&(u.pathname=u.pathname.slice(n.length)),u},output:({url:u})=>(u.pathname=df(["/",t,u.pathname]),u)}}function Yg(e,t){const n=e?.input?.({url:t});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return t}function GR(e,t){const n=e?.output?.({url:t});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return t}function Y$(e){return e instanceof Error?{name:e.name,message:e.message}:{data:e}}function qs(e){const t=e.resolvedLocation,n=e.location,i=t?.pathname!==n.pathname,o=t?.href!==n.href,l=t?.hash!==n.hash;return{fromLocation:t,toLocation:n,pathChanged:i,hrefChanged:o,hashChanged:l}}class X${constructor(t){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=n=>n(),this.update=n=>{n.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const i=this.options,o=this.basepath??i?.basepath??"/",l=this.basepath===void 0,u=i?.rewrite;if(this.options={...i,...n},this.isServer=this.options.isServer??typeof document>"u",this.options.pathParamsAllowedCharacters&&(this.pathParamsDecoder=T$(this.options.pathParamsAllowedCharacters)),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.options.history?this.history=this.options.history:this.history=r$()),this.origin=this.options.origin,this.origin||(window?.origin&&window.origin!=="null"?this.origin=window.origin:this.origin="http://localhost"),this.history&&this.updateLatestLocation(),this.options.routeTree!==this.routeTree){this.routeTree=this.options.routeTree;let v;this.resolvePathCache=Tf(1e3),v=this.buildRouteTree(),this.setRoutes(v)}!this.__store&&this.latestLocation&&(this.__store=new t$(Z$(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(v=>!["redirected"].includes(v.status))}}}),L$(this));let f=!1;const d=this.options.basepath??"/",p=this.options.rewrite;if(l||o!==d||u!==p){this.basepath=d;const v=[],S=PR(d);S&&S!=="/"&&v.push(Q$({basepath:d})),p&&v.push(p),this.rewrite=v.length===0?void 0:v.length===1?v[0]:G$(v),this.history&&this.updateLatestLocation(),f=!0}f&&this.__store&&(this.__store.state={...this.state,location:this.latestLocation}),typeof window<"u"&&"CSS"in window&&typeof window.CSS?.supports=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{const n=S$(this.routeTree,this.options.caseSensitive,(i,o)=>{i.init({originalIndex:o})});return this.options.routeMasks&&g$(this.options.routeMasks,n.processedTree),n},this.subscribe=(n,i)=>{const o={eventType:n,fn:i};return this.subscribers.add(o),()=>{this.subscribers.delete(o)}},this.emit=n=>{this.subscribers.forEach(i=>{i.eventType===n.type&&i.fn(n)})},this.parseLocation=(n,i)=>{const o=({pathname:d,search:p,hash:g,href:y,state:v})=>{if(!this.rewrite&&!/[ \x00-\x1f\x7f\u0080-\uffff]/.test(d)){const I=this.options.parseSearch(p),M=this.options.stringifySearch(I);return{href:d+M+g,publicHref:y,pathname:xl(d),external:!1,searchStr:M,search:vn(i?.search,I),hash:xl(g.slice(1)),state:vn(i?.state,v)}}const S=new URL(y,this.origin),E=Yg(this.rewrite,S),w=this.options.parseSearch(E.search),A=this.options.stringifySearch(w);return E.search=A,{href:E.href.replace(E.origin,""),publicHref:y,pathname:xl(E.pathname),external:!!this.rewrite&&E.origin!==this.origin,searchStr:A,search:vn(i?.search,w),hash:xl(E.hash.slice(1)),state:vn(i?.state,v)}},l=o(n),{__tempLocation:u,__tempKey:f}=l.state;if(u&&(!f||f===this.tempLocationKey)){const d=o(u);return d.state.key=l.state.key,d.state.__TSR_key=l.state.__TSR_key,delete d.state.__tempLocation,{...d,maskedLocation:l}}return l},this.resolvePathWithBase=(n,i)=>C$({base:n,to:Uy(i),trailingSlash:this.options.trailingSlash,cache:this.resolvePathCache}),this.matchRoutes=(n,i,o)=>typeof n=="string"?this.matchRoutesInternal({pathname:n,search:i},o):this.matchRoutesInternal(n,i),this.getMatchedRoutes=n=>W$({pathname:n,routesById:this.routesById,processedTree:this.processedTree}),this.cancelMatch=n=>{const i=this.getMatch(n);i&&(i.abortController.abort(),clearTimeout(i._nonReactive.pendingTimeout),i._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{const n=this.state.matches.filter(l=>l.status==="pending"),i=this.state.matches.filter(l=>l.isFetching==="loader");new Set([...this.state.pendingMatches??[],...n,...i]).forEach(l=>{this.cancelMatch(l.id)})},this.buildLocation=n=>{const i=(l={})=>{const u=l._fromLocation||this.pendingBuiltLocation||this.latestLocation,f=this.matchRoutesLightweight(u);l.from;const d=l.unsafeRelative==="path"?u.pathname:l.from??f.fullPath,p=this.resolvePathWithBase(d,"."),g=f.search,y={...f.params},v=l.to?this.resolvePathWithBase(p,`${l.to}`):this.resolvePathWithBase(p,"."),S=l.params===!1||l.params===null?{}:(l.params??!0)===!0?y:Object.assign(y,Ji(l.params,y)),E=om({path:v,params:S,decoder:this.pathParamsDecoder,server:this.isServer}).interpolatedPath,w=this.getMatchedRoutes(E);let A=w.matchedRoutes;(w.foundRoute?w.foundRoute.path!=="/"&&w.routeParams["**"]:ai(E))&&this.options.notFoundRoute&&(A=[...A,this.options.notFoundRoute]);let I=!1;if(Object.keys(S).length>0)for(const ce of A){const X=ce.options.params?.stringify??ce.options.stringifyParams;X&&(I=!0,Object.assign(S,X(S)))}const M=n.leaveParams?v:xl(I?om({path:v,params:S,decoder:this.pathParamsDecoder,server:this.isServer}).interpolatedPath:E);let k=g;if(n._includeValidateSearch&&this.options.search?.strict){const ce={};A.forEach(X=>{if(X.options.validateSearch)try{Object.assign(ce,pf(X.options.validateSearch,{...ce,...k}))}catch{}}),k=ce}k=e2({search:k,dest:l,destRoutes:A,_includeValidateSearch:n._includeValidateSearch}),k=vn(g,k);const U=this.options.stringifySearch(k),K=l.hash===!0?u.hash:l.hash?Ji(l.hash,u.hash):void 0,q=K?`#${K}`:"";let L=l.state===!0?u.state:l.state?Ji(l.state,u.state):{};L=vn(u.state,L);const W=`${M}${U}${q}`;let oe,se,ue=!1;if(this.rewrite){const ce=new URL(W,this.origin),X=GR(this.rewrite,ce);oe=ce.href.replace(ce.origin,""),X.origin!==this.origin?(se=X.href,ue=!0):se=X.pathname+X.search+X.hash}else oe=h$(W),se=oe;return{publicHref:se,href:oe,pathname:M,search:k,searchStr:U,state:L,hash:K??"",external:ue,unmaskOnReload:l.unmaskOnReload}},o=(l={},u)=>{const f=i(l);let d=u?i(u):void 0;if(!d){const p={};if(this.options.routeMasks){const g=y$(f.pathname,this.processedTree);if(g){Object.assign(p,g.rawParams);const{from:y,params:v,...S}=g.route,E=v===!1||v===null?{}:(v??!0)===!0?p:Object.assign(p,Ji(v,p));u={from:n.from,...S,params:E},d=i(u)}}}return d&&(f.maskedLocation=d),f};return n.mask?o(n,{from:n.from,...n.mask}):o(n)},this.commitLocation=async({viewTransition:n,ignoreBlocker:i,...o})=>{const l=()=>{const d=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];d.forEach(g=>{o.state[g]=this.latestLocation.state[g]});const p=Ps(o.state,this.latestLocation.state);return d.forEach(g=>{delete o.state[g]}),p},u=ai(this.latestLocation.href)===ai(o.href),f=this.commitLocationPromise;if(this.commitLocationPromise=Bs(()=>{f?.resolve()}),u&&l())this.load();else{let{maskedLocation:d,hashScrollIntoView:p,...g}=o;d&&(g={...d,state:{...d.state,__tempKey:void 0,__tempLocation:{...g,search:g.searchStr,state:{...g.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(g.unmaskOnReload??this.options.unmaskOnReload??!1)&&(g.state.__tempKey=this.tempLocationKey)),g.state.__hashScrollIntoViewOptions=p??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=n,this.history[o.replace?"replace":"push"](g.publicHref,g.state,{ignoreBlocker:i})}return this.resetNextScroll=o.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:n,resetScroll:i,hashScrollIntoView:o,viewTransition:l,ignoreBlocker:u,href:f,...d}={})=>{if(f){const y=this.history.location.state.__TSR_index,v=Rf(f,{__TSR_index:n?y:y+1}),S=new URL(v.pathname,this.origin),E=Yg(this.rewrite,S);d.to=E.pathname,d.search=this.options.parseSearch(v.search),d.hash=v.hash.slice(1)}const p=this.buildLocation({...d,_includeValidateSearch:!0});this.pendingBuiltLocation=p;const g=this.commitLocation({...p,viewTransition:l,replace:n,resetScroll:i,hashScrollIntoView:o,ignoreBlocker:u});return Promise.resolve().then(()=>{this.pendingBuiltLocation===p&&(this.pendingBuiltLocation=void 0)}),g},this.navigate=async({to:n,reloadDocument:i,href:o,publicHref:l,...u})=>{let f=!1;if(o)try{new URL(`${o}`),f=!0}catch{}if(f&&!i&&(i=!0),i){if(n!==void 0||!o){const p=this.buildLocation({to:n,...u});o=o??p.publicHref,l=l??p.publicHref}const d=!f&&l?l:o;if(Cf(d))return Promise.resolve();if(!u.ignoreBlocker){const g=this.history.getBlockers?.()??[];for(const y of g)if(y?.blockerFn&&await y.blockerFn({currentLocation:this.latestLocation,nextLocation:this.latestLocation,action:"PUSH"}))return Promise.resolve()}return u.replace?window.location.replace(d):window.location.href=d,Promise.resolve()}return this.buildAndCommitLocation({...u,href:o,to:n,_isNavigate:!0})},this.beforeLoad=()=>{this.cancelMatches(),this.updateLatestLocation();const n=this.matchRoutes(this.latestLocation);this.__store.setState(i=>({...i,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:n,cachedMatches:i.cachedMatches.filter(o=>!n.some(l=>l.id===o.id))}))},this.load=async n=>{let i,o,l;for(l=new Promise(f=>{this.startTransition(async()=>{try{this.beforeLoad();const d=this.latestLocation,p=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...qs({resolvedLocation:p,location:d})}),this.emit({type:"onBeforeLoad",...qs({resolvedLocation:p,location:d})}),await ux({router:this,sync:n?.sync,matches:this.state.pendingMatches,location:d,updateMatch:this.updateMatch,onReady:async()=>{this.startTransition(()=>{this.startViewTransition(async()=>{let g=[],y=[],v=[];Zo(()=>{this.__store.setState(S=>{const E=S.matches,w=S.pendingMatches||S.matches;return g=E.filter(A=>!w.some(_=>_.id===A.id)),y=w.filter(A=>!E.some(_=>_.id===A.id)),v=w.filter(A=>E.some(_=>_.id===A.id)),{...S,isLoading:!1,loadedAt:Date.now(),matches:w,pendingMatches:void 0,cachedMatches:[...S.cachedMatches,...g.filter(A=>A.status!=="error"&&A.status!=="notFound")]}}),this.clearExpiredCache()}),[[g,"onLeave"],[y,"onEnter"],[v,"onStay"]].forEach(([S,E])=>{S.forEach(w=>{this.looseRoutesById[w.routeId].options[E]?.(w)})})})})}})}catch(d){nr(d)?(i=d,this.navigate({...i.options,replace:!0,ignoreBlocker:!0})):on(d)&&(o=d),this.__store.setState(p=>({...p,statusCode:i?i.status:o?404:p.matches.some(g=>g.status==="error")?500:200,redirect:i}))}this.latestLoadPromise===l&&(this.commitLocationPromise?.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),f()})}),this.latestLoadPromise=l,await l;this.latestLoadPromise&&l!==this.latestLoadPromise;)await this.latestLoadPromise;let u;this.hasNotFoundMatch()?u=404:this.__store.state.matches.some(f=>f.status==="error")&&(u=500),u!==void 0&&this.__store.setState(f=>({...f,statusCode:u}))},this.startViewTransition=n=>{const i=this.shouldViewTransition??this.options.defaultViewTransition;if(this.shouldViewTransition=void 0,i&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let o;if(typeof i=="object"&&this.isViewTransitionTypesSupported){const l=this.latestLocation,u=this.state.resolvedLocation,f=typeof i.types=="function"?i.types(qs({resolvedLocation:u,location:l})):i.types;if(f===!1){n();return}o={update:n,types:f}}else o=n;document.startViewTransition(o)}else n()},this.updateMatch=(n,i)=>{this.startTransition(()=>{const o=this.state.pendingMatches?.some(l=>l.id===n)?"pendingMatches":this.state.matches.some(l=>l.id===n)?"matches":this.state.cachedMatches.some(l=>l.id===n)?"cachedMatches":"";o&&this.__store.setState(l=>({...l,[o]:l[o]?.map(u=>u.id===n?i(u):u)}))})},this.getMatch=n=>{const i=o=>o.id===n;return this.state.cachedMatches.find(i)??this.state.pendingMatches?.find(i)??this.state.matches.find(i)},this.invalidate=n=>{const i=o=>n?.filter?.(o)??!0?{...o,invalid:!0,...n?.forcePending||o.status==="error"||o.status==="notFound"?{status:"pending",error:void 0}:void 0}:o;return this.__store.setState(o=>({...o,matches:o.matches.map(i),cachedMatches:o.cachedMatches.map(i),pendingMatches:o.pendingMatches?.map(i)})),this.shouldViewTransition=!1,this.load({sync:n?.sync})},this.getParsedLocationHref=n=>n.publicHref||"/",this.resolveRedirect=n=>{const i=n.headers.get("Location");if(!n.options.href||n.options._builtLocation){const o=n.options._builtLocation??this.buildLocation(n.options),l=this.getParsedLocationHref(o);n.options.href=l,n.headers.set("Location",l)}else if(i)try{const o=new URL(i);if(this.origin&&o.origin===this.origin){const l=o.pathname+o.search+o.hash;n.options.href=l,n.headers.set("Location",l)}}catch{}return n.headers.get("Location")||n.headers.set("Location",n.options.href),n},this.clearCache=n=>{const i=n?.filter;i!==void 0?this.__store.setState(o=>({...o,cachedMatches:o.cachedMatches.filter(l=>!i(l))})):this.__store.setState(o=>({...o,cachedMatches:[]}))},this.clearExpiredCache=()=>{const n=i=>{const o=this.looseRoutesById[i.routeId];if(!o.options.loader)return!0;const l=(i.preload?o.options.preloadGcTime??this.options.defaultPreloadGcTime:o.options.gcTime??this.options.defaultGcTime)??300*1e3;return i.status==="error"?!0:Date.now()-i.updatedAt>=l};this.clearCache({filter:n})},this.loadRouteChunk=VR,this.preloadRoute=async n=>{const i=this.buildLocation(n);let o=this.matchRoutes(i,{throwOnError:!0,preload:!0,dest:n});const l=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(f=>f.id)),u=new Set([...l,...this.state.cachedMatches.map(f=>f.id)]);Zo(()=>{o.forEach(f=>{u.has(f.id)||this.__store.setState(d=>({...d,cachedMatches:[...d.cachedMatches,f]}))})});try{return o=await ux({router:this,matches:o,location:i,preload:!0,updateMatch:(f,d)=>{l.has(f)?o=o.map(p=>p.id===f?d(p):p):this.updateMatch(f,d)}}),o}catch(f){if(nr(f))return f.options.reloadDocument?void 0:await this.preloadRoute({...f.options,_fromLocation:i});on(f)||console.error(f);return}},this.matchRoute=(n,i)=>{const o={...n,to:n.to?this.resolvePathWithBase(n.from||"",n.to):void 0,params:n.params||{},leaveParams:!0},l=this.buildLocation(o);if(i?.pending&&this.state.status!=="pending")return!1;const f=(i?.pending===void 0?!this.state.isLoading:i.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,d=v$(l.pathname,i?.caseSensitive??!1,i?.fuzzy??!1,f.pathname,this.processedTree);return!d||n.params&&!Ps(d.rawParams,n.params,{partial:!0})?!1:i?.includeSearch??!0?Ps(f.search,l.search,{partial:!0})?d.rawParams:!1:d.rawParams},this.hasNotFoundMatch=()=>this.__store.state.matches.some(n=>n.status==="notFound"||n.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...t,caseSensitive:t.caseSensitive??!1,notFoundMode:t.notFoundMode??"fuzzy",stringifySearch:t.stringifySearch??P$,parseSearch:t.parseSearch??j$}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}setRoutes({routesById:t,routesByPath:n,processedTree:i}){this.routesById=t,this.routesByPath=n,this.processedTree=i;const o=this.options.notFoundRoute;o&&(o.init({originalIndex:99999999999}),this.routesById[o.id]=o)}get looseRoutesById(){return this.routesById}getParentContext(t){return t?.id?t.context??this.options.context??void 0:this.options.context??void 0}matchRoutesInternal(t,n){const i=this.getMatchedRoutes(t.pathname),{foundRoute:o,routeParams:l,parsedParams:u}=i;let{matchedRoutes:f}=i,d=!1;(o?o.path!=="/"&&l["**"]:ai(t.pathname))&&(this.options.notFoundRoute?f=[...f,this.options.notFoundRoute]:d=!0);const p=d?n2(this.options.notFoundMode,f):void 0,g=new Array(f.length);for(let y=0;y<f.length;y++){const v=f[y],S=g[y-1];let E,w,A;{const ce=S?.search??t.search,X=S?._strictSearch??void 0;try{const H=pf(v.options.validateSearch,{...ce})??void 0;E={...ce,...H},w={...X,...H},A=void 0}catch(H){let N=H;if(H instanceof Mf||(N=new Mf(H.message,{cause:H})),n?.throwOnError)throw N;E=ce,w={},A=N}}const _=v.options.loaderDeps?.({search:E})??"",I=_?JSON.stringify(_):"",{interpolatedPath:M,usedParams:k}=om({path:v.fullPath,params:l,decoder:this.pathParamsDecoder,server:this.isServer}),U=v.id+M+I,K=this.getMatch(U),q=this.state.matches.find(ce=>ce.routeId===v.id),L=K?._strictParams??k;let W;if(!K)try{fx(v,k,u,L)}catch(ce){if(on(ce)||nr(ce)?W=ce:W=new J$(ce.message,{cause:ce}),n?.throwOnError)throw W}Object.assign(l,L);const oe=q?"stay":"enter";let se;if(K)se={...K,cause:oe,params:q?vn(q.params,l):l,_strictParams:L,search:vn(q?q.search:K.search,E),_strictSearch:w};else{const ce=v.options.loader||v.options.beforeLoad||v.lazyFn||KR(v)?"pending":"success";se={id:U,ssr:v.options.ssr,index:y,routeId:v.id,params:q?vn(q.params,l):l,_strictParams:L,pathname:M,updatedAt:Date.now(),search:q?vn(q.search,E):E,_strictSearch:w,searchError:void 0,status:ce,isFetching:!1,error:void 0,paramsError:W,__routeContext:void 0,_nonReactive:{loadPromise:Bs()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:oe,loaderDeps:q?vn(q.loaderDeps,_):_,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:v.options.staticData||{},fullPath:v.fullPath}}n?.preload||(se.globalNotFound=p===v.id),se.searchError=A;const ue=this.getParentContext(S);se.context={...ue,...se.__routeContext,...se.__beforeLoadContext},g[y]=se}for(let y=0;y<g.length;y++){const v=g[y],S=this.looseRoutesById[v.routeId];if(!this.getMatch(v.id)){const w=g[y-1],A=this.getParentContext(w);if(S.options.context){const _={deps:v.loaderDeps,params:v.params,context:A??{},location:t,navigate:I=>this.navigate({...I,_fromLocation:t}),buildLocation:this.buildLocation,cause:v.cause,abortController:v.abortController,preload:!!v.preload,matches:g};v.__routeContext=S.options.context(_)??void 0}v.context={...A,...v.__routeContext,...v.__beforeLoadContext}}}return g}matchRoutesLightweight(t){const{matchedRoutes:n,routeParams:i,parsedParams:o}=this.getMatchedRoutes(t.pathname),l=Vl(n),u={...t.search};for(const g of n)try{Object.assign(u,pf(g.options.validateSearch,u))}catch{}const f=Vl(this.state.matches),d=f&&f.routeId===l.id&&t.pathname===this.state.location.pathname;let p;if(d)p=f.params;else{const g={...i};for(const y of n)try{fx(y,i,o??{},g)}catch{}p=g}return{matchedRoutes:n,fullPath:l.fullPath,search:u,params:p}}}class Mf extends Error{}class J$ extends Error{}function Z$(e){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:e,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function pf(e,t){if(e==null)return{};if("~standard"in e){const n=e["~standard"].validate(t);if(n instanceof Promise)throw new Mf("Async validation not supported");if(n.issues)throw new Mf(JSON.stringify(n.issues,void 0,2),{cause:n});return n.value}return"parse"in e?e.parse(t):typeof e=="function"?e(t):{}}function W$({pathname:e,routesById:t,processedTree:n}){const i={},o=ai(e);let l,u;const f=b$(o,n,!0);return f&&(l=f.route,Object.assign(i,f.rawParams),u=Object.assign({},f.parsedParams)),{matchedRoutes:f?.branch||[t[Wn]],routeParams:i,foundRoute:l,parsedParams:u}}function e2({search:e,dest:t,destRoutes:n,_includeValidateSearch:i}){return t2(n)(e,t,i??!1)}function t2(e){const t={dest:null,_includeValidateSearch:!1,middlewares:[]};for(const o of e){if("search"in o.options)o.options.search?.middlewares&&t.middlewares.push(...o.options.search.middlewares);else if(o.options.preSearchFilters||o.options.postSearchFilters){const l=({search:u,next:f})=>{let d=u;"preSearchFilters"in o.options&&o.options.preSearchFilters&&(d=o.options.preSearchFilters.reduce((g,y)=>y(g),u));const p=f(d);return"postSearchFilters"in o.options&&o.options.postSearchFilters?o.options.postSearchFilters.reduce((g,y)=>y(g),p):p};t.middlewares.push(l)}if(o.options.validateSearch){const l=({search:u,next:f})=>{const d=f(u);if(!t._includeValidateSearch)return d;try{return{...d,...pf(o.options.validateSearch,d)??void 0}}catch{return d}};t.middlewares.push(l)}}const n=({search:o})=>{const l=t.dest;return l.search?l.search===!0?o:Ji(l.search,o):{}};t.middlewares.push(n);const i=(o,l,u)=>{if(o>=u.length)return l;const f=u[o];return f({search:l,next:p=>i(o+1,p,u)})};return function(l,u,f){return t.dest=u,t._includeValidateSearch=f,i(0,l,t.middlewares)}}function n2(e,t){if(e!=="root")for(let n=t.length-1;n>=0;n--){const i=t[n];if(i.children)return i.id}return Wn}function fx(e,t,n,i){const o=e.options.params?.parse??e.options.parseParams;if(o)if(e.options.skipRouteOnParseError)for(const l in t)l in n&&(i[l]=n[l]);else{const l=o(i);Object.assign(i,l)}}const Cr=Symbol.for("TSR_DEFERRED_PROMISE");function r2(e,t){const n=e;return n[Cr]||(n[Cr]={status:"pending"},n.then(i=>{n[Cr].status="success",n[Cr].data=i}).catch(i=>{n[Cr].status="error",n[Cr].error={data:Y$(i),__isServerError:!0}})),n}const i2="Error preloading route! ";class QR{constructor(t){if(this.init=n=>{this.originalIndex=n.originalIndex;const i=this.options,o=!i?.path&&!i?.id;this.parentRoute=this.options.getParentRoute?.(),o?this._path=Wn:this.parentRoute||Rn(!1);let l=o?Wn:i?.path;l&&l!=="/"&&(l=jR(l));const u=i?.id||l;let f=o?Wn:df([this.parentRoute.id===Wn?"":this.parentRoute.id,u]);l===Wn&&(l="/"),f!==Wn&&(f=df(["/",f]));const d=f===Wn?"/":df([this.parentRoute.fullPath,l]);this._path=l,this._id=f,this._fullPath=d,this._to=ai(d)},this.addChildren=n=>this._addFileChildren(n),this._addFileChildren=n=>(Array.isArray(n)&&(this.children=n),typeof n=="object"&&n!==null&&(this.children=Object.values(n)),this),this._addFileTypes=()=>this,this.updateLoader=n=>(Object.assign(this.options,n),this),this.update=n=>(Object.assign(this.options,n),this),this.lazy=n=>(this.lazyFn=n,this),this.redirect=n=>ca({from:this.fullPath,...n}),this.options=t||{},this.isRoot=!t?.getParentRoute,t?.id&&t?.path)throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class s2 extends QR{constructor(t){super(t)}}var o2=(e=>(e[e.AggregateError=1]="AggregateError",e[e.ArrowFunction=2]="ArrowFunction",e[e.ErrorPrototypeStack=4]="ErrorPrototypeStack",e[e.ObjectAssign=8]="ObjectAssign",e[e.BigIntTypedArray=16]="BigIntTypedArray",e[e.RegExp=32]="RegExp",e))(o2||{}),li=Symbol.asyncIterator,YR=Symbol.hasInstance,ta=Symbol.isConcatSpreadable,ci=Symbol.iterator,XR=Symbol.match,JR=Symbol.matchAll,ZR=Symbol.replace,WR=Symbol.search,eA=Symbol.species,tA=Symbol.split,nA=Symbol.toPrimitive,na=Symbol.toStringTag,rA=Symbol.unscopables,iA={[li]:0,[YR]:1,[ta]:2,[ci]:3,[XR]:4,[JR]:5,[ZR]:6,[WR]:7,[eA]:8,[tA]:9,[nA]:10,[na]:11,[rA]:12},a2={0:li,1:YR,2:ta,3:ci,4:XR,5:JR,6:ZR,7:WR,8:eA,9:tA,10:nA,11:na,12:rA},O=void 0,l2={2:!0,3:!1,1:O,0:null,4:-0,5:Number.POSITIVE_INFINITY,6:Number.NEGATIVE_INFINITY,7:Number.NaN},c2={0:"Error",1:"EvalError",2:"RangeError",3:"ReferenceError",4:"SyntaxError",5:"TypeError",6:"URIError"},u2={0:Error,1:EvalError,2:RangeError,3:ReferenceError,4:SyntaxError,5:TypeError,6:URIError};function Fe(e,t,n,i,o,l,u,f,d,p,g,y){return{t:e,i:t,s:n,c:i,m:o,p:l,e:u,a:f,f:d,b:p,o:g,l:y}}function ls(e){return Fe(2,O,e,O,O,O,O,O,O,O,O,O)}var sA=ls(2),oA=ls(3),f2=ls(1),d2=ls(0),h2=ls(4),p2=ls(5),m2=ls(6),g2=ls(7);function y2(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r";case"\b":return"\\b";case"	":return"\\t";case"\f":return"\\f";case"<":return"\\x3C";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return O}}function cs(e){let t="",n=0,i;for(let o=0,l=e.length;o<l;o++)i=y2(e[o]),i&&(t+=e.slice(n,o)+i,n=o+1);return n===0?t=e:t+=e.slice(n),t}function v2(e){switch(e){case"\\\\":return"\\";case'\\"':return'"';case"\\n":return`
`;case"\\r":return"\r";case"\\b":return"\b";case"\\t":return"	";case"\\f":return"\f";case"\\x3C":return"<";case"\\u2028":return"\u2028";case"\\u2029":return"\u2029";default:return e}}function Qs(e){return e.replace(/(\\\\|\\"|\\n|\\r|\\b|\\t|\\f|\\u2028|\\u2029|\\x3C)/g,v2)}var Bu="__SEROVAL_REFS__",aA=new Map,Qo=new Map;function lA(e){return aA.has(e)}function b2(e){return Qo.has(e)}function w2(e){if(lA(e))return aA.get(e);throw new J2(e)}function S2(e){if(b2(e))return Qo.get(e);throw new Z2(e)}typeof globalThis<"u"?Object.defineProperty(globalThis,Bu,{value:Qo,configurable:!0,writable:!1,enumerable:!1}):typeof window<"u"?Object.defineProperty(window,Bu,{value:Qo,configurable:!0,writable:!1,enumerable:!1}):typeof self<"u"?Object.defineProperty(self,Bu,{value:Qo,configurable:!0,writable:!1,enumerable:!1}):typeof global<"u"&&Object.defineProperty(global,Bu,{value:Qo,configurable:!0,writable:!1,enumerable:!1});function By(e){return e instanceof EvalError?1:e instanceof RangeError?2:e instanceof ReferenceError?3:e instanceof SyntaxError?4:e instanceof TypeError?5:e instanceof URIError?6:0}function x2(e){let t=c2[By(e)];return e.name!==t?{name:e.name}:e.constructor.name!==t?{name:e.constructor.name}:{}}function cA(e,t){let n=x2(e),i=Object.getOwnPropertyNames(e);for(let o=0,l=i.length,u;o<l;o++)u=i[o],u!=="name"&&u!=="message"&&(u==="stack"?t&4&&(n=n||{},n[u]=e[u]):(n=n||{},n[u]=e[u]));return n}function uA(e){return Object.isFrozen(e)?3:Object.isSealed(e)?2:Object.isExtensible(e)?0:1}function E2(e){switch(e){case Number.POSITIVE_INFINITY:return p2;case Number.NEGATIVE_INFINITY:return m2}return e!==e?g2:Object.is(e,-0)?h2:Fe(0,O,e,O,O,O,O,O,O,O,O,O)}function fA(e){return Fe(1,O,cs(e),O,O,O,O,O,O,O,O,O)}function R2(e){return Fe(3,O,""+e,O,O,O,O,O,O,O,O,O)}function A2(e){return Fe(4,e,O,O,O,O,O,O,O,O,O,O)}function C2(e,t){let n=t.valueOf();return Fe(5,e,n!==n?"":t.toISOString(),O,O,O,O,O,O,O,O,O)}function T2(e,t){return Fe(6,e,O,cs(t.source),t.flags,O,O,O,O,O,O,O)}function _2(e,t){return Fe(17,e,iA[t],O,O,O,O,O,O,O,O,O)}function O2(e,t){return Fe(18,e,cs(w2(t)),O,O,O,O,O,O,O,O,O)}function M2(e,t,n){return Fe(25,e,n,cs(t),O,O,O,O,O,O,O,O)}function N2(e,t,n){return Fe(9,e,O,O,O,O,O,n,O,O,uA(t),O)}function k2(e,t){return Fe(21,e,O,O,O,O,O,O,t,O,O,O)}function $2(e,t,n){return Fe(15,e,O,t.constructor.name,O,O,O,O,n,t.byteOffset,O,t.length)}function L2(e,t,n){return Fe(16,e,O,t.constructor.name,O,O,O,O,n,t.byteOffset,O,t.byteLength)}function D2(e,t,n){return Fe(20,e,O,O,O,O,O,O,n,t.byteOffset,O,t.byteLength)}function I2(e,t,n){return Fe(13,e,By(t),O,cs(t.message),n,O,O,O,O,O,O)}function j2(e,t,n){return Fe(14,e,By(t),O,cs(t.message),n,O,O,O,O,O,O)}function P2(e,t){return Fe(7,e,O,O,O,O,O,t,O,O,O,O)}function q2(e,t){return Fe(28,O,O,O,O,O,O,[e,t],O,O,O,O)}function z2(e,t){return Fe(30,O,O,O,O,O,O,[e,t],O,O,O,O)}function U2(e,t,n){return Fe(31,e,O,O,O,O,O,n,t,O,O,O)}function B2(e,t){return Fe(32,e,O,O,O,O,O,O,t,O,O,O)}function F2(e,t){return Fe(33,e,O,O,O,O,O,O,t,O,O,O)}function V2(e,t){return Fe(34,e,O,O,O,O,O,O,t,O,O,O)}function K2(e,t,n,i){return Fe(35,e,n,O,O,O,O,t,O,O,O,i)}var H2={parsing:1,serialization:2,deserialization:3};function G2(e){return`Seroval Error (step: ${H2[e]})`}var Q2=(e,t)=>G2(e),dA=class extends Error{constructor(e,t){super(Q2(e)),this.cause=t}},dx=class extends dA{constructor(e){super("parsing",e)}},Y2=class extends dA{constructor(e){super("deserialization",e)}};function yi(e){return`Seroval Error (specific: ${e})`}var nd=class extends Error{constructor(t){super(yi(1)),this.value=t}},hA=class extends Error{constructor(t){super(yi(2))}},X2=class extends Error{constructor(e){super(yi(3))}},nc=class extends Error{constructor(e){super(yi(4))}},J2=class extends Error{constructor(e){super(yi(5)),this.value=e}},Z2=class extends Error{constructor(e){super(yi(6))}},W2=class extends Error{constructor(e){super(yi(7))}},us=class extends Error{constructor(e){super(yi(8))}},eL=class extends Error{constructor(t){super(yi(9))}},tL=class{constructor(e,t){this.value=e,this.replacement=t}},rd=()=>{let e={p:0,s:0,f:0};return e.p=new Promise((t,n)=>{e.s=t,e.f=n}),e},nL=(e,t)=>{e.s(t),e.p.s=1,e.p.v=t},rL=(e,t)=>{e.f(t),e.p.s=2,e.p.v=t};rd.toString();nL.toString();rL.toString();var iL=()=>{let e=[],t=[],n=!0,i=!1,o=0,l=(d,p,g)=>{for(g=0;g<o;g++)t[g]&&t[g][p](d)},u=(d,p,g,y)=>{for(p=0,g=e.length;p<g;p++)y=e[p],!n&&p===g-1?d[i?"return":"throw"](y):d.next(y)},f=(d,p)=>(n&&(p=o++,t[p]=d),u(d),()=>{n&&(t[p]=t[o],t[o--]=void 0)});return{__SEROVAL_STREAM__:!0,on:d=>f(d),next:d=>{n&&(e.push(d),l(d,"next"))},throw:d=>{n&&(e.push(d),l(d,"throw"),n=!1,i=!1,t.length=0)},return:d=>{n&&(e.push(d),l(d,"return"),n=!1,i=!0,t.length=0)}}},sL=e=>t=>()=>{let n=0,i={[e]:()=>i,next:()=>{if(n>t.d)return{done:!0,value:void 0};let o=n++,l=t.v[o];if(o===t.t)throw l;return{done:o===t.d,value:l}}};return i},oL=(e,t)=>n=>()=>{let i=0,o=-1,l=!1,u=[],f=[],d=(g=0,y=f.length)=>{for(;g<y;g++)f[g].s({done:!0,value:void 0})};n.on({next:g=>{let y=f.shift();y&&y.s({done:!1,value:g}),u.push(g)},throw:g=>{let y=f.shift();y&&y.f(g),d(),o=u.length,l=!0,u.push(g)},return:g=>{let y=f.shift();y&&y.s({done:!0,value:g}),d(),o=u.length,u.push(g)}});let p={[e]:()=>p,next:()=>{if(o===-1){let v=i++;if(v>=u.length){let S=t();return f.push(S),S.p}return{done:!1,value:u[v]}}if(i>o)return{done:!0,value:void 0};let g=i++,y=u[g];if(g!==o)return{done:!1,value:y};if(l)throw y;return{done:!0,value:y}}};return p},pA=e=>{let t=atob(e),n=t.length,i=new Uint8Array(n);for(let o=0;o<n;o++)i[o]=t.charCodeAt(o);return i.buffer};pA.toString();function aL(e){return"__SEROVAL_SEQUENCE__"in e}function mA(e,t,n){return{__SEROVAL_SEQUENCE__:!0,v:e,t,d:n}}function lL(e){let t=[],n=-1,i=-1,o=e[ci]();for(;;)try{let l=o.next();if(t.push(l.value),l.done){i=t.length-1;break}}catch(l){n=t.length,t.push(l)}return mA(t,n,i)}var cL=sL(ci);function uL(e){return cL(e)}var fL={},dL={},hL={0:{},1:{},2:{},3:{},4:{},5:{}};function id(e){return"__SEROVAL_STREAM__"in e}function Ys(){return iL()}function pL(e){let t=Ys(),n=e[li]();async function i(){try{let o=await n.next();o.done?t.return(o.value):(t.next(o.value),await i())}catch(o){t.throw(o)}}return i().catch(()=>{}),t}var mL=oL(li,rd);function gL(e){return mL(e)}async function yL(e){try{return[1,await e]}catch(t){return[0,t]}}function vL(e,t){return{plugins:t.plugins,mode:e,marked:new Set,features:63^(t.disabledFeatures||0),refs:t.refs||new Map,depthLimit:t.depthLimit||1e3}}function mf(e,t){e.marked.add(t)}function bL(e,t){let n=e.refs.size;return e.refs.set(t,n),n}function sd(e,t){let n=e.refs.get(t);return n!=null?(mf(e,n),{type:1,value:A2(n)}):{type:0,value:bL(e,t)}}function Fy(e,t){let n=sd(e,t);return n.type===1?n:lA(t)?{type:2,value:O2(n.value,t)}:n}function Is(e,t){let n=Fy(e,t);if(n.type!==0)return n.value;if(t in iA)return _2(n.value,t);throw new nd(t)}function od(e,t){let n=sd(e,hL[t]);return n.type===1?n.value:Fe(26,n.value,t,O,O,O,O,O,O,O,O,O)}function wL(e){let t=sd(e,fL);return t.type===1?t.value:Fe(27,t.value,O,O,O,O,O,O,Is(e,ci),O,O,O)}function SL(e){let t=sd(e,dL);return t.type===1?t.value:Fe(29,t.value,O,O,O,O,O,[od(e,1),Is(e,li)],O,O,O,O)}function xL(e,t,n,i){return Fe(n?11:10,e,O,O,O,i,O,O,O,O,uA(t),O)}function EL(e,t,n,i){return Fe(8,t,O,O,O,O,{k:n,v:i},O,od(e,0),O,O,O)}function RL(e,t,n){let i=new Uint8Array(n),o="";for(let l=0,u=i.length;l<u;l++)o+=String.fromCharCode(i[l]);return Fe(19,t,cs(btoa(o)),O,O,O,O,O,od(e,5),O,O,O)}function AL(e,t){return{base:vL(e,t),child:void 0}}var CL=class{constructor(e,t){this._p=e,this.depth=t}parse(e){return $t(this._p,this.depth,e)}};async function TL(e,t,n){let i=[];for(let o=0,l=n.length;o<l;o++)o in n?i[o]=await $t(e,t,n[o]):i[o]=0;return i}async function _L(e,t,n,i){return N2(n,i,await TL(e,t,i))}async function Vy(e,t,n){let i=Object.entries(n),o=[],l=[];for(let u=0,f=i.length;u<f;u++)o.push(cs(i[u][0])),l.push(await $t(e,t,i[u][1]));return ci in n&&(o.push(Is(e.base,ci)),l.push(q2(wL(e.base),await $t(e,t,lL(n))))),li in n&&(o.push(Is(e.base,li)),l.push(z2(SL(e.base),await $t(e,t,pL(n))))),na in n&&(o.push(Is(e.base,na)),l.push(fA(n[na]))),ta in n&&(o.push(Is(e.base,ta)),l.push(n[ta]?sA:oA)),{k:o,v:l}}async function lm(e,t,n,i,o){return xL(n,i,o,await Vy(e,t,i))}async function OL(e,t,n,i){return k2(n,await $t(e,t,i.valueOf()))}async function ML(e,t,n,i){return $2(n,i,await $t(e,t,i.buffer))}async function NL(e,t,n,i){return L2(n,i,await $t(e,t,i.buffer))}async function kL(e,t,n,i){return D2(n,i,await $t(e,t,i.buffer))}async function hx(e,t,n,i){let o=cA(i,e.base.features);return I2(n,i,o?await Vy(e,t,o):O)}async function $L(e,t,n,i){let o=cA(i,e.base.features);return j2(n,i,o?await Vy(e,t,o):O)}async function LL(e,t,n,i){let o=[],l=[];for(let[u,f]of i.entries())o.push(await $t(e,t,u)),l.push(await $t(e,t,f));return EL(e.base,n,o,l)}async function DL(e,t,n,i){let o=[];for(let l of i.keys())o.push(await $t(e,t,l));return P2(n,o)}async function gA(e,t,n,i){let o=e.base.plugins;if(o)for(let l=0,u=o.length;l<u;l++){let f=o[l];if(f.parse.async&&f.test(i))return M2(n,f.tag,await f.parse.async(i,new CL(e,t),{id:n}))}return O}async function IL(e,t,n,i){let[o,l]=await yL(i);return Fe(12,n,o,O,O,O,O,O,await $t(e,t,l),O,O,O)}function jL(e,t,n,i,o){let l=[],u=n.on({next:f=>{mf(this.base,t),$t(this,e,f).then(d=>{l.push(B2(t,d))},d=>{o(d),u()})},throw:f=>{mf(this.base,t),$t(this,e,f).then(d=>{l.push(F2(t,d)),i(l),u()},d=>{o(d),u()})},return:f=>{mf(this.base,t),$t(this,e,f).then(d=>{l.push(V2(t,d)),i(l),u()},d=>{o(d),u()})}})}async function PL(e,t,n,i){return U2(n,od(e.base,4),await new Promise(jL.bind(e,t,n,i)))}async function qL(e,t,n,i){let o=[];for(let l=0,u=i.v.length;l<u;l++)o[l]=await $t(e,t,i.v[l]);return K2(n,o,i.t,i.d)}async function zL(e,t,n,i){if(Array.isArray(i))return _L(e,t,n,i);if(id(i))return PL(e,t,n,i);if(aL(i))return qL(e,t,n,i);let o=i.constructor;if(o===tL)return $t(e,t,i.replacement);let l=await gA(e,t,n,i);if(l)return l;switch(o){case Object:return lm(e,t,n,i,!1);case O:return lm(e,t,n,i,!0);case Date:return C2(n,i);case Error:case EvalError:case RangeError:case ReferenceError:case SyntaxError:case TypeError:case URIError:return hx(e,t,n,i);case Number:case Boolean:case String:case BigInt:return OL(e,t,n,i);case ArrayBuffer:return RL(e.base,n,i);case Int8Array:case Int16Array:case Int32Array:case Uint8Array:case Uint16Array:case Uint32Array:case Uint8ClampedArray:case Float32Array:case Float64Array:return ML(e,t,n,i);case DataView:return kL(e,t,n,i);case Map:return LL(e,t,n,i);case Set:return DL(e,t,n,i)}if(o===Promise||i instanceof Promise)return IL(e,t,n,i);let u=e.base.features;if(u&32&&o===RegExp)return T2(n,i);if(u&16)switch(o){case BigInt64Array:case BigUint64Array:return NL(e,t,n,i)}if(u&1&&typeof AggregateError<"u"&&(o===AggregateError||i instanceof AggregateError))return $L(e,t,n,i);if(i instanceof Error)return hx(e,t,n,i);if(ci in i||li in i)return lm(e,t,n,i,!!o);throw new nd(i)}async function UL(e,t,n){let i=Fy(e.base,n);if(i.type!==0)return i.value;let o=await gA(e,t,i.value,n);if(o)return o;throw new nd(n)}async function $t(e,t,n){switch(typeof n){case"boolean":return n?sA:oA;case"undefined":return f2;case"string":return fA(n);case"number":return E2(n);case"bigint":return R2(n);case"object":{if(n){let i=Fy(e.base,n);return i.type===0?await zL(e,t+1,i.value,n):i.value}return d2}case"symbol":return Is(e.base,n);case"function":return UL(e,t,n);default:throw new nd(n)}}async function BL(e,t){try{return await $t(e,0,t)}catch(n){throw n instanceof dx?n:new dx(n)}}var FL=(e=>(e[e.Vanilla=1]="Vanilla",e[e.Cross=2]="Cross",e))(FL||{});function yA(e,t){for(let n=0,i=t.length;n<i;n++){let o=t[n];e.has(o)||(e.add(o),o.extends&&yA(e,o.extends))}}function vA(e){if(e){let t=new Set;return yA(t,e),[...t]}}function VL(e){switch(e){case"Int8Array":return Int8Array;case"Int16Array":return Int16Array;case"Int32Array":return Int32Array;case"Uint8Array":return Uint8Array;case"Uint16Array":return Uint16Array;case"Uint32Array":return Uint32Array;case"Uint8ClampedArray":return Uint8ClampedArray;case"Float32Array":return Float32Array;case"Float64Array":return Float64Array;case"BigInt64Array":return BigInt64Array;case"BigUint64Array":return BigUint64Array;default:throw new W2(e)}}var KL=1e6,HL=1e4,GL=2e4;function bA(e,t){switch(t){case 3:return Object.freeze(e);case 1:return Object.preventExtensions(e);case 2:return Object.seal(e);default:return e}}var QL=1e3;function YL(e,t){var n;return{mode:e,plugins:t.plugins,refs:t.refs||new Map,features:(n=t.features)!=null?n:63^(t.disabledFeatures||0),depthLimit:t.depthLimit||QL}}function XL(e){return{mode:2,base:YL(2,e),child:O}}var JL=class{constructor(e,t){this._p=e,this.depth=t}deserialize(e){return nt(this._p,this.depth,e)}};function wA(e,t){if(t<0||!Number.isFinite(t)||!Number.isInteger(t))throw new us({t:4,i:t});if(e.refs.has(t))throw new Error("Conflicted ref id: "+t)}function ZL(e,t,n){return wA(e.base,t),e.state.marked.has(t)&&e.base.refs.set(t,n),n}function WL(e,t,n){return wA(e.base,t),e.base.refs.set(t,n),n}function Lt(e,t,n){return e.mode===1?ZL(e,t,n):WL(e,t,n)}function Xg(e,t,n){if(Object.hasOwn(t,n))return t[n];throw new us(e)}function eD(e,t){return Lt(e,t.i,S2(Qs(t.s)))}function tD(e,t,n){let i=n.a,o=i.length,l=Lt(e,n.i,new Array(o));for(let u=0,f;u<o;u++)f=i[u],f&&(l[u]=nt(e,t,f));return bA(l,n.o),l}function nD(e){switch(e){case"constructor":case"__proto__":case"prototype":case"__defineGetter__":case"__defineSetter__":case"__lookupGetter__":case"__lookupSetter__":return!1;default:return!0}}function rD(e){switch(e){case li:case ta:case na:case ci:return!0;default:return!1}}function px(e,t,n){nD(t)?e[t]=n:Object.defineProperty(e,t,{value:n,configurable:!0,enumerable:!0,writable:!0})}function iD(e,t,n,i,o){if(typeof i=="string")px(n,i,nt(e,t,o));else{let l=nt(e,t,i);switch(typeof l){case"string":px(n,l,nt(e,t,o));break;case"symbol":rD(l)&&(n[l]=nt(e,t,o));break;default:throw new us(i)}}}function SA(e,t,n,i){let o=n.k;if(o.length>0)for(let l=0,u=n.v,f=o.length;l<f;l++)iD(e,t,i,o[l],u[l]);return i}function sD(e,t,n){let i=Lt(e,n.i,n.t===10?{}:Object.create(null));return SA(e,t,n.p,i),bA(i,n.o),i}function oD(e,t){return Lt(e,t.i,new Date(t.s))}function aD(e,t){if(e.base.features&32){let n=Qs(t.c);if(n.length>GL)throw new us(t);return Lt(e,t.i,new RegExp(n,t.m))}throw new hA(t)}function lD(e,t,n){let i=Lt(e,n.i,new Set);for(let o=0,l=n.a,u=l.length;o<u;o++)i.add(nt(e,t,l[o]));return i}function cD(e,t,n){let i=Lt(e,n.i,new Map);for(let o=0,l=n.e.k,u=n.e.v,f=l.length;o<f;o++)i.set(nt(e,t,l[o]),nt(e,t,u[o]));return i}function uD(e,t){if(t.s.length>KL)throw new us(t);return Lt(e,t.i,pA(Qs(t.s)))}function fD(e,t,n){var i;let o=VL(n.c),l=nt(e,t,n.f),u=(i=n.b)!=null?i:0;if(u<0||u>l.byteLength)throw new us(n);return Lt(e,n.i,new o(l,u,n.l))}function dD(e,t,n){var i;let o=nt(e,t,n.f),l=(i=n.b)!=null?i:0;if(l<0||l>o.byteLength)throw new us(n);return Lt(e,n.i,new DataView(o,l,n.l))}function xA(e,t,n,i){if(n.p){let o=SA(e,t,n.p,{});Object.defineProperties(i,Object.getOwnPropertyDescriptors(o))}return i}function hD(e,t,n){let i=Lt(e,n.i,new AggregateError([],Qs(n.m)));return xA(e,t,n,i)}function pD(e,t,n){let i=Xg(n,u2,n.s),o=Lt(e,n.i,new i(Qs(n.m)));return xA(e,t,n,o)}function mD(e,t,n){let i=rd(),o=Lt(e,n.i,i.p),l=nt(e,t,n.f);return n.s?i.s(l):i.f(l),o}function gD(e,t,n){return Lt(e,n.i,Object(nt(e,t,n.f)))}function yD(e,t,n){let i=e.base.plugins;if(i){let o=Qs(n.c);for(let l=0,u=i.length;l<u;l++){let f=i[l];if(f.tag===o)return Lt(e,n.i,f.deserialize(n.s,new JL(e,t),{id:n.i}))}}throw new X2(n.c)}function vD(e,t){return Lt(e,t.i,Lt(e,t.s,rd()).p)}function bD(e,t,n){let i=e.base.refs.get(n.i);if(i)return i.s(nt(e,t,n.a[1])),O;throw new nc("Promise")}function wD(e,t,n){let i=e.base.refs.get(n.i);if(i)return i.f(nt(e,t,n.a[1])),O;throw new nc("Promise")}function SD(e,t,n){nt(e,t,n.a[0]);let i=nt(e,t,n.a[1]);return uL(i)}function xD(e,t,n){nt(e,t,n.a[0]);let i=nt(e,t,n.a[1]);return gL(i)}function ED(e,t,n){let i=Lt(e,n.i,Ys()),o=n.a,l=o.length;if(l)for(let u=0;u<l;u++)nt(e,t,o[u]);return i}function RD(e,t,n){let i=e.base.refs.get(n.i);if(i&&id(i))return i.next(nt(e,t,n.f)),O;throw new nc("Stream")}function AD(e,t,n){let i=e.base.refs.get(n.i);if(i&&id(i))return i.throw(nt(e,t,n.f)),O;throw new nc("Stream")}function CD(e,t,n){let i=e.base.refs.get(n.i);if(i&&id(i))return i.return(nt(e,t,n.f)),O;throw new nc("Stream")}function TD(e,t,n){return nt(e,t,n.f),O}function _D(e,t,n){return nt(e,t,n.a[1]),O}function OD(e,t,n){let i=Lt(e,n.i,mA([],n.s,n.l));for(let o=0,l=n.a.length;o<l;o++)i.v[o]=nt(e,t,n.a[o]);return i}function nt(e,t,n){if(t>e.base.depthLimit)throw new eL(e.base.depthLimit);switch(t+=1,n.t){case 2:return Xg(n,l2,n.s);case 0:return Number(n.s);case 1:return Qs(String(n.s));case 3:if(String(n.s).length>HL)throw new us(n);return BigInt(n.s);case 4:return e.base.refs.get(n.i);case 18:return eD(e,n);case 9:return tD(e,t,n);case 10:case 11:return sD(e,t,n);case 5:return oD(e,n);case 6:return aD(e,n);case 7:return lD(e,t,n);case 8:return cD(e,t,n);case 19:return uD(e,n);case 16:case 15:return fD(e,t,n);case 20:return dD(e,t,n);case 14:return hD(e,t,n);case 13:return pD(e,t,n);case 12:return mD(e,t,n);case 17:return Xg(n,a2,n.s);case 21:return gD(e,t,n);case 25:return yD(e,t,n);case 22:return vD(e,n);case 23:return bD(e,t,n);case 24:return wD(e,t,n);case 28:return SD(e,t,n);case 30:return xD(e,t,n);case 31:return ED(e,t,n);case 32:return RD(e,t,n);case 33:return AD(e,t,n);case 34:return CD(e,t,n);case 27:return TD(e,t,n);case 29:return _D(e,t,n);case 35:return OD(e,t,n);default:throw new hA(n)}}function MD(e,t){try{return nt(e,0,t)}catch(n){throw new Y2(n)}}var ND=()=>T;ND.toString();function cm(e,t){let n=vA(t.plugins),i=XL({plugins:n,refs:t.refs,features:t.features,disabledFeatures:t.disabledFeatures});return MD(i,e)}async function kD(e,t={}){let n=vA(t.plugins),i=AL(1,{plugins:n,disabledFeatures:t.disabledFeatures});return{t:await BL(i,e),f:i.base.features,m:Array.from(i.base.marked)}}function $D(e){return{tag:"$TSR/t/"+e.key,test:e.test,parse:{sync(t,n){return n.parse(e.toSerializable(t))},async async(t,n){return await n.parse(e.toSerializable(t))},stream(t,n){return n.parse(e.toSerializable(t))}},serialize:void 0,deserialize(t,n){return e.fromSerializable(n.deserialize(t))}}}var Yi={},EA=e=>new ReadableStream({start:t=>{e.on({next:n=>{try{t.enqueue(n)}catch{}},throw:n=>{t.error(n)},return:()=>{try{t.close()}catch{}}})}}),LD={tag:"seroval-plugins/web/ReadableStreamFactory",test(e){return e===Yi},parse:{sync(){return Yi},async async(){return await Promise.resolve(Yi)},stream(){return Yi}},serialize(){return EA.toString()},deserialize(){return Yi}};function mx(e){let t=Ys(),n=e.getReader();async function i(){try{let o=await n.read();o.done?t.return(o.value):(t.next(o.value),await i())}catch(o){t.throw(o)}}return i().catch(()=>{}),t}var DD={tag:"seroval/plugins/web/ReadableStream",extends:[LD],test(e){return typeof ReadableStream>"u"?!1:e instanceof ReadableStream},parse:{sync(e,t){return{factory:t.parse(Yi),stream:t.parse(Ys())}},async async(e,t){return{factory:await t.parse(Yi),stream:await t.parse(mx(e))}},stream(e,t){return{factory:t.parse(Yi),stream:t.parse(mx(e))}}},serialize(e,t){return"("+t.serialize(e.factory)+")("+t.serialize(e.stream)+")"},deserialize(e,t){let n=t.deserialize(e.stream);return EA(n)}},ID=DD;const jD={tag:"$TSR/Error",test(e){return e instanceof Error},parse:{sync(e,t){return{message:t.parse(e.message)}},async async(e,t){return{message:await t.parse(e.message)}},stream(e,t){return{message:t.parse(e.message)}}},serialize(e,t){return"new Error("+t.serialize(e.message)+")"},deserialize(e,t){return new Error(t.deserialize(e.message))}};class PD{constructor(t,n){this.stream=t,this.hint=n?.hint??"binary"}}const Nf=globalThis.Buffer,RA=!!Nf&&typeof Nf.from=="function";function AA(e){if(e.length===0)return"";if(RA)return Nf.from(e).toString("base64");const t=32768,n=[];for(let i=0;i<e.length;i+=t){const o=e.subarray(i,i+t);n.push(String.fromCharCode.apply(null,o))}return btoa(n.join(""))}function CA(e){if(e.length===0)return new Uint8Array(0);if(RA){const i=Nf.from(e,"base64");return new Uint8Array(i.buffer,i.byteOffset,i.byteLength)}const t=atob(e),n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}const Il=Object.create(null),jl=Object.create(null),qD=e=>new ReadableStream({start(t){e.on({next(n){try{t.enqueue(CA(n))}catch{}},throw(n){t.error(n)},return(){try{t.close()}catch{}}})}}),zD=new TextEncoder,UD=e=>new ReadableStream({start(t){e.on({next(n){try{typeof n=="string"?t.enqueue(zD.encode(n)):t.enqueue(CA(n.$b64))}catch{}},throw(n){t.error(n)},return(){try{t.close()}catch{}}})}}),BD="(s=>new ReadableStream({start(c){s.on({next(b){try{const d=atob(b),a=new Uint8Array(d.length);for(let i=0;i<d.length;i++)a[i]=d.charCodeAt(i);c.enqueue(a)}catch(_){}},throw(e){c.error(e)},return(){try{c.close()}catch(_){}}})}}))",FD="(s=>{const e=new TextEncoder();return new ReadableStream({start(c){s.on({next(v){try{if(typeof v==='string'){c.enqueue(e.encode(v))}else{const d=atob(v.$b64),a=new Uint8Array(d.length);for(let i=0;i<d.length;i++)a[i]=d.charCodeAt(i);c.enqueue(a)}}catch(_){}},throw(x){c.error(x)},return(){try{c.close()}catch(_){}}})}})})";function gx(e){const t=Ys(),n=e.getReader();return(async()=>{try{for(;;){const{done:i,value:o}=await n.read();if(i){t.return(void 0);break}t.next(AA(o))}}catch(i){t.throw(i)}finally{n.releaseLock()}})(),t}function yx(e){const t=Ys(),n=e.getReader(),i=new TextDecoder("utf-8",{fatal:!0});return(async()=>{try{for(;;){const{done:o,value:l}=await n.read();if(o){try{const u=i.decode();u.length>0&&t.next(u)}catch{}t.return(void 0);break}try{const u=i.decode(l,{stream:!0});u.length>0&&t.next(u)}catch{t.next({$b64:AA(l)})}}}catch(o){t.throw(o)}finally{n.releaseLock()}})(),t}const VD={tag:"tss/RawStreamFactory",test(e){return e===Il},parse:{sync(){},async(){return Promise.resolve(void 0)},stream(){}},serialize(){return BD},deserialize(){return Il}},KD={tag:"tss/RawStreamFactoryText",test(e){return e===jl},parse:{sync(){},async(){return Promise.resolve(void 0)},stream(){}},serialize(){return FD},deserialize(){return jl}},HD={tag:"tss/RawStream",extends:[VD,KD],test(e){return e instanceof PD},parse:{sync(e,t){const n=e.hint==="text"?jl:Il;return{hint:e.hint,factory:t.parse(n),stream:t.parse(Ys())}},async async(e,t){const n=e.hint==="text"?jl:Il,i=e.hint==="text"?yx(e.stream):gx(e.stream);return{hint:e.hint,factory:await t.parse(n),stream:await t.parse(i)}},stream(e,t){const n=e.hint==="text"?jl:Il,i=e.hint==="text"?yx(e.stream):gx(e.stream);return{hint:e.hint,factory:t.parse(n),stream:t.parse(i)}}},serialize(e,t){return"("+t.serialize(e.factory)+")("+t.serialize(e.stream)+")"},deserialize(e,t){const n=t.deserialize(e.stream);return e.hint==="text"?UD(n):qD(n)}};function GD(e){return{tag:"tss/RawStream",test:()=>!1,parse:{},serialize(){throw new Error("RawStreamDeserializePlugin.serialize should not be called. Client only deserializes.")},deserialize(t){return e(t.streamId)}}}const QD=[jD,HD,ID],YD="use",kf=jy[YD],Fu=typeof window<"u"?R.useLayoutEffect:R.useEffect;function um(e){const t=R.useRef({value:e,prev:null}),n=t.current.value;return e!==n&&(t.current={value:e,prev:n}),t.current.prev}function XD(e,t,n={},i={}){R.useEffect(()=>{if(!e.current||i.disabled||typeof IntersectionObserver!="function")return;const o=new IntersectionObserver(([l])=>{t(l)},n);return o.observe(e.current),()=>{o.disconnect()}},[t,n,i.disabled,e])}function JD(e){const t=R.useRef(null);return R.useImperativeHandle(e,()=>t.current,[]),t}function ZD({promise:e}){if(kf)return kf(e);const t=r2(e);if(t[Cr].status==="pending")throw t;if(t[Cr].status==="error")throw t[Cr].error;return t[Cr].data}function WD(e){const t=x.jsx(eI,{...e});return e.fallback?x.jsx(R.Suspense,{fallback:e.fallback,children:t}):t}function eI(e){const t=ZD(e);return e.children(t)}function Ky(e){const t=e.errorComponent??Hy;return x.jsx(tI,{getResetKey:e.getResetKey,onCatch:e.onCatch,children:({error:n,reset:i})=>n?R.createElement(t,{error:n,reset:i}):e.children})}class tI extends R.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(t){return{resetKey:t.getResetKey()}}static getDerivedStateFromError(t){return{error:t}}reset(){this.setState({error:null})}componentDidUpdate(t,n){n.error&&n.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(t,n){this.props.onCatch&&this.props.onCatch(t,n)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function Hy({error:e}){const[t,n]=R.useState(!1);return x.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[x.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),x.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>n(i=>!i),children:t?"Hide Error":"Show Error"})]}),x.jsx("div",{style:{height:".25rem"}}),t?x.jsx("div",{children:x.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:e.message?x.jsx("code",{children:e.message}):null})}):null]})}function nI({children:e,fallback:t=null}){return TA()?x.jsx(Ke.Fragment,{children:e}):x.jsx(Ke.Fragment,{children:t})}function TA(){return Ke.useSyncExternalStore(rI,()=>!0,()=>!1)}function rI(){return()=>{}}var fm={exports:{}},dm={},hm={exports:{}},pm={};var vx;function iI(){if(vx)return pm;vx=1;var e=tc();function t(y,v){return y===v&&(y!==0||1/y===1/v)||y!==y&&v!==v}var n=typeof Object.is=="function"?Object.is:t,i=e.useState,o=e.useEffect,l=e.useLayoutEffect,u=e.useDebugValue;function f(y,v){var S=v(),E=i({inst:{value:S,getSnapshot:v}}),w=E[0].inst,A=E[1];return l(function(){w.value=S,w.getSnapshot=v,d(w)&&A({inst:w})},[y,S,v]),o(function(){return d(w)&&A({inst:w}),y(function(){d(w)&&A({inst:w})})},[y]),u(S),S}function d(y){var v=y.getSnapshot;y=y.value;try{var S=v();return!n(y,S)}catch{return!0}}function p(y,v){return v()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:f;return pm.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,pm}var bx;function sI(){return bx||(bx=1,hm.exports=iI()),hm.exports}var wx;function oI(){if(wx)return dm;wx=1;var e=tc(),t=sI();function n(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var i=typeof Object.is=="function"?Object.is:n,o=t.useSyncExternalStore,l=e.useRef,u=e.useEffect,f=e.useMemo,d=e.useDebugValue;return dm.useSyncExternalStoreWithSelector=function(p,g,y,v,S){var E=l(null);if(E.current===null){var w={hasValue:!1,value:null};E.current=w}else w=E.current;E=f(function(){function _(K){if(!I){if(I=!0,M=K,K=v(K),S!==void 0&&w.hasValue){var q=w.value;if(S(q,K))return k=q}return k=K}if(q=k,i(M,K))return q;var L=v(K);return S!==void 0&&S(q,L)?(M=K,q):(M=K,k=L)}var I=!1,M,k,U=y===void 0?null:y;return[function(){return _(g())},U===null?void 0:function(){return _(U())}]},[g,y,v,S]);var A=o(p,E[0],E[1]);return u(function(){w.hasValue=!0,w.value=A},[A]),d(A),A},dm}var Sx;function aI(){return Sx||(Sx=1,fm.exports=oI()),fm.exports}var lI=aI();function cI(e,t=i=>i,n={}){const i=n.equal??uI;return lI.useSyncExternalStoreWithSelector(e.subscribe,()=>e.state,()=>e.state,t,i)}function uI(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[i,o]of e)if(!t.has(i)||!Object.is(o,t.get(i)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();const n=xx(e);if(n.length!==xx(t).length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!Object.is(e[n[i]],t[n[i]]))return!1;return!0}function xx(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}const mm=R.createContext(null);function _A(){return typeof document>"u"?mm:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=mm,mm)}function tn(e){const t=R.useContext(_A());return e?.warn,t}function kt(e){const t=tn({warn:e?.router===void 0}),n=e?.router||t,i=R.useRef(void 0);return cI(n.__store,o=>{if(e?.select){if(e.structuralSharing??n.options.defaultStructuralSharing){const l=vn(i.current,e.select(o));return i.current=l,l}return e.select(o)}return o})}const ad=R.createContext(void 0),fI=R.createContext(void 0);function $r(e){const t=R.useContext(e.from?fI:ad);return kt({select:i=>{const o=i.matches.find(l=>e.from?e.from===l.routeId:l.id===t);if(Rn(!((e.shouldThrow??!0)&&!o),`Could not find ${e.from?`an active match from "${e.from}"`:"a nearest match!"}`),o!==void 0)return e.select?e.select(o):o},structuralSharing:e.structuralSharing})}function Gy(e){return $r({from:e.from,strict:e.strict,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.loaderData):t.loaderData})}function Qy(e){const{select:t,...n}=e;return $r({...n,select:i=>t?t(i.loaderDeps):i.loaderDeps})}function Yy(e){return $r({from:e.from,shouldThrow:e.shouldThrow,structuralSharing:e.structuralSharing,strict:e.strict,select:t=>{const n=e.strict===!1?t.params:t._strictParams;return e.select?e.select(n):n}})}function ld(e){return $r({from:e.from,strict:e.strict,shouldThrow:e.shouldThrow,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.search):t.search})}function cd(e){const t=tn();return R.useCallback(n=>t.navigate({...n,from:n.from??e?.from}),[e?.from,t])}var rc=NR();const dI=Iy(rc);function hI(e,t){const n=tn(),i=JD(t),{activeProps:o,inactiveProps:l,activeOptions:u,to:f,preload:d,preloadDelay:p,hashScrollIntoView:g,replace:y,startTransition:v,resetScroll:S,viewTransition:E,children:w,target:A,disabled:_,style:I,className:M,onClick:k,onFocus:U,onMouseEnter:K,onMouseLeave:q,onTouchStart:L,ignoreBlocker:W,params:oe,search:se,hash:ue,state:ce,mask:X,reloadDocument:H,unsafeRelative:N,from:P,_fromLocation:j,...F}=e,re=TA(),$=kt({select:We=>We.location.search,structuralSharing:!0}),B=e.from,Z=R.useMemo(()=>({...e,from:B}),[n,$,B,e._fromLocation,e.hash,e.to,e.search,e.params,e.state,e.mask,e.unsafeRelative]),ne=R.useMemo(()=>n.buildLocation({...Z}),[n,Z]),le=ne.maskedLocation?ne.maskedLocation.publicHref:ne.publicHref,pe=ne.maskedLocation?ne.maskedLocation.external:ne.external,fe=R.useMemo(()=>bI(le,pe,n.history,_),[_,pe,le,n.history]),de=R.useMemo(()=>{if(fe?.external)return Cf(fe.href)?void 0:fe.href;if(!wI(f)&&!(typeof f!="string"||f.indexOf(":")===-1))try{return new URL(f),Cf(f)?void 0:f}catch{}},[f,fe]),Se=kt({select:We=>{if(de)return!1;if(u?.exact){if(!A$(We.location.pathname,ne.pathname,n.basepath))return!1}else{const _t=_f(We.location.pathname,n.basepath),Qt=_f(ne.pathname,n.basepath);if(!(_t.startsWith(Qt)&&(_t.length===Qt.length||_t[Qt.length]==="/")))return!1}return(u?.includeSearch??!0)&&!Ps(We.location.search,ne.search,{partial:!u?.exact,ignoreUndefined:!u?.explicitUndefined})?!1:u?.includeHash?re&&We.location.hash===ne.hash:!0}}),Ce=Se?Ji(o,{})??pI:gm,Me=Se?gm:Ji(l,{})??gm,st=[M,Ce.className,Me.className].filter(Boolean).join(" "),Dt=(I||Ce.style||Me.style)&&{...I,...Ce.style,...Me.style},[gt,vr]=R.useState(!1),br=R.useRef(!1),qn=e.reloadDocument||de?!1:d??n.options.defaultPreload,zn=p??n.options.defaultPreloadDelay??0,Cn=R.useCallback(()=>{n.preloadRoute({...Z}).catch(We=>{console.warn(We),console.warn(i2)})},[n,Z]),ve=R.useCallback(We=>{We?.isIntersecting&&Cn()},[Cn]);XD(i,ve,vI,{disabled:!!_||qn!=="viewport"}),R.useEffect(()=>{br.current||!_&&qn==="render"&&(Cn(),br.current=!0)},[_,Cn,qn]);const $e=We=>{const _t=We.currentTarget.getAttribute("target"),Qt=A!==void 0?A:_t;if(!_&&!SI(We)&&!We.defaultPrevented&&(!Qt||Qt==="_self")&&We.button===0){We.preventDefault(),rc.flushSync(()=>{vr(!0)});const Ec=n.subscribe("onResolved",()=>{Ec(),vr(!1)});n.navigate({...Z,replace:y,resetScroll:S,hashScrollIntoView:g,startTransition:v,viewTransition:E,ignoreBlocker:W})}};if(de)return{...F,ref:i,href:de,...w&&{children:w},...A&&{target:A},..._&&{disabled:_},...I&&{style:I},...M&&{className:M},...k&&{onClick:k},...U&&{onFocus:U},...K&&{onMouseEnter:K},...q&&{onMouseLeave:q},...L&&{onTouchStart:L}};const Ie=We=>{_||qn&&Cn()},Tn=Ie,ot=We=>{if(!(_||!qn))if(!zn)Cn();else{const _t=We.target;if(Al.has(_t))return;const Qt=setTimeout(()=>{Al.delete(_t),Cn()},zn);Al.set(_t,Qt)}},Pr=We=>{if(_||!qn||!zn)return;const _t=We.target,Qt=Al.get(_t);Qt&&(clearTimeout(Qt),Al.delete(_t))};return{...F,...Ce,...Me,href:fe?.href,ref:i,onClick:Cl([k,$e]),onFocus:Cl([U,Ie]),onMouseEnter:Cl([K,ot]),onMouseLeave:Cl([q,Pr]),onTouchStart:Cl([L,Tn]),disabled:!!_,target:A,...Dt&&{style:Dt},...st&&{className:st},..._&&mI,...Se&&gI,...re&&gt&&yI}}const gm={},pI={className:"active"},mI={role:"link","aria-disabled":!0},gI={"data-status":"active","aria-current":"page"},yI={"data-transitioning":"transitioning"},Al=new WeakMap,vI={rootMargin:"100px"},Cl=e=>t=>{for(const n of e)if(n){if(t.defaultPrevented)return;n(t)}};function bI(e,t,n,i){if(!i)return t?{href:e,external:!0}:{href:n.createHref(e)||"/",external:!1}}function wI(e){if(typeof e!="string")return!1;const t=e.charCodeAt(0);return t===47?e.charCodeAt(1)!==47:t===46}const bt=R.forwardRef((e,t)=>{const{_asChild:n,...i}=e,{type:o,...l}=hI(i,t),u=typeof i.children=="function"?i.children({isActive:l["data-status"]==="active"}):i.children;if(!n){const{disabled:f,...d}=l;return R.createElement("a",d,u)}return R.createElement(n,l,u)});function SI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}let xI=class extends QR{constructor(t){super(t),this.useMatch=n=>$r({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>$r({...n,from:this.id,select:i=>n?.select?n.select(i.context):i.context}),this.useSearch=n=>ld({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>Yy({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>Qy({...n,from:this.id}),this.useLoaderData=n=>Gy({...n,from:this.id}),this.useNavigate=()=>cd({from:this.fullPath}),this.Link=Ke.forwardRef((n,i)=>x.jsx(bt,{ref:i,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}};function EI(e){return new xI(e)}class RI extends s2{constructor(t){super(t),this.useMatch=n=>$r({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>$r({...n,from:this.id,select:i=>n?.select?n.select(i.context):i.context}),this.useSearch=n=>ld({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>Yy({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>Qy({...n,from:this.id}),this.useLoaderData=n=>Gy({...n,from:this.id}),this.useNavigate=()=>cd({from:this.fullPath}),this.Link=Ke.forwardRef((n,i)=>x.jsx(bt,{ref:i,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}}function AI(e){return new RI(e)}function Gt(e){return typeof e=="object"?new Ex(e,{silent:!0}).createRoute(e):new Ex(e,{silent:!0}).createRoute}class Ex{constructor(t,n){this.path=t,this.createRoute=i=>{this.silent;const o=EI(i);return o.isRoot=!1,o},this.silent=n?.silent}}class Rx{constructor(t){this.useMatch=n=>$r({select:n?.select,from:this.options.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>$r({from:this.options.id,select:i=>n?.select?n.select(i.context):i.context}),this.useSearch=n=>ld({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useParams=n=>Yy({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useLoaderDeps=n=>Qy({...n,from:this.options.id}),this.useLoaderData=n=>Gy({...n,from:this.options.id}),this.useNavigate=()=>{const n=tn();return cd({from:n.routesById[this.options.id].fullPath})},this.options=t,this.$$typeof=Symbol.for("react.memo")}}function Ax(e){return typeof e=="object"?new Rx(e):t=>new Rx({id:e,...t})}function hr(e,t){let n,i,o,l;const u=()=>(n||(n=e().then(d=>{n=void 0,i=d[t]}).catch(d=>{if(o=d,l$(o)&&o instanceof Error&&typeof window<"u"&&typeof sessionStorage<"u"){const p=`tanstack_router_reload:${o.message}`;sessionStorage.getItem(p)||(sessionStorage.setItem(p,"1"),l=!0)}})),n),f=function(p){if(l)throw window.location.reload(),new Promise(()=>{});if(o)throw o;if(!i)if(kf)kf(u());else throw u();return R.createElement(i,p)};return f.preload=u,f}function CI(){const e=tn(),t=R.useRef({router:e,mounted:!1}),[n,i]=R.useState(!1),{hasPendingMatches:o,isLoading:l}=kt({select:y=>({isLoading:y.isLoading,hasPendingMatches:y.matches.some(v=>v.status==="pending")}),structuralSharing:!0}),u=um(l),f=l||n||o,d=um(f),p=l||o,g=um(p);return e.startTransition=y=>{i(!0),R.startTransition(()=>{y(),i(!1)})},R.useEffect(()=>{const y=e.history.subscribe(e.load),v=e.buildLocation({to:e.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return ai(e.latestLocation.publicHref)!==ai(v.publicHref)&&e.commitLocation({...v,replace:!0}),()=>{y()}},[e,e.history]),Fu(()=>{if(typeof window<"u"&&e.ssr||t.current.router===e&&t.current.mounted)return;t.current={router:e,mounted:!0},(async()=>{try{await e.load()}catch(v){console.error(v)}})()},[e]),Fu(()=>{u&&!l&&e.emit({type:"onLoad",...qs(e.state)})},[u,e,l]),Fu(()=>{g&&!p&&e.emit({type:"onBeforeRouteMount",...qs(e.state)})},[p,g,e]),Fu(()=>{if(d&&!f){const y=qs(e.state);e.emit({type:"onResolved",...y}),e.__store.setState(v=>({...v,status:"idle",resolvedLocation:v.location})),y.hrefChanged&&D$(e)}},[f,d,e]),null}function TI(e){const t=kt({select:n=>`not-found-${n.location.pathname}-${n.status}`});return x.jsx(Ky,{getResetKey:()=>t,onCatch:(n,i)=>{if(on(n))e.onCatch?.(n,i);else throw n},errorComponent:({error:n})=>{if(on(n))return e.fallback?.(n);throw n},children:e.children})}function _I(){return x.jsx("p",{children:"Not Found"})}function Ho(e){return x.jsx(x.Fragment,{children:e.children})}function OA(e,t,n){return t.options.notFoundComponent?x.jsx(t.options.notFoundComponent,{...n}):e.options.defaultNotFoundComponent?x.jsx(e.options.defaultNotFoundComponent,{...n}):x.jsx(_I,{})}function OI(){return tn().isScrollRestoring,null}const MA=R.memo(function({matchId:t}){const n=tn(),i=kt({select:w=>{const A=w.matches.findIndex(I=>I.id===t),_=w.matches[A];return Rn(_),{routeId:_.routeId,ssr:_.ssr,_displayPending:_._displayPending,resetKey:w.loadedAt,parentRouteId:w.matches[A-1]?.routeId}},structuralSharing:!0}),o=n.routesById[i.routeId],l=o.options.pendingComponent??n.options.defaultPendingComponent,u=l?x.jsx(l,{}):null,f=o.options.errorComponent??n.options.defaultErrorComponent,d=o.options.onCatch??n.options.defaultOnCatch,p=o.isRoot?o.options.notFoundComponent??n.options.notFoundRoute?.options.component:o.options.notFoundComponent,g=i.ssr===!1||i.ssr==="data-only",y=(!o.isRoot||o.options.wrapInSuspense||g)&&(o.options.wrapInSuspense??l??(o.options.errorComponent?.preload||g))?R.Suspense:Ho,v=f?Ky:Ho,S=p?TI:Ho,E=o.isRoot?o.options.shellComponent??Ho:Ho;return x.jsxs(E,{children:[x.jsx(ad.Provider,{value:t,children:x.jsx(y,{fallback:u,children:x.jsx(v,{getResetKey:()=>i.resetKey,errorComponent:f||Hy,onCatch:(w,A)=>{if(on(w))throw w;d?.(w,A)},children:x.jsx(S,{fallback:w=>{if(!p||w.routeId&&w.routeId!==i.routeId||!w.routeId&&!o.isRoot)throw w;return R.createElement(p,w)},children:g||i._displayPending?x.jsx(nI,{fallback:u,children:x.jsx(Cx,{matchId:t})}):x.jsx(Cx,{matchId:t})})})})}),i.parentRouteId===Wn&&n.options.scrollRestoration?x.jsxs(x.Fragment,{children:[x.jsx(MI,{}),x.jsx(OI,{})]}):null]})});function MI(){const e=tn(),t=R.useRef(void 0);return x.jsx("script",{suppressHydrationWarning:!0,ref:n=>{n&&(t.current===void 0||t.current.href!==e.latestLocation.href)&&(e.emit({type:"onRendered",...qs(e.state)}),t.current=e.latestLocation)}},e.latestLocation.state.__TSR_key)}const Cx=R.memo(function({matchId:t}){const n=tn(),{match:i,key:o,routeId:l}=kt({select:d=>{const p=d.matches.find(E=>E.id===t),g=p.routeId,v=(n.routesById[g].options.remountDeps??n.options.defaultRemountDeps)?.({routeId:g,loaderDeps:p.loaderDeps,params:p._strictParams,search:p._strictSearch});return{key:v?JSON.stringify(v):void 0,routeId:g,match:{id:p.id,status:p.status,error:p.error,invalid:p.invalid,_forcePending:p._forcePending,_displayPending:p._displayPending}}},structuralSharing:!0}),u=n.routesById[l],f=R.useMemo(()=>{const d=u.options.component??n.options.defaultComponent;return d?x.jsx(d,{},o):x.jsx(NI,{})},[o,u.options.component,n.options.defaultComponent]);if(i._displayPending)throw n.getMatch(i.id)?._nonReactive.displayPendingPromise;if(i._forcePending)throw n.getMatch(i.id)?._nonReactive.minPendingPromise;if(i.status==="pending"){const d=u.options.pendingMinMs??n.options.defaultPendingMinMs;if(d){const p=n.getMatch(i.id);if(p&&!p._nonReactive.minPendingPromise){const g=Bs();p._nonReactive.minPendingPromise=g,setTimeout(()=>{g.resolve(),p._nonReactive.minPendingPromise=void 0},d)}}throw n.getMatch(i.id)?._nonReactive.loadPromise}if(i.status==="notFound")return Rn(on(i.error)),OA(n,u,i.error);if(i.status==="redirected")throw Rn(nr(i.error)),n.getMatch(i.id)?._nonReactive.loadPromise;if(i.status==="error")throw i.error;return f}),NI=R.memo(function(){const t=tn(),n=R.useContext(ad),i=kt({select:p=>p.matches.find(g=>g.id===n)?.routeId}),o=t.routesById[i],l=kt({select:p=>{const y=p.matches.find(v=>v.id===n);return Rn(y),y.globalNotFound}}),u=kt({select:p=>{const g=p.matches,y=g.findIndex(v=>v.id===n);return g[y+1]?.id}}),f=t.options.defaultPendingComponent?x.jsx(t.options.defaultPendingComponent,{}):null;if(l)return OA(t,o,void 0);if(!u)return null;const d=x.jsx(MA,{matchId:u});return i===Wn?x.jsx(R.Suspense,{fallback:f,children:d}):d});function kI(){const e=tn(),n=e.routesById[Wn].options.pendingComponent??e.options.defaultPendingComponent,i=n?x.jsx(n,{}):null,o=typeof document<"u"&&e.ssr?Ho:R.Suspense,l=x.jsxs(o,{fallback:i,children:[x.jsx(CI,{}),x.jsx($I,{})]});return e.options.InnerWrap?x.jsx(e.options.InnerWrap,{children:l}):l}function $I(){const e=tn(),t=kt({select:o=>o.matches[0]?.id}),n=kt({select:o=>o.loadedAt}),i=t?x.jsx(MA,{matchId:t}):null;return x.jsx(ad.Provider,{value:t,children:e.options.disableGlobalCatchBoundary?i:x.jsx(Ky,{getResetKey:()=>n,errorComponent:Hy,onCatch:o=>{o.message||o.toString()},children:i})})}const LI=e=>new DI(e);class DI extends X${constructor(t){super(t)}}typeof globalThis<"u"?(globalThis.createFileRoute=Gt,globalThis.createLazyFileRoute=Ax):typeof window<"u"&&(window.createFileRoute=Gt,window.createLazyFileRoute=Ax);function II({router:e,children:t,...n}){Object.keys(n).length>0&&e.update({...e.options,...n,context:{...e.options.context,...n.context}});const i=_A(),o=x.jsx(i.Provider,{value:e,children:t});return e.options.Wrap?x.jsx(e.options.Wrap,{children:o}):o}function jI({router:e,...t}){return x.jsx(II,{router:e,...t,children:x.jsx(kI,{})})}function NA({tag:e,attrs:t,children:n,nonce:i}){switch(e){case"title":return x.jsx("title",{...t,suppressHydrationWarning:!0,children:n});case"meta":return x.jsx("meta",{...t,suppressHydrationWarning:!0});case"link":return x.jsx("link",{...t,nonce:i,suppressHydrationWarning:!0});case"style":return x.jsx("style",{...t,dangerouslySetInnerHTML:{__html:n},nonce:i});case"script":return x.jsx(PI,{attrs:t,children:n});default:return null}}function PI({attrs:e,children:t}){tn(),R.useEffect(()=>{if(e?.src){const n=(()=>{try{const l=document.baseURI||window.location.href;return new URL(e.src,l).href}catch{return e.src}})();if(Array.from(document.querySelectorAll("script[src]")).find(l=>l.src===n))return;const o=document.createElement("script");for(const[l,u]of Object.entries(e))l!=="suppressHydrationWarning"&&u!==void 0&&u!==!1&&o.setAttribute(l,typeof u=="boolean"?"":String(u));return document.head.appendChild(o),()=>{o.parentNode&&o.parentNode.removeChild(o)}}if(typeof t=="string"){const n=typeof e?.type=="string"?e.type:"text/javascript",i=typeof e?.nonce=="string"?e.nonce:void 0;if(Array.from(document.querySelectorAll("script:not([src])")).find(u=>{if(!(u instanceof HTMLScriptElement))return!1;const f=u.getAttribute("type")??"text/javascript",d=u.getAttribute("nonce")??void 0;return u.textContent===t&&f===n&&d===i}))return;const l=document.createElement("script");if(l.textContent=t,e)for(const[u,f]of Object.entries(e))u!=="suppressHydrationWarning"&&f!==void 0&&f!==!1&&l.setAttribute(u,typeof f=="boolean"?"":String(f));return document.head.appendChild(l),()=>{l.parentNode&&l.parentNode.removeChild(l)}}},[e,t]);{const{src:n,...i}=e||{};return x.jsx("script",{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:""},...i})}}const qI=()=>{const e=tn(),t=e.options.ssr?.nonce,n=kt({select:d=>d.matches.map(p=>p.meta).filter(Boolean)}),i=R.useMemo(()=>{const d=[],p={};let g;for(let y=n.length-1;y>=0;y--){const v=n[y];for(let S=v.length-1;S>=0;S--){const E=v[S];if(E)if(E.title)g||(g={tag:"title",children:E.title});else if("script:ld+json"in E)try{const w=JSON.stringify(E["script:ld+json"]);d.push({tag:"script",attrs:{type:"application/ld+json"},children:d$(w)})}catch{}else{const w=E.name??E.property;if(w){if(p[w])continue;p[w]=!0}d.push({tag:"meta",attrs:{...E,nonce:t}})}}}return g&&d.push(g),t&&d.push({tag:"meta",attrs:{property:"csp-nonce",content:t}}),d.reverse(),d},[n,t]),o=kt({select:d=>{const p=d.matches.map(v=>v.links).filter(Boolean).flat(1).map(v=>({tag:"link",attrs:{...v,nonce:t}})),g=e.ssr?.manifest,y=d.matches.map(v=>g?.routes[v.routeId]?.assets??[]).filter(Boolean).flat(1).filter(v=>v.tag==="link").map(v=>({tag:"link",attrs:{...v.attrs,suppressHydrationWarning:!0,nonce:t}}));return[...p,...y]},structuralSharing:!0}),l=kt({select:d=>{const p=[];return d.matches.map(g=>e.looseRoutesById[g.routeId]).forEach(g=>e.ssr?.manifest?.routes[g.id]?.preloads?.filter(Boolean).forEach(y=>{p.push({tag:"link",attrs:{rel:"modulepreload",href:y,nonce:t}})})),p},structuralSharing:!0}),u=kt({select:d=>d.matches.map(p=>p.styles).flat(1).filter(Boolean).map(({children:p,...g})=>({tag:"style",attrs:{...g,nonce:t},children:p})),structuralSharing:!0}),f=kt({select:d=>d.matches.map(p=>p.headScripts).flat(1).filter(Boolean).map(({children:p,...g})=>({tag:"script",attrs:{...g,nonce:t},children:p})),structuralSharing:!0});return zI([...i,...l,...o,...u,...f],d=>JSON.stringify(d))};function zI(e,t){const n=new Set;return e.filter(i=>{const o=t(i);return n.has(o)?!1:(n.add(o),!0)})}function UI(){const e=qI(),n=tn().options.ssr?.nonce;return x.jsx(x.Fragment,{children:e.map(i=>R.createElement(NA,{...i,key:`tsr-meta-${JSON.stringify(i)}`,nonce:n}))})}const BI=()=>{const e=tn(),t=e.options.ssr?.nonce,n=kt({select:u=>{const f=[],d=e.ssr?.manifest;return d?(u.matches.map(p=>e.looseRoutesById[p.routeId]).forEach(p=>d.routes[p.id]?.assets?.filter(g=>g.tag==="script").forEach(g=>{f.push({tag:"script",attrs:{...g.attrs,nonce:t},children:g.children})})),f):[]},structuralSharing:!0}),{scripts:i}=kt({select:u=>({scripts:u.matches.map(f=>f.scripts).flat(1).filter(Boolean).map(({children:f,...d})=>({tag:"script",attrs:{...d,suppressHydrationWarning:!0,nonce:t},children:f}))}),structuralSharing:!0});let o;e.serverSsr&&(o=e.serverSsr.takeBufferedScripts());const l=[...i,...n];return o&&l.unshift(o),x.jsx(x.Fragment,{children:l.map((u,f)=>R.createElement(NA,{...u,key:`tsr-scripts-${u.tag}-${f}`}))})};function FI(e,t){e.id=t.i,e.__beforeLoadContext=t.b,e.loaderData=t.l,e.status=t.s,e.ssr=t.ssr,e.updatedAt=t.u,e.error=t.e}async function VI(e){Rn(window.$_TSR);const t=e.options.serializationAdapters;if(t?.length){const w=new Map;t.forEach(A=>{w.set(A.key,A.fromSerializable)}),window.$_TSR.t=w,window.$_TSR.buffer.forEach(A=>A())}window.$_TSR.initialized=!0,Rn(window.$_TSR.router);const{manifest:n,dehydratedData:i,lastMatchId:o}=window.$_TSR.router;e.ssr={manifest:n};const u=document.querySelector('meta[property="csp-nonce"]')?.content;e.options.ssr={nonce:u};const f=e.matchRoutes(e.state.location),d=Promise.all(f.map(w=>{const A=e.looseRoutesById[w.routeId];return e.loadRouteChunk(A)}));function p(w){const _=e.looseRoutesById[w.routeId].options.pendingMinMs??e.options.defaultPendingMinMs;if(_){const I=Bs();w._nonReactive.minPendingPromise=I,w._forcePending=!0,setTimeout(()=>{I.resolve(),e.updateMatch(w.id,M=>(M._nonReactive.minPendingPromise=void 0,{...M,_forcePending:void 0}))},_)}}function g(w){const A=e.looseRoutesById[w.routeId];A&&(A.options.ssr=w.ssr)}let y;f.forEach(w=>{const A=window.$_TSR.router.matches.find(_=>_.i===w.id);if(!A){w._nonReactive.dehydrated=!1,w.ssr=!1,g(w);return}FI(w,A),g(w),w._nonReactive.dehydrated=w.ssr!==!1,(w.ssr==="data-only"||w.ssr===!1)&&y===void 0&&(y=w.index,p(w))}),e.__store.setState(w=>({...w,matches:f})),await e.options.hydrate?.(i),await Promise.all(e.state.matches.map(async w=>{try{const A=e.looseRoutesById[w.routeId],I=e.state.matches[w.index-1]?.context??e.options.context;if(A.options.context){const K={deps:w.loaderDeps,params:w.params,context:I??{},location:e.state.location,navigate:q=>e.navigate({...q,_fromLocation:e.state.location}),buildLocation:e.buildLocation,cause:w.cause,abortController:w.abortController,preload:!1,matches:f};w.__routeContext=A.options.context(K)??void 0}w.context={...I,...w.__routeContext,...w.__beforeLoadContext};const M={ssr:e.options.ssr,matches:e.state.matches,match:w,params:w.params,loaderData:w.loaderData},k=await A.options.head?.(M),U=await A.options.scripts?.(M);w.meta=k?.meta,w.links=k?.links,w.headScripts=k?.scripts,w.styles=k?.styles,w.scripts=U}catch(A){if(on(A))w.error={isNotFound:!0},console.error(`NotFound error during hydration for routeId: ${w.routeId}`,A);else throw w.error=A,console.error(`Error during hydration for route ${w.routeId}:`,A),A}}));const v=f[f.length-1].id!==o;if(!f.some(w=>w.ssr===!1)&&!v)return f.forEach(w=>{w._nonReactive.dehydrated=void 0}),d;const E=Promise.resolve().then(()=>e.load()).catch(w=>{console.error("Error during router hydration:",w)});if(v){const w=f[1];Rn(w),p(w),w._displayPending=!0,w._nonReactive.displayPendingPromise=E,E.then(()=>{Zo(()=>{e.__store.state.status==="pending"&&e.__store.setState(A=>({...A,status:"idle",resolvedLocation:A.location})),e.updateMatch(w.id,A=>({...A,_displayPending:void 0,displayPendingPromise:void 0}))})})}return d}const KI="__TSS_CONTEXT",Jg=Symbol.for("TSS_SERVER_FUNCTION"),HI="x-tss-serialized",GI="x-tss-raw",kA="application/x-tss-framed",ri={JSON:0,CHUNK:1,END:2,ERROR:3},Po=9,Tx=1,QI=/;\s*v=(\d+)/;function YI(e){const t=e.match(QI);return t?parseInt(t[1],10):void 0}function XI(e){const t=YI(e);if(t!==void 0&&t!==Tx)throw new Error(`Incompatible framed protocol version: server=${t}, client=${Tx}. Please ensure client and server are using compatible versions.`)}const $A=()=>window.__TSS_START_OPTIONS__;function JI(){return[...$A()?.serializationAdapters?.map($D)??[],...QD]}const _x=new TextDecoder,ZI=new Uint8Array(0),Ox=16*1024*1024,Mx=32*1024*1024,Nx=1024,kx=1e5;function WI(e){const t=new Map,n=new Map,i=new Set;let o=!1,l=null,u=0,f;const d=new ReadableStream({start(y){f=y},cancel(){o=!0;try{l?.cancel()}catch{}t.forEach(y=>{try{y.error(new Error("Framed response cancelled"))}catch{}}),t.clear(),n.clear(),i.clear()}});function p(y){const v=n.get(y);if(v)return v;if(i.has(y))return new ReadableStream({start(E){E.close()}});if(n.size>=Nx)throw new Error(`Too many raw streams in framed response (max ${Nx})`);const S=new ReadableStream({start(E){t.set(y,E)},cancel(){i.add(y),t.delete(y),n.delete(y)}});return n.set(y,S),S}function g(y){return p(y),t.get(y)}return(async()=>{const y=e.getReader();l=y;const v=[];let S=0;function E(){if(S<Po)return null;const A=v[0];if(A.length>=Po){const q=A[0],L=(A[1]<<24|A[2]<<16|A[3]<<8|A[4])>>>0,W=(A[5]<<24|A[6]<<16|A[7]<<8|A[8])>>>0;return{type:q,streamId:L,length:W}}const _=new Uint8Array(Po);let I=0,M=Po;for(let q=0;q<v.length&&M>0;q++){const L=v[q],W=Math.min(L.length,M);_.set(L.subarray(0,W),I),I+=W,M-=W}const k=_[0],U=(_[1]<<24|_[2]<<16|_[3]<<8|_[4])>>>0,K=(_[5]<<24|_[6]<<16|_[7]<<8|_[8])>>>0;return{type:k,streamId:U,length:K}}function w(A){if(A===0)return ZI;const _=new Uint8Array(A);let I=0,M=A;for(;M>0&&v.length>0;){const k=v[0];if(!k)break;const U=Math.min(k.length,M);_.set(k.subarray(0,U),I),I+=U,M-=U,U===k.length?v.shift():v[0]=k.subarray(U)}return S-=A,_}try{for(;;){const{done:A,value:_}=await y.read();if(o||A)break;if(_){if(S+_.length>Mx)throw new Error(`Framed response buffer exceeded ${Mx} bytes`);for(v.push(_),S+=_.length;;){const I=E();if(!I)break;const{type:M,streamId:k,length:U}=I;if(M!==ri.JSON&&M!==ri.CHUNK&&M!==ri.END&&M!==ri.ERROR)throw new Error(`Unknown frame type: ${M}`);if(M===ri.JSON){if(k!==0)throw new Error("Invalid JSON frame streamId (expected 0)")}else if(k===0)throw new Error("Invalid raw frame streamId (expected non-zero)");if(U>Ox)throw new Error(`Frame payload too large: ${U} bytes (max ${Ox})`);const K=Po+U;if(S<K)break;if(++u>kx)throw new Error(`Too many frames in framed response (max ${kx})`);w(Po);const q=w(U);switch(M){case ri.JSON:{try{f.enqueue(_x.decode(q))}catch{}break}case ri.CHUNK:{const L=g(k);L&&L.enqueue(q);break}case ri.END:{const L=g(k);if(i.add(k),L){try{L.close()}catch{}t.delete(k)}break}case ri.ERROR:{const L=g(k);if(i.add(k),L){const W=_x.decode(q);L.error(new Error(W)),t.delete(k)}break}}}}}if(S!==0)throw new Error("Incomplete frame at end of framed response");try{f.close()}catch{}t.forEach(A=>{try{A.close()}catch{}}),t.clear()}catch(A){try{f.error(A)}catch{}t.forEach(_=>{try{_.error(A)}catch{}}),t.clear()}finally{try{y.releaseLock()}catch{}l=null}})(),{getOrCreateStream:p,jsonChunks:d}}let ra=null;const ej=Object.prototype.hasOwnProperty;function LA(e){for(const t in e)if(ej.call(e,t))return!0;return!1}async function tj(e,t,n){ra||(ra=JI());const o=t[0],l=o.fetch??n,u=o.data instanceof FormData?"formData":"payload",f=o.headers?new Headers(o.headers):new Headers;if(f.set("x-tsr-serverFn","true"),u==="payload"&&f.set("accept",`${kA}, application/x-ndjson, application/json`),o.method==="GET"){if(u==="formData")throw new Error("FormData is not supported with GET requests");const p=await DA(o);if(p!==void 0){const g=qR({payload:p});e.includes("?")?e+=`&${g}`:e+=`?${g}`}}let d;if(o.method==="POST"){const p=await nj(o);p?.contentType&&f.set("content-type",p.contentType),d=p?.body}return await rj(async()=>l(e,{method:o.method,headers:f,signal:o.signal,body:d}))}async function DA(e){let t=!1;const n={};if(e.data!==void 0&&(t=!0,n.data=e.data),e.context&&LA(e.context)&&(t=!0,n.context=e.context),t)return IA(n)}async function IA(e){return JSON.stringify(await Promise.resolve(kD(e,{plugins:ra})))}async function nj(e){if(e.data instanceof FormData){let n;return e.context&&LA(e.context)&&(n=await IA(e.context)),n!==void 0&&e.data.set(KI,n),{body:e.data}}const t=await DA(e);if(t)return{body:t,contentType:"application/json"}}async function rj(e){let t;try{t=await e()}catch(o){if(o instanceof Response)t=o;else throw console.log(o),o}if(t.headers.get(GI)==="true")return t;const n=t.headers.get("content-type");if(Rn(n),!!t.headers.get(HI)){let o;if(n.includes(kA)){if(XI(n),!t.body)throw new Error("No response body for framed response");const{getOrCreateStream:l,jsonChunks:u}=WI(t.body),d=[GD(l),...ra||[]],p=new Map;o=await sj({jsonStream:u,onMessage:g=>cm(g,{refs:p,plugins:d}),onError(g,y){console.error(g,y)}})}else if(n.includes("application/x-ndjson")){const l=new Map;o=await ij({response:t,onMessage:u=>cm(u,{refs:l,plugins:ra}),onError(u,f){console.error(u,f)}})}else if(n.includes("application/json")){const l=await t.json();o=cm(l,{plugins:ra})}if(Rn(o),o instanceof Error)throw o;return o}if(n.includes("application/json")){const o=await t.json(),l=U$(o);if(l)throw l;if(on(o))throw o;return o}if(!t.ok)throw new Error(await t.text());return t}async function ij({response:e,onMessage:t,onError:n}){if(!e.body)throw new Error("No response body");const i=e.body.pipeThrough(new TextDecoderStream).getReader();let o="",l=!1,u;for(;!l;){const{value:f,done:d}=await i.read();if(f&&(o+=f),o.length===0&&d)throw new Error("Stream ended before first object");if(o.endsWith(`
`)){const p=o.split(`
`).filter(Boolean),g=p[0];if(!g)throw new Error("No JSON line in the first chunk");u=JSON.parse(g),l=!0,o=p.slice(1).join(`
`)}else{const p=o.indexOf(`
`);if(p>=0){const g=o.slice(0,p).trim();o=o.slice(p+1),g.length>0&&(u=JSON.parse(g),l=!0)}}}return(async()=>{try{for(;;){const{value:f,done:d}=await i.read();f&&(o+=f);const p=o.lastIndexOf(`
`);if(p>=0){const g=o.slice(0,p);o=o.slice(p+1);const y=g.split(`
`).filter(Boolean);for(const v of y)try{t(JSON.parse(v))}catch(S){n?.(`Invalid JSON line: ${v}`,S)}}if(d)break}}catch(f){n?.("Stream processing error:",f)}})(),t(u)}async function sj({jsonStream:e,onMessage:t,onError:n}){const i=e.getReader(),{value:o,done:l}=await i.read();if(l||!o)throw new Error("Stream ended before first object");const u=JSON.parse(o);return(async()=>{try{for(;;){const{value:f,done:d}=await i.read();if(d)break;if(f)try{t(JSON.parse(f))}catch(p){n?.(`Invalid JSON: ${f}`,p)}}}catch(f){n?.("Stream processing error:",f)}})(),t(u)}function oj(e){const t="/_serverFn/"+e;return Object.assign((...o)=>{const l=$A()?.serverFns?.fetch;return tj(t,o,l??fetch)},{url:t,serverFnMeta:{id:e},[Jg]:!0})}const aj={key:"$TSS/serverfn",test:e=>typeof e!="function"||!(Jg in e)?!1:!!e[Jg],toSerializable:({serverFnMeta:e})=>({functionId:e.id}),fromSerializable:({functionId:e})=>oj(e)},lj="modulepreload",cj=function(e){return"/"+e},$x={},pr=function(t,n,i){let o=Promise.resolve();if(n&&n.length>0){let u=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),d=f?.nonce||f?.getAttribute("nonce");o=u(n.map(p=>{if(p=cj(p),p in $x)return;$x[p]=!0;const g=p.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const v=document.createElement("link");if(v.rel=g?"stylesheet":lj,g||(v.as="script"),v.crossOrigin="",v.href=p,d&&v.setAttribute("nonce",d),document.head.appendChild(v),g)return new Promise((S,E)=>{v.addEventListener("load",S),v.addEventListener("error",()=>E(Error(`Unable to preload CSS for ${p}`)))})}))}function l(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return o.then(u=>{for(const f of u||[])f.status==="rejected"&&l(f.reason);return t().catch(l)})};var Lx={},uj="@vercel/analytics",fj="1.6.1",dj=()=>{window.va||(window.va=function(...t){(window.vaq=window.vaq||[]).push(t)})};function jA(){return typeof window<"u"}function PA(){try{const e="production"}catch{}return"production"}function hj(e="auto"){if(e==="auto"){window.vam=PA();return}window.vam=e}function pj(){return(jA()?window.vam:PA())||"production"}function Zg(){return pj()==="development"}function mj(e){return e.scriptSrc?e.scriptSrc:Zg()?"https://va.vercel-scripts.com/v1/script.debug.js":e.basePath?`${e.basePath}/insights/script.js`:"/_vercel/insights/script.js"}function gj(e={debug:!0}){var t;if(!jA())return;hj(e.mode),dj(),e.beforeSend&&((t=window.va)==null||t.call(window,"beforeSend",e.beforeSend));const n=mj(e);if(document.head.querySelector(`script[src*="${n}"]`))return;const i=document.createElement("script");i.src=n,i.defer=!0,i.dataset.sdkn=uj+(e.framework?`/${e.framework}`:""),i.dataset.sdkv=fj,e.disableAutoTrack&&(i.dataset.disableAutoTrack="1"),e.endpoint?i.dataset.endpoint=e.endpoint:e.basePath&&(i.dataset.endpoint=`${e.basePath}/insights`),e.dsn&&(i.dataset.dsn=e.dsn),i.onerror=()=>{const o=Zg()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${n}. ${o}`)},Zg()&&e.debug===!1&&(i.dataset.debug="false"),document.head.appendChild(i)}function yj({route:e,path:t}){var n;(n=window.va)==null||n.call(window,"pageview",{route:e,path:t})}function vj(){if(!(typeof process>"u"||typeof Lx>"u"))return Lx.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}function bj(e){return R.useEffect(()=>{var t;e.beforeSend&&((t=window.va)==null||t.call(window,"beforeSend",e.beforeSend))},[e.beforeSend]),R.useEffect(()=>{gj({framework:e.framework||"react",basePath:e.basePath??vj(),...e.route!==void 0&&{disableAutoTrack:!0},...e})},[]),R.useEffect(()=>{e.route&&e.path&&yj({route:e.route,path:e.path})},[e.route,e.path]),null}const $s="1.31.7";var _r=[],Zn=[],wj=Uint8Array,ym="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var qo=0,Sj=ym.length;qo<Sj;++qo)_r[qo]=ym[qo],Zn[ym.charCodeAt(qo)]=qo;Zn[45]=62;Zn[95]=63;function xj(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var i=n===t?0:4-n%4;return[n,i]}function Ej(e,t,n){return(t+n)*3/4-n}function Hl(e){var t,n=xj(e),i=n[0],o=n[1],l=new wj(Ej(e,i,o)),u=0,f=o>0?i-4:i,d;for(d=0;d<f;d+=4)t=Zn[e.charCodeAt(d)]<<18|Zn[e.charCodeAt(d+1)]<<12|Zn[e.charCodeAt(d+2)]<<6|Zn[e.charCodeAt(d+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=t&255;return o===2&&(t=Zn[e.charCodeAt(d)]<<2|Zn[e.charCodeAt(d+1)]>>4,l[u++]=t&255),o===1&&(t=Zn[e.charCodeAt(d)]<<10|Zn[e.charCodeAt(d+1)]<<4|Zn[e.charCodeAt(d+2)]>>2,l[u++]=t>>8&255,l[u++]=t&255),l}function Rj(e){return _r[e>>18&63]+_r[e>>12&63]+_r[e>>6&63]+_r[e&63]}function Aj(e,t,n){for(var i,o=[],l=t;l<n;l+=3)i=(e[l]<<16&16711680)+(e[l+1]<<8&65280)+(e[l+2]&255),o.push(Rj(i));return o.join("")}function Gl(e){for(var t,n=e.length,i=n%3,o=[],l=16383,u=0,f=n-i;u<f;u+=l)o.push(Aj(e,u,u+l>f?f:u+l));return i===1?(t=e[n-1],o.push(_r[t>>2]+_r[t<<4&63]+"==")):i===2&&(t=(e[n-2]<<8)+e[n-1],o.push(_r[t>>10]+_r[t>>4&63]+_r[t<<2&63]+"=")),o.join("")}function xn(e){if(e===void 0)return{};if(!zA(e))throw new Error(`The arguments to a Convex function must be an object. Received: ${e}`);return e}function qA(e){if(typeof e>"u")throw new Error("Client created with undefined deployment address. If you used an environment variable, check that it's set.");if(typeof e!="string")throw new Error(`Invalid deployment address: found ${e}".`);if(!(e.startsWith("http:")||e.startsWith("https:")))throw new Error(`Invalid deployment address: Must start with "https://" or "http://". Found "${e}".`);try{new URL(e)}catch{throw new Error(`Invalid deployment address: "${e}" is not a valid URL. If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}if(e.endsWith(".convex.site"))throw new Error(`Invalid deployment address: "${e}" ends with .convex.site, which is used for HTTP Actions. Convex deployment URLs typically end with .convex.cloud? If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}function zA(e){const t=typeof e=="object",n=Object.getPrototypeOf(e),i=n===null||n===Object.prototype||n?.constructor?.name==="Object";return t&&i}const UA=!0,ua=BigInt("-9223372036854775808"),Xy=BigInt("9223372036854775807"),Wg=BigInt("0"),Cj=BigInt("8"),Tj=BigInt("256");function BA(e){return Number.isNaN(e)||!Number.isFinite(e)||Object.is(e,-0)}function _j(e){e<Wg&&(e-=ua+ua);let t=e.toString(16);t.length%2===1&&(t="0"+t);const n=new Uint8Array(new ArrayBuffer(8));let i=0;for(const o of t.match(/.{2}/g).reverse())n.set([parseInt(o,16)],i++),e>>=Cj;return Gl(n)}function Oj(e){const t=Hl(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);let n=Wg,i=Wg;for(const o of t)n+=BigInt(o)*Tj**i,i++;return n>Xy&&(n+=ua+ua),n}function Mj(e){if(e<ua||Xy<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);const t=new ArrayBuffer(8);return new DataView(t).setBigInt64(0,e,!0),Gl(new Uint8Array(t))}function Nj(e){const t=Hl(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);return new DataView(t.buffer).getBigInt64(0,!0)}const kj=DataView.prototype.setBigInt64?Mj:_j,$j=DataView.prototype.getBigInt64?Nj:Oj,Dx=1024;function FA(e){if(e.length>Dx)throw new Error(`Field name ${e} exceeds maximum field name length ${Dx}.`);if(e.startsWith("$"))throw new Error(`Field name ${e} starts with a '$', which is reserved.`);for(let t=0;t<e.length;t+=1){const n=e.charCodeAt(t);if(n<32||n>=127)throw new Error(`Field name ${e} has invalid character '${e[t]}': Field names can only contain non-control ASCII characters`)}}function ur(e){if(e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string")return e;if(Array.isArray(e))return e.map(i=>ur(i));if(typeof e!="object")throw new Error(`Unexpected type of ${e}`);const t=Object.entries(e);if(t.length===1){const i=t[0][0];if(i==="$bytes"){if(typeof e.$bytes!="string")throw new Error(`Malformed $bytes field on ${e}`);return Hl(e.$bytes).buffer}if(i==="$integer"){if(typeof e.$integer!="string")throw new Error(`Malformed $integer field on ${e}`);return $j(e.$integer)}if(i==="$float"){if(typeof e.$float!="string")throw new Error(`Malformed $float field on ${e}`);const o=Hl(e.$float);if(o.byteLength!==8)throw new Error(`Received ${o.byteLength} bytes, expected 8 for $float`);const u=new DataView(o.buffer).getFloat64(0,UA);if(!BA(u))throw new Error(`Float ${u} should be encoded as a number`);return u}if(i==="$set")throw new Error("Received a Set which is no longer supported as a Convex type.");if(i==="$map")throw new Error("Received a Map which is no longer supported as a Convex type.")}const n={};for(const[i,o]of Object.entries(e))FA(i),n[i]=ur(o);return n}const Ix=16384;function Pl(e){const t=JSON.stringify(e,(n,i)=>i===void 0?"undefined":typeof i=="bigint"?`${i.toString()}n`:i);if(t.length>Ix){const n="[...truncated]";let i=Ix-n.length;const o=t.codePointAt(i-1);return o!==void 0&&o>65535&&(i-=1),t.substring(0,i)+n}return t}function ey(e,t,n,i){if(e===void 0){const u=n&&` (present at path ${n} in original object ${Pl(t)})`;throw new Error(`undefined is not a valid Convex value${u}. To learn about Convex's supported types, see https://docs.convex.dev/using/types.`)}if(e===null)return e;if(typeof e=="bigint"){if(e<ua||Xy<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);return{$integer:kj(e)}}if(typeof e=="number")if(BA(e)){const u=new ArrayBuffer(8);return new DataView(u).setFloat64(0,e,UA),{$float:Gl(new Uint8Array(u))}}else return e;if(typeof e=="boolean"||typeof e=="string")return e;if(e instanceof ArrayBuffer)return{$bytes:Gl(new Uint8Array(e))};if(Array.isArray(e))return e.map((u,f)=>ey(u,t,n+`[${f}]`));if(e instanceof Set)throw new Error(vm(n,"Set",[...e],t));if(e instanceof Map)throw new Error(vm(n,"Map",[...e],t));if(!zA(e)){const u=e?.constructor?.name,f=u?`${u} `:"";throw new Error(vm(n,f,e,t))}const o={},l=Object.entries(e);l.sort(([u,f],[d,p])=>u===d?0:u<d?-1:1);for(const[u,f]of l)f!==void 0&&(FA(u),o[u]=ey(f,t,n+`.${u}`));return o}function vm(e,t,n,i){return e?`${t}${Pl(n)} is not a supported Convex type (present at path ${e} in original object ${Pl(i)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`:`${t}${Pl(n)} is not a supported Convex type.`}function Ht(e){return ey(e,e,"")}var Lj=Object.defineProperty,Dj=(e,t,n)=>t in e?Lj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bm=(e,t,n)=>Dj(e,typeof t!="symbol"?t+"":t,n),jx,Px;const Ij=Symbol.for("ConvexError");class Wi extends(Px=Error,jx=Ij,Px){constructor(t){super(typeof t=="string"?t:Pl(t)),bm(this,"name","ConvexError"),bm(this,"data"),bm(this,jx,!0),this.data=t}}const VA=()=>Array.from({length:4},()=>0);VA();VA();var jj=Object.defineProperty,Pj=(e,t,n)=>t in e?jj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qx=(e,t,n)=>Pj(e,typeof t!="symbol"?t+"":t,n);const qj="color:rgb(0, 145, 255)";function KA(e){switch(e){case"query":return"Q";case"mutation":return"M";case"action":return"A";case"any":return"?"}}class HA{constructor(t){qx(this,"_onLogLineFuncs"),qx(this,"_verbose"),this._onLogLineFuncs={},this._verbose=t.verbose}addLogLineListener(t){let n=Math.random().toString(36).substring(2,15);for(let i=0;i<10&&this._onLogLineFuncs[n]!==void 0;i++)n=Math.random().toString(36).substring(2,15);return this._onLogLineFuncs[n]=t,()=>{delete this._onLogLineFuncs[n]}}logVerbose(...t){if(this._verbose)for(const n of Object.values(this._onLogLineFuncs))n("debug",`${new Date().toISOString()}`,...t)}log(...t){for(const n of Object.values(this._onLogLineFuncs))n("info",...t)}warn(...t){for(const n of Object.values(this._onLogLineFuncs))n("warn",...t)}error(...t){for(const n of Object.values(this._onLogLineFuncs))n("error",...t)}}function Jy(e){const t=new HA(e);return t.addLogLineListener((n,...i)=>{switch(n){case"debug":console.debug(...i);break;case"info":console.log(...i);break;case"warn":console.warn(...i);break;case"error":console.error(...i);break;default:console.log(...i)}}),t}function Zy(e){return new HA(e)}function es(e,t,n,i,o){const l=KA(n);if(typeof o=="object"&&(o=`ConvexError ${JSON.stringify(o.errorData,null,2)}`),t==="info"){const u=o.match(/^\[.*?\] /);if(u===null){e.error(`[CONVEX ${l}(${i})] Could not parse console.log`);return}const f=o.slice(1,u[0].length-2),d=o.slice(u[0].length);e.log(`%c[CONVEX ${l}(${i})] [${f}]`,qj,d)}else e.error(`[CONVEX ${l}(${i})] ${o}`)}function zj(e,t){const n=`[CONVEX FATAL ERROR] ${t}`;return e.error(n),new Error(n)}function Yo(e,t,n){return`[CONVEX ${KA(e)}(${t})] ${n.errorMessage}
  Called by client`}function ty(e,t){return t.data=e.errorData,t}function Ks(e){const t=e.split(":");let n,i;return t.length===1?(n=t[0],i="default"):(n=t.slice(0,t.length-1).join(":"),i=t[t.length-1]),n.endsWith(".js")&&(n=n.slice(0,-3)),`${n}:${i}`}function zs(e,t){return JSON.stringify({udfPath:Ks(e),args:Ht(t)})}function zx(e,t,n){const{initialNumItems:i,id:o}=n;return JSON.stringify({type:"paginated",udfPath:Ks(e),args:Ht(t),options:Ht({initialNumItems:i,id:o})})}var Uj=Object.defineProperty,Bj=(e,t,n)=>t in e?Uj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rr=(e,t,n)=>Bj(e,typeof t!="symbol"?t+"":t,n);class Fj{constructor(){Rr(this,"nextQueryId"),Rr(this,"querySetVersion"),Rr(this,"querySet"),Rr(this,"queryIdToToken"),Rr(this,"identityVersion"),Rr(this,"auth"),Rr(this,"outstandingQueriesOlderThanRestart"),Rr(this,"outstandingAuthOlderThanRestart"),Rr(this,"paused"),Rr(this,"pendingQuerySetModifications"),this.nextQueryId=0,this.querySetVersion=0,this.identityVersion=0,this.querySet=new Map,this.queryIdToToken=new Map,this.outstandingQueriesOlderThanRestart=new Set,this.outstandingAuthOlderThanRestart=!1,this.paused=!1,this.pendingQuerySetModifications=new Map}hasSyncedPastLastReconnect(){return this.outstandingQueriesOlderThanRestart.size===0&&!this.outstandingAuthOlderThanRestart}markAuthCompletion(){this.outstandingAuthOlderThanRestart=!1}subscribe(t,n,i,o){const l=Ks(t),u=zs(l,n),f=this.querySet.get(u);if(f!==void 0)return f.numSubscribers+=1,{queryToken:u,modification:null,unsubscribe:()=>this.removeSubscriber(u)};{const d=this.nextQueryId++,p={id:d,canonicalizedUdfPath:l,args:n,numSubscribers:1,journal:i,componentPath:o};this.querySet.set(u,p),this.queryIdToToken.set(d,u);const g=this.querySetVersion,y=this.querySetVersion+1,v={type:"Add",queryId:d,udfPath:l,args:[Ht(n)],journal:i,componentPath:o};return this.paused?this.pendingQuerySetModifications.set(d,v):this.querySetVersion=y,{queryToken:u,modification:{type:"ModifyQuerySet",baseVersion:g,newVersion:y,modifications:[v]},unsubscribe:()=>this.removeSubscriber(u)}}}transition(t){for(const n of t.modifications)switch(n.type){case"QueryUpdated":case"QueryFailed":{this.outstandingQueriesOlderThanRestart.delete(n.queryId);const i=n.journal;if(i!==void 0){const o=this.queryIdToToken.get(n.queryId);o!==void 0&&(this.querySet.get(o).journal=i)}break}case"QueryRemoved":{this.outstandingQueriesOlderThanRestart.delete(n.queryId);break}default:throw new Error(`Invalid modification ${n.type}`)}}queryId(t,n){const i=Ks(t),o=zs(i,n),l=this.querySet.get(o);return l!==void 0?l.id:null}isCurrentOrNewerAuthVersion(t){return t>=this.identityVersion}getAuth(){return this.auth}setAuth(t){this.auth={tokenType:"User",value:t};const n=this.identityVersion;return this.paused||(this.identityVersion=n+1),{type:"Authenticate",baseVersion:n,...this.auth}}setAdminAuth(t,n){const i={tokenType:"Admin",value:t,impersonating:n};this.auth=i;const o=this.identityVersion;return this.paused||(this.identityVersion=o+1),{type:"Authenticate",baseVersion:o,...i}}clearAuth(){this.auth=void 0,this.markAuthCompletion();const t=this.identityVersion;return this.paused||(this.identityVersion=t+1),{type:"Authenticate",tokenType:"None",baseVersion:t}}hasAuth(){return!!this.auth}isNewAuth(t){return this.auth?.value!==t}queryPath(t){const n=this.queryIdToToken.get(t);return n?this.querySet.get(n).canonicalizedUdfPath:null}queryArgs(t){const n=this.queryIdToToken.get(t);return n?this.querySet.get(n).args:null}queryToken(t){return this.queryIdToToken.get(t)??null}queryJournal(t){return this.querySet.get(t)?.journal}restart(t){this.unpause(),this.outstandingQueriesOlderThanRestart.clear();const n=[];for(const l of this.querySet.values()){const u={type:"Add",queryId:l.id,udfPath:l.canonicalizedUdfPath,args:[Ht(l.args)],journal:l.journal,componentPath:l.componentPath};n.push(u),t.has(l.id)||this.outstandingQueriesOlderThanRestart.add(l.id)}this.querySetVersion=1;const i={type:"ModifyQuerySet",baseVersion:0,newVersion:1,modifications:n};if(!this.auth)return this.identityVersion=0,[i,void 0];this.outstandingAuthOlderThanRestart=!0;const o={type:"Authenticate",baseVersion:0,...this.auth};return this.identityVersion=1,[i,o]}pause(){this.paused=!0}resume(){const t=this.pendingQuerySetModifications.size>0?{type:"ModifyQuerySet",baseVersion:this.querySetVersion,newVersion:++this.querySetVersion,modifications:Array.from(this.pendingQuerySetModifications.values())}:void 0,n=this.auth!==void 0?{type:"Authenticate",baseVersion:this.identityVersion++,...this.auth}:void 0;return this.unpause(),[t,n]}unpause(){this.paused=!1,this.pendingQuerySetModifications.clear()}removeSubscriber(t){const n=this.querySet.get(t);if(n.numSubscribers>1)return n.numSubscribers-=1,null;{this.querySet.delete(t),this.queryIdToToken.delete(n.id),this.outstandingQueriesOlderThanRestart.delete(n.id);const i=this.querySetVersion,o=this.querySetVersion+1,l={type:"Remove",queryId:n.id};return this.paused?this.pendingQuerySetModifications.has(n.id)?this.pendingQuerySetModifications.delete(n.id):this.pendingQuerySetModifications.set(n.id,l):this.querySetVersion=o,{type:"ModifyQuerySet",baseVersion:i,newVersion:o,modifications:[l]}}}}var Vj=Object.defineProperty,Kj=(e,t,n)=>t in e?Vj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vu=(e,t,n)=>Kj(e,typeof t!="symbol"?t+"":t,n);class Hj{constructor(t,n){this.logger=t,this.markConnectionStateDirty=n,Vu(this,"inflightRequests"),Vu(this,"requestsOlderThanRestart"),Vu(this,"inflightMutationsCount",0),Vu(this,"inflightActionsCount",0),this.inflightRequests=new Map,this.requestsOlderThanRestart=new Set}request(t,n){const i=new Promise(o=>{const l=n?"Requested":"NotSent";this.inflightRequests.set(t.requestId,{message:t,status:{status:l,requestedAt:new Date,onResult:o}}),t.type==="Mutation"?this.inflightMutationsCount++:t.type==="Action"&&this.inflightActionsCount++});return this.markConnectionStateDirty(),i}onResponse(t){const n=this.inflightRequests.get(t.requestId);if(n===void 0||n.status.status==="Completed")return null;const i=n.message.type==="Mutation"?"mutation":"action",o=n.message.udfPath;for(const d of t.logLines)es(this.logger,"info",i,o,d);const l=n.status;let u,f;if(t.success)u={success:!0,logLines:t.logLines,value:ur(t.result)},f=()=>l.onResult(u);else{const d=t.result,{errorData:p}=t;es(this.logger,"error",i,o,d),u={success:!1,errorMessage:d,errorData:p!==void 0?ur(p):void 0,logLines:t.logLines},f=()=>l.onResult(u)}return t.type==="ActionResponse"||!t.success?(f(),this.inflightRequests.delete(t.requestId),this.requestsOlderThanRestart.delete(t.requestId),n.message.type==="Action"?this.inflightActionsCount--:n.message.type==="Mutation"&&this.inflightMutationsCount--,this.markConnectionStateDirty(),{requestId:t.requestId,result:u}):(n.status={status:"Completed",result:u,ts:t.ts,onResolve:f},null)}removeCompleted(t){const n=new Map;for(const[i,o]of this.inflightRequests.entries()){const l=o.status;l.status==="Completed"&&l.ts.lessThanOrEqual(t)&&(l.onResolve(),n.set(i,l.result),o.message.type==="Mutation"?this.inflightMutationsCount--:o.message.type==="Action"&&this.inflightActionsCount--,this.inflightRequests.delete(i),this.requestsOlderThanRestart.delete(i))}return n.size>0&&this.markConnectionStateDirty(),n}restart(){this.requestsOlderThanRestart=new Set(this.inflightRequests.keys());const t=[];for(const[n,i]of this.inflightRequests){if(i.status.status==="NotSent"){i.status.status="Requested",t.push(i.message);continue}if(i.message.type==="Mutation")t.push(i.message);else if(i.message.type==="Action"){if(this.inflightRequests.delete(n),this.requestsOlderThanRestart.delete(n),this.inflightActionsCount--,i.status.status==="Completed")throw new Error("Action should never be in 'Completed' state");i.status.onResult({success:!1,errorMessage:"Connection lost while action was in flight",logLines:[]})}}return this.markConnectionStateDirty(),t}resume(){const t=[];for(const[,n]of this.inflightRequests)if(n.status.status==="NotSent"){n.status.status="Requested",t.push(n.message);continue}return t}hasIncompleteRequests(){for(const t of this.inflightRequests.values())if(t.status.status==="Requested")return!0;return!1}hasInflightRequests(){return this.inflightRequests.size>0}hasSyncedPastLastReconnect(){return this.requestsOlderThanRestart.size===0}timeOfOldestInflightRequest(){if(this.inflightRequests.size===0)return null;let t=Date.now();for(const n of this.inflightRequests.values())n.status.status!=="Completed"&&n.status.requestedAt.getTime()<t&&(t=n.status.requestedAt.getTime());return new Date(t)}inflightMutations(){return this.inflightMutationsCount}inflightActions(){return this.inflightActionsCount}}const Ql=Symbol.for("functionName"),GA=Symbol.for("toReferencePath");function Gj(e){return e[GA]??null}function Qj(e){return e.startsWith("function://")}function Yj(e){let t;if(typeof e=="string")Qj(e)?t={functionHandle:e}:t={name:e};else if(e[Ql])t={name:e[Ql]};else{const n=Gj(e);if(!n)throw new Error(`${e} is not a functionReference`);t={reference:n}}return t}function pt(e){const t=Yj(e);if(t.name===void 0)throw t.functionHandle!==void 0?new Error(`Expected function reference like "api.file.func" or "internal.file.func", but received function handle ${t.functionHandle}`):t.reference!==void 0?new Error(`Expected function reference in the current component like "api.file.func" or "internal.file.func", but received reference ${t.reference}`):new Error(`Expected function reference like "api.file.func" or "internal.file.func", but received ${JSON.stringify(t)}`);if(typeof e=="string")return e;const n=e[Ql];if(!n)throw new Error(`${e} is not a functionReference`);return n}function Wy(e){return{[Ql]:e}}function QA(e=[]){const t={get(n,i){if(typeof i=="string"){const o=[...e,i];return QA(o)}else if(i===Ql){if(e.length<2){const u=["api",...e].join(".");throw new Error(`API path is expected to be of the form \`api.moduleName.functionName\`. Found: \`${u}\``)}const o=e.slice(0,-1).join("/"),l=e[e.length-1];return l==="default"?o:o+":"+l}else return i===Symbol.toStringTag?"FunctionReference":void 0}};return new Proxy({},t)}const Xj=QA();var Jj=Object.defineProperty,Zj=(e,t,n)=>t in e?Jj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$f=(e,t,n)=>Zj(e,typeof t!="symbol"?t+"":t,n);class Yl{constructor(t){$f(this,"queryResults"),$f(this,"modifiedQueries"),this.queryResults=t,this.modifiedQueries=[]}getQuery(t,...n){const i=xn(n[0]),o=pt(t),l=this.queryResults.get(zs(o,i));if(l!==void 0)return Yl.queryValue(l.result)}getAllQueries(t){const n=[],i=pt(t);for(const o of this.queryResults.values())o.udfPath===Ks(i)&&n.push({args:o.args,value:Yl.queryValue(o.result)});return n}setQuery(t,n,i){const o=xn(n),l=pt(t),u=zs(l,o);let f;i===void 0?f=void 0:f={success:!0,value:i,logLines:[]};const d={udfPath:l,args:o,result:f};this.queryResults.set(u,d),this.modifiedQueries.push(u)}static queryValue(t){if(t!==void 0)return t.success?t.value:void 0}}class Wj{constructor(){$f(this,"queryResults"),$f(this,"optimisticUpdates"),this.queryResults=new Map,this.optimisticUpdates=[]}ingestQueryResultsFromServer(t,n){this.optimisticUpdates=this.optimisticUpdates.filter(u=>!n.has(u.mutationId));const i=this.queryResults;this.queryResults=new Map(t);const o=new Yl(this.queryResults);for(const u of this.optimisticUpdates)u.update(o);const l=[];for(const[u,f]of this.queryResults){const d=i.get(u);(d===void 0||d.result!==f.result)&&l.push(u)}return l}applyOptimisticUpdate(t,n){this.optimisticUpdates.push({update:t,mutationId:n});const i=new Yl(this.queryResults);return t(i),i.modifiedQueries}rawQueryResult(t){const n=this.queryResults.get(t);if(n!==void 0)return n.result}queryResult(t){const n=this.queryResults.get(t);if(n===void 0)return;const i=n.result;if(i!==void 0){if(i.success)return i.value;throw i.errorData!==void 0?ty(i,new Wi(Yo("query",n.udfPath,i))):new Error(Yo("query",n.udfPath,i))}}hasQueryResult(t){return this.queryResults.get(t)!==void 0}queryLogs(t){return this.queryResults.get(t)?.result?.logLines}}var eP=Object.defineProperty,tP=(e,t,n)=>t in e?eP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wm=(e,t,n)=>tP(e,typeof t!="symbol"?t+"":t,n);class wn{constructor(t,n){wm(this,"low"),wm(this,"high"),wm(this,"__isUnsignedLong__"),this.low=t|0,this.high=n|0,this.__isUnsignedLong__=!0}static isLong(t){return(t&&t.__isUnsignedLong__)===!0}static fromBytesLE(t){return new wn(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24)}toBytesLE(){const t=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]}static fromNumber(t){return isNaN(t)||t<0?Ux:t>=nP?rP:new wn(t%ql|0,t/ql|0)}toString(){return(BigInt(this.high)*BigInt(ql)+BigInt(this.low)).toString()}equals(t){return wn.isLong(t)||(t=wn.fromValue(t)),this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low}notEquals(t){return!this.equals(t)}comp(t){return wn.isLong(t)||(t=wn.fromValue(t)),this.equals(t)?0:t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1}lessThanOrEqual(t){return this.comp(t)<=0}static fromValue(t){return typeof t=="number"?wn.fromNumber(t):new wn(t.low,t.high)}}const Ux=new wn(0,0),Bx=65536,ql=Bx*Bx,nP=ql*ql,rP=new wn(-1,-1);var iP=Object.defineProperty,sP=(e,t,n)=>t in e?iP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ku=(e,t,n)=>sP(e,typeof t!="symbol"?t+"":t,n);class Fx{constructor(t,n){Ku(this,"version"),Ku(this,"remoteQuerySet"),Ku(this,"queryPath"),Ku(this,"logger"),this.version={querySet:0,ts:wn.fromNumber(0),identity:0},this.remoteQuerySet=new Map,this.queryPath=t,this.logger=n}transition(t){const n=t.startVersion;if(this.version.querySet!==n.querySet||this.version.ts.notEquals(n.ts)||this.version.identity!==n.identity)throw new Error(`Invalid start version: ${n.ts.toString()}:${n.querySet}:${n.identity}, transitioning from ${this.version.ts.toString()}:${this.version.querySet}:${this.version.identity}`);for(const i of t.modifications)switch(i.type){case"QueryUpdated":{const o=this.queryPath(i.queryId);if(o)for(const u of i.logLines)es(this.logger,"info","query",o,u);const l=ur(i.value??null);this.remoteQuerySet.set(i.queryId,{success:!0,value:l,logLines:i.logLines});break}case"QueryFailed":{const o=this.queryPath(i.queryId);if(o)for(const u of i.logLines)es(this.logger,"info","query",o,u);const{errorData:l}=i;this.remoteQuerySet.set(i.queryId,{success:!1,errorMessage:i.errorMessage,errorData:l!==void 0?ur(l):void 0,logLines:i.logLines});break}case"QueryRemoved":{this.remoteQuerySet.delete(i.queryId);break}default:throw new Error(`Invalid modification ${i.type}`)}this.version=t.endVersion}remoteQueryResults(){return this.remoteQuerySet}timestamp(){return this.version.ts}}function Sm(e){const t=Hl(e);return wn.fromBytesLE(Array.from(t))}function oP(e){const t=new Uint8Array(e.toBytesLE());return Gl(t)}function Vx(e){switch(e.type){case"FatalError":case"AuthError":case"ActionResponse":case"TransitionChunk":case"Ping":return{...e};case"MutationResponse":return e.success?{...e,ts:Sm(e.ts)}:{...e};case"Transition":return{...e,startVersion:{...e.startVersion,ts:Sm(e.startVersion.ts)},endVersion:{...e.endVersion,ts:Sm(e.endVersion.ts)}}}}function aP(e){switch(e.type){case"Authenticate":case"ModifyQuerySet":case"Mutation":case"Action":case"Event":return{...e};case"Connect":return e.maxObservedTimestamp!==void 0?{...e,maxObservedTimestamp:oP(e.maxObservedTimestamp)}:{...e,maxObservedTimestamp:void 0}}}var lP=Object.defineProperty,cP=(e,t,n)=>t in e?lP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rt=(e,t,n)=>cP(e,typeof t!="symbol"?t+"":t,n);const uP=1e3,fP=1001,dP=1005,hP=4040;let gf;function Go(){return gf===void 0&&(gf=Date.now()),typeof performance>"u"||!performance.now?Date.now():Math.round(gf+performance.now())}function Kx(){return`t=${Math.round((Go()-gf)/100)/10}s`}const YA={InternalServerError:{timeout:1e3},SubscriptionsWorkerFullError:{timeout:3e3},TooManyConcurrentRequests:{timeout:3e3},CommitterFullError:{timeout:3e3},AwsTooManyRequestsException:{timeout:3e3},ExecuteFullError:{timeout:3e3},SystemTimeoutError:{timeout:3e3},ExpiredInQueue:{timeout:3e3},VectorIndexesUnavailable:{timeout:1e3},SearchIndexesUnavailable:{timeout:1e3},TableSummariesUnavailable:{timeout:1e3},VectorIndexTooLarge:{timeout:3e3},SearchIndexTooLarge:{timeout:3e3},TooManyWritesInTimePeriod:{timeout:3e3}};function pP(e){if(e===void 0)return"Unknown";for(const t of Object.keys(YA))if(e.startsWith(t))return t;return"Unknown"}class mP{constructor(t,n,i,o,l,u){this.markConnectionStateDirty=l,this.debug=u,Rt(this,"socket"),Rt(this,"connectionCount"),Rt(this,"_hasEverConnected",!1),Rt(this,"lastCloseReason"),Rt(this,"transitionChunkBuffer",null),Rt(this,"defaultInitialBackoff"),Rt(this,"maxBackoff"),Rt(this,"retries"),Rt(this,"serverInactivityThreshold"),Rt(this,"reconnectDueToServerInactivityTimeout"),Rt(this,"scheduledReconnect",null),Rt(this,"networkOnlineHandler",null),Rt(this,"pendingNetworkRecoveryInfo",null),Rt(this,"uri"),Rt(this,"onOpen"),Rt(this,"onResume"),Rt(this,"onMessage"),Rt(this,"webSocketConstructor"),Rt(this,"logger"),Rt(this,"onServerDisconnectError"),this.webSocketConstructor=i,this.socket={state:"disconnected"},this.connectionCount=0,this.lastCloseReason="InitialConnect",this.defaultInitialBackoff=1e3,this.maxBackoff=16e3,this.retries=0,this.serverInactivityThreshold=6e4,this.reconnectDueToServerInactivityTimeout=null,this.uri=t,this.onOpen=n.onOpen,this.onResume=n.onResume,this.onMessage=n.onMessage,this.onServerDisconnectError=n.onServerDisconnectError,this.logger=o,this.setupNetworkListener(),this.connect()}setSocketState(t){this.socket=t,this._logVerbose(`socket state changed: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}`),this.markConnectionStateDirty()}setupNetworkListener(){typeof window>"u"||typeof window.addEventListener!="function"||this.networkOnlineHandler===null&&(this.networkOnlineHandler=()=>{this._logVerbose("network online event detected"),this.tryReconnectImmediately()},window.addEventListener("online",this.networkOnlineHandler),this._logVerbose("network online event listener registered"))}cleanupNetworkListener(){this.networkOnlineHandler&&typeof window<"u"&&typeof window.removeEventListener=="function"&&(window.removeEventListener("online",this.networkOnlineHandler),this.networkOnlineHandler=null,this._logVerbose("network online event listener removed"))}assembleTransition(t){if(t.partNumber<0||t.partNumber>=t.totalParts||t.totalParts===0||this.transitionChunkBuffer&&(this.transitionChunkBuffer.totalParts!==t.totalParts||this.transitionChunkBuffer.transitionId!==t.transitionId))throw this.transitionChunkBuffer=null,new Error("Invalid TransitionChunk");if(this.transitionChunkBuffer===null&&(this.transitionChunkBuffer={chunks:[],totalParts:t.totalParts,transitionId:t.transitionId}),t.partNumber!==this.transitionChunkBuffer.chunks.length){const n=this.transitionChunkBuffer.chunks.length;throw this.transitionChunkBuffer=null,new Error(`TransitionChunk received out of order: expected part ${n}, got ${t.partNumber}`)}if(this.transitionChunkBuffer.chunks.push(t.chunk),this.transitionChunkBuffer.chunks.length===t.totalParts){const n=this.transitionChunkBuffer.chunks.join("");this.transitionChunkBuffer=null;const i=Vx(JSON.parse(n));if(i.type!=="Transition")throw new Error(`Expected Transition, got ${i.type} after assembling chunks`);return i}return null}connect(){if(this.socket.state==="terminated")return;if(this.socket.state!=="disconnected"&&this.socket.state!=="stopped")throw new Error("Didn't start connection from disconnected state: "+this.socket.state);const t=new this.webSocketConstructor(this.uri);this._logVerbose("constructed WebSocket"),this.setSocketState({state:"connecting",ws:t,paused:"no"}),this.resetServerInactivityTimeout(),t.onopen=()=>{if(this.logger.logVerbose("begin ws.onopen"),this.socket.state!=="connecting")throw new Error("onopen called with socket not in connecting state");if(this.setSocketState({state:"ready",ws:t,paused:this.socket.paused==="yes"?"uninitialized":"no"}),this.resetServerInactivityTimeout(),this.socket.paused==="no"&&(this._hasEverConnected=!0,this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason,clientTs:Go()})),this.lastCloseReason!=="InitialConnect"&&(this.lastCloseReason?this.logger.log("WebSocket reconnected at",Kx(),"after disconnect due to",this.lastCloseReason):this.logger.log("WebSocket reconnected at",Kx())),this.connectionCount+=1,this.lastCloseReason=null,this.pendingNetworkRecoveryInfo!==null){const{timeSavedMs:n}=this.pendingNetworkRecoveryInfo;this.pendingNetworkRecoveryInfo=null,this.sendMessage({type:"Event",eventType:"NetworkRecoveryReconnect",event:{timeSavedMs:n}}),this.logger.log(`Network recovery reconnect saved ~${Math.round(n/1e3)}s of waiting`)}},t.onerror=n=>{this.transitionChunkBuffer=null;const i=n.message;i&&this.logger.log(`WebSocket error message: ${i}`)},t.onmessage=n=>{this.resetServerInactivityTimeout();const i=n.data.length;let o=Vx(JSON.parse(n.data));if(this._logVerbose(`received ws message with type ${o.type}`),o.type==="Ping")return;if(o.type==="TransitionChunk"){const u=this.assembleTransition(o);if(!u)return;o=u,this._logVerbose(`assembled full ws message of type ${o.type}`)}this.transitionChunkBuffer!==null&&(this.transitionChunkBuffer=null,this.logger.log(`Received unexpected ${o.type} while buffering TransitionChunks`)),o.type==="Transition"&&this.reportLargeTransition({messageLength:i,transition:o}),this.onMessage(o).hasSyncedPastLastReconnect&&(this.retries=0,this.markConnectionStateDirty())},t.onclose=n=>{if(this._logVerbose("begin ws.onclose"),this.transitionChunkBuffer=null,this.lastCloseReason===null&&(this.lastCloseReason=n.reason||`closed with code ${n.code}`),n.code!==uP&&n.code!==fP&&n.code!==dP&&n.code!==hP){let o=`WebSocket closed with code ${n.code}`;n.reason&&(o+=`: ${n.reason}`),this.logger.log(o),this.onServerDisconnectError&&n.reason&&this.onServerDisconnectError(o)}const i=pP(n.reason);this.scheduleReconnect(i)}}socketState(){return this.socket.state}sendMessage(t){const n={type:t.type,...t.type==="Authenticate"&&t.tokenType==="User"?{value:`...${t.value.slice(-7)}`}:{}};if(this.socket.state==="ready"&&this.socket.paused==="no"){const i=aP(t),o=JSON.stringify(i);let l=!1;try{this.socket.ws.send(o),l=!0}catch(u){this.logger.log(`Failed to send message on WebSocket, reconnecting: ${u}`),this.closeAndReconnect("FailedToSendMessage")}return this._logVerbose(`${l?"sent":"failed to send"} message with type ${t.type}: ${JSON.stringify(n)}`),!0}return this._logVerbose(`message not sent (socket state: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}): ${JSON.stringify(n)}`),!1}resetServerInactivityTimeout(){this.socket.state!=="terminated"&&(this.reconnectDueToServerInactivityTimeout!==null&&(clearTimeout(this.reconnectDueToServerInactivityTimeout),this.reconnectDueToServerInactivityTimeout=null),this.reconnectDueToServerInactivityTimeout=setTimeout(()=>{this.closeAndReconnect("InactiveServer")},this.serverInactivityThreshold))}scheduleReconnect(t){this.scheduledReconnect&&(clearTimeout(this.scheduledReconnect.timeout),this.scheduledReconnect=null),this.socket={state:"disconnected"};const n=this.nextBackoff(t);this.markConnectionStateDirty(),this.logger.log(`Attempting reconnect in ${Math.round(n)}ms`);const i=Go(),o=setTimeout(()=>{this.scheduledReconnect?.timeout===o&&(this.scheduledReconnect=null,this.connect())},n);this.scheduledReconnect={timeout:o,scheduledAt:i,backoffMs:n}}closeAndReconnect(t){switch(this._logVerbose(`begin closeAndReconnect with reason ${t}`),this.socket.state){case"disconnected":case"terminated":case"stopped":return;case"connecting":case"ready":{this.lastCloseReason=t,this.close(),this.scheduleReconnect("client");return}default:this.socket}}close(){switch(this.transitionChunkBuffer=null,this.socket.state){case"disconnected":case"terminated":case"stopped":return Promise.resolve();case"connecting":{const t=this.socket.ws;return t.onmessage=n=>{this._logVerbose("Ignoring message received after close")},new Promise(n=>{t.onclose=()=>{this._logVerbose("Closed after connecting"),n()},t.onopen=()=>{this._logVerbose("Opened after connecting"),t.close()}})}case"ready":{this._logVerbose("ws.close called");const t=this.socket.ws;t.onmessage=i=>{this._logVerbose("Ignoring message received after close")};const n=new Promise(i=>{t.onclose=()=>{i()}});return t.close(),n}default:return this.socket,Promise.resolve()}}terminate(){switch(this.reconnectDueToServerInactivityTimeout&&clearTimeout(this.reconnectDueToServerInactivityTimeout),this.scheduledReconnect&&(clearTimeout(this.scheduledReconnect.timeout),this.scheduledReconnect=null),this.cleanupNetworkListener(),this.socket.state){case"terminated":case"stopped":case"disconnected":case"connecting":case"ready":{const t=this.close();return this.setSocketState({state:"terminated"}),t}default:throw this.socket,new Error(`Invalid websocket state: ${this.socket.state}`)}}stop(){switch(this.socket.state){case"terminated":return Promise.resolve();case"connecting":case"stopped":case"disconnected":case"ready":{this.cleanupNetworkListener();const t=this.close();return this.socket={state:"stopped"},t}default:return this.socket,Promise.resolve()}}tryRestart(){switch(this.socket.state){case"stopped":break;case"terminated":case"connecting":case"ready":case"disconnected":this.logger.logVerbose("Restart called without stopping first");return;default:this.socket}this.setupNetworkListener(),this.connect()}pause(){switch(this.socket.state){case"disconnected":case"stopped":case"terminated":return;case"connecting":case"ready":{this.socket={...this.socket,paused:"yes"};return}default:{this.socket;return}}}tryReconnectImmediately(){if(this._logVerbose("tryReconnectImmediately called"),this.socket.state!=="disconnected"){this._logVerbose(`tryReconnectImmediately called but socket state is ${this.socket.state}, no action taken`);return}let t=null;if(this.scheduledReconnect){const n=Go()-this.scheduledReconnect.scheduledAt;t=Math.max(0,this.scheduledReconnect.backoffMs-n),this._logVerbose(`would have waited ${Math.round(t)}ms more (backoff was ${Math.round(this.scheduledReconnect.backoffMs)}ms, elapsed ${Math.round(n)}ms)`),clearTimeout(this.scheduledReconnect.timeout),this.scheduledReconnect=null,this._logVerbose("canceled scheduled reconnect")}this.logger.log("Network recovery detected, reconnecting immediately"),this.pendingNetworkRecoveryInfo=t!==null?{timeSavedMs:t}:null,this.connect()}resume(){switch(this.socket.state){case"connecting":this.socket={...this.socket,paused:"no"};return;case"ready":this.socket.paused==="uninitialized"?(this.socket={...this.socket,paused:"no"},this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason,clientTs:Go()})):this.socket.paused==="yes"&&(this.socket={...this.socket,paused:"no"},this.onResume());return;case"terminated":case"stopped":case"disconnected":return;default:this.socket}this.connect()}connectionState(){return{isConnected:this.socket.state==="ready",hasEverConnected:this._hasEverConnected,connectionCount:this.connectionCount,connectionRetries:this.retries}}_logVerbose(t){this.logger.logVerbose(t)}nextBackoff(t){const i=(t==="client"?100:t==="Unknown"?this.defaultInitialBackoff:YA[t].timeout)*Math.pow(2,this.retries);this.retries+=1;const o=Math.min(i,this.maxBackoff),l=o*(Math.random()-.5);return o+l}reportLargeTransition({transition:t,messageLength:n}){if(t.clientClockSkew===void 0||t.serverTs===void 0)return;const i=Go()-t.clientClockSkew-t.serverTs/1e6,o=`${Math.round(i)}ms`,l=`${Math.round(n/1e4)/100}MB`,u=n/(i/1e3),f=`${Math.round(u/1e4)/100}MB per second`;this._logVerbose(`received ${l} transition in ${o} at ${f}`),n>2e7?this.logger.log(`received query results totaling more that 20MB (${l}) which will take a long time to download on slower connections`):i>2e4&&this.logger.log(`received query results totaling ${l} which took more than 20s to arrive (${o})`),this.debug&&this.sendMessage({type:"Event",eventType:"ClientReceivedTransition",event:{transitionTransitTime:i,messageLength:n}})}}function gP(){return yP()}function yP(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}class Nl extends Error{}Nl.prototype.name="InvalidTokenError";function vP(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,n)=>{let i=n.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i}))}function bP(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return vP(t)}catch{return atob(t)}}function XA(e,t){if(typeof e!="string")throw new Nl("Invalid token specified: must be a string");t||(t={});const n=t.header===!0?0:1,i=e.split(".")[n];if(typeof i!="string")throw new Nl(`Invalid token specified: missing part #${n+1}`);let o;try{o=bP(i)}catch(l){throw new Nl(`Invalid token specified: invalid base64 for part #${n+1} (${l.message})`)}try{return JSON.parse(o)}catch(l){throw new Nl(`Invalid token specified: invalid json for part #${n+1} (${l.message})`)}}var wP=Object.defineProperty,SP=(e,t,n)=>t in e?wP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jn=(e,t,n)=>SP(e,typeof t!="symbol"?t+"":t,n);const xP=480*60*60*1e3,Hx=2;class EP{constructor(t,n,i){Jn(this,"authState",{state:"noAuth"}),Jn(this,"configVersion",0),Jn(this,"syncState"),Jn(this,"authenticate"),Jn(this,"stopSocket"),Jn(this,"tryRestartSocket"),Jn(this,"pauseSocket"),Jn(this,"resumeSocket"),Jn(this,"clearAuth"),Jn(this,"logger"),Jn(this,"refreshTokenLeewaySeconds"),Jn(this,"tokenConfirmationAttempts",0),this.syncState=t,this.authenticate=n.authenticate,this.stopSocket=n.stopSocket,this.tryRestartSocket=n.tryRestartSocket,this.pauseSocket=n.pauseSocket,this.resumeSocket=n.resumeSocket,this.clearAuth=n.clearAuth,this.logger=i.logger,this.refreshTokenLeewaySeconds=i.refreshTokenLeewaySeconds}async setConfig(t,n){this.resetAuthState(),this._logVerbose("pausing WS for auth token fetch"),this.pauseSocket();const i=await this.fetchTokenAndGuardAgainstRace(t,{forceRefreshToken:!1});i.isFromOutdatedConfig||(i.value?(this.setAuthState({state:"waitingForServerConfirmationOfCachedToken",config:{fetchToken:t,onAuthChange:n},hasRetried:!1}),this.authenticate(i.value)):(this.setAuthState({state:"initialRefetch",config:{fetchToken:t,onAuthChange:n}}),await this.refetchToken()),this._logVerbose("resuming WS after auth token fetch"),this.resumeSocket())}onTransition(t){if(this.syncState.isCurrentOrNewerAuthVersion(t.endVersion.identity)&&!(t.endVersion.identity<=t.startVersion.identity)){if(this.authState.state==="waitingForServerConfirmationOfCachedToken"){this._logVerbose("server confirmed auth token is valid"),this.refetchToken(),this.authState.config.onAuthChange(!0);return}this.authState.state==="waitingForServerConfirmationOfFreshToken"&&(this._logVerbose("server confirmed new auth token is valid"),this.scheduleTokenRefetch(this.authState.token),this.tokenConfirmationAttempts=0,this.authState.hadAuth||this.authState.config.onAuthChange(!0))}}onAuthError(t){if(t.authUpdateAttempted===!1&&(this.authState.state==="waitingForServerConfirmationOfFreshToken"||this.authState.state==="waitingForServerConfirmationOfCachedToken")){this._logVerbose("ignoring non-auth token expired error");return}const{baseVersion:n}=t;if(!this.syncState.isCurrentOrNewerAuthVersion(n+1)){this._logVerbose("ignoring auth error for previous auth attempt");return}this.tryToReauthenticate(t)}async tryToReauthenticate(t){if(this._logVerbose(`attempting to reauthenticate: ${t.error}`),this.authState.state==="noAuth"||this.authState.state==="waitingForServerConfirmationOfFreshToken"&&this.tokenConfirmationAttempts>=Hx){this.logger.error(`Failed to authenticate: "${t.error}", check your server auth config`),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.authState.state!=="noAuth"&&this.setAndReportAuthFailed(this.authState.config.onAuthChange);return}this.authState.state==="waitingForServerConfirmationOfFreshToken"&&(this.tokenConfirmationAttempts++,this._logVerbose(`retrying reauthentication, ${Hx-this.tokenConfirmationAttempts} attempts remaining`)),await this.stopSocket();const n=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});n.isFromOutdatedConfig||(n.value&&this.syncState.isNewAuth(n.value)?(this.authenticate(n.value),this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",config:this.authState.config,token:n.value,hadAuth:this.authState.state==="notRefetching"||this.authState.state==="waitingForScheduledRefetch"})):(this._logVerbose("reauthentication failed, could not fetch a new token"),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this.tryRestartSocket())}async refetchToken(){if(this.authState.state==="noAuth")return;this._logVerbose("refetching auth token");const t=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});t.isFromOutdatedConfig||(t.value?this.syncState.isNewAuth(t.value)?(this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",hadAuth:this.syncState.hasAuth(),token:t.value,config:this.authState.config}),this.authenticate(t.value)):this.setAuthState({state:"notRefetching",config:this.authState.config}):(this._logVerbose("refetching token failed"),this.syncState.hasAuth()&&this.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this._logVerbose("restarting WS after auth token fetch (if currently stopped)"),this.tryRestartSocket())}scheduleTokenRefetch(t){if(this.authState.state==="noAuth")return;const n=this.decodeToken(t);if(!n){this.logger.error("Auth token is not a valid JWT, cannot refetch the token");return}const{iat:i,exp:o}=n;if(!i||!o){this.logger.error("Auth token does not have required fields, cannot refetch the token");return}const l=o-i;if(l<=2){this.logger.error("Auth token does not live long enough, cannot refetch the token");return}let u=Math.min(xP,(l-this.refreshTokenLeewaySeconds)*1e3);u<=0&&(this.logger.warn(`Refetching auth token immediately, configured leeway ${this.refreshTokenLeewaySeconds}s is larger than the token's lifetime ${l}s`),u=0);const f=setTimeout(()=>{this._logVerbose("running scheduled token refetch"),this.refetchToken()},u);this.setAuthState({state:"waitingForScheduledRefetch",refetchTokenTimeoutId:f,config:this.authState.config}),this._logVerbose(`scheduled preemptive auth token refetching in ${u}ms`)}async fetchTokenAndGuardAgainstRace(t,n){const i=++this.configVersion;this._logVerbose(`fetching token with config version ${i}`);const o=await t(n);return this.configVersion!==i?(this._logVerbose(`stale config version, expected ${i}, got ${this.configVersion}`),{isFromOutdatedConfig:!0}):{isFromOutdatedConfig:!1,value:o}}stop(){this.resetAuthState(),this.configVersion++,this._logVerbose(`config version bumped to ${this.configVersion}`)}setAndReportAuthFailed(t){t(!1),this.resetAuthState()}resetAuthState(){this.setAuthState({state:"noAuth"})}setAuthState(t){const n=t.state==="waitingForServerConfirmationOfFreshToken"?{hadAuth:t.hadAuth,state:t.state,token:`...${t.token.slice(-7)}`}:{state:t.state};switch(this._logVerbose(`setting auth state to ${JSON.stringify(n)}`),t.state){case"waitingForScheduledRefetch":case"notRefetching":case"noAuth":this.tokenConfirmationAttempts=0;break}this.authState.state==="waitingForScheduledRefetch"&&(clearTimeout(this.authState.refetchTokenTimeoutId),this.syncState.markAuthCompletion()),this.authState=t}decodeToken(t){try{return XA(t)}catch(n){return this._logVerbose(`Error decoding token: ${n instanceof Error?n.message:"Unknown error"}`),null}}_logVerbose(t){this.logger.logVerbose(`${t} [v${this.configVersion}]`)}}const RP=["convexClientConstructed","convexWebSocketOpen","convexFirstMessageReceived"];function AP(e,t){const n={sessionId:t};typeof performance>"u"||!performance.mark||performance.mark(e,{detail:n})}function CP(e){let t=e.name.slice(6);return t=t.charAt(0).toLowerCase()+t.slice(1),{name:t,startTime:e.startTime}}function TP(e){if(typeof performance>"u"||!performance.getEntriesByName)return[];const t=[];for(const n of RP){const i=performance.getEntriesByName(n).filter(o=>o.entryType==="mark").filter(o=>o.detail.sessionId===e);t.push(...i)}return t.map(CP)}var _P=Object.defineProperty,OP=(e,t,n)=>t in e?_P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,At=(e,t,n)=>OP(e,typeof t!="symbol"?t+"":t,n);class MP{constructor(t,n,i){if(At(this,"address"),At(this,"state"),At(this,"requestManager"),At(this,"webSocketManager"),At(this,"authenticationManager"),At(this,"remoteQuerySet"),At(this,"optimisticQueryResults"),At(this,"_transitionHandlerCounter",0),At(this,"_nextRequestId"),At(this,"_onTransitionFns",new Map),At(this,"_sessionId"),At(this,"firstMessageReceived",!1),At(this,"debug"),At(this,"logger"),At(this,"maxObservedTimestamp"),At(this,"connectionStateSubscribers",new Map),At(this,"nextConnectionStateSubscriberId",0),At(this,"_lastPublishedConnectionState"),At(this,"markConnectionStateDirty",()=>{Promise.resolve().then(()=>{const S=this.connectionState();if(JSON.stringify(S)!==JSON.stringify(this._lastPublishedConnectionState)){this._lastPublishedConnectionState=S;for(const E of this.connectionStateSubscribers.values())E(S)}})}),At(this,"mark",S=>{this.debug&&AP(S,this.sessionId)}),typeof t=="object")throw new Error("Passing a ClientConfig object is no longer supported. Pass the URL of the Convex deployment as a string directly.");i?.skipConvexDeploymentUrlCheck!==!0&&qA(t),i={...i};const o=i.authRefreshTokenLeewaySeconds??2;let l=i.webSocketConstructor;if(!l&&typeof WebSocket>"u")throw new Error("No WebSocket global variable defined! To use Convex in an environment without WebSocket try the HTTP client: https://docs.convex.dev/api/classes/browser.ConvexHttpClient");l=l||WebSocket,this.debug=i.reportDebugInfoToConvex??!1,this.address=t,this.logger=i.logger===!1?Zy({verbose:i.verbose??!1}):i.logger!==!0&&i.logger?i.logger:Jy({verbose:i.verbose??!1});const u=t.search("://");if(u===-1)throw new Error("Provided address was not an absolute URL.");const f=t.substring(u+3),d=t.substring(0,u);let p;if(d==="http")p="ws";else if(d==="https")p="wss";else throw new Error(`Unknown parent protocol ${d}`);const g=`${p}://${f}/api/${$s}/sync`;this.state=new Fj,this.remoteQuerySet=new Fx(S=>this.state.queryPath(S),this.logger),this.requestManager=new Hj(this.logger,this.markConnectionStateDirty);const y=()=>{this.webSocketManager.pause(),this.state.pause()};this.authenticationManager=new EP(this.state,{authenticate:S=>{const E=this.state.setAuth(S);return this.webSocketManager.sendMessage(E),E.baseVersion},stopSocket:()=>this.webSocketManager.stop(),tryRestartSocket:()=>this.webSocketManager.tryRestart(),pauseSocket:y,resumeSocket:()=>this.webSocketManager.resume(),clearAuth:()=>{this.clearAuth()}},{logger:this.logger,refreshTokenLeewaySeconds:o}),this.optimisticQueryResults=new Wj,this.addOnTransitionHandler(S=>{n(S.queries.map(E=>E.token))}),this._nextRequestId=0,this._sessionId=gP();const{unsavedChangesWarning:v}=i;if(typeof window>"u"||typeof window.addEventListener>"u"){if(v===!0)throw new Error("unsavedChangesWarning requested, but window.addEventListener not found! Remove {unsavedChangesWarning: true} from Convex client options.")}else v!==!1&&window.addEventListener("beforeunload",S=>{if(this.requestManager.hasIncompleteRequests()){S.preventDefault();const E="Are you sure you want to leave? Your changes may not be saved.";return(S||window.event).returnValue=E,E}});this.webSocketManager=new mP(g,{onOpen:S=>{this.mark("convexWebSocketOpen"),this.webSocketManager.sendMessage({...S,type:"Connect",sessionId:this._sessionId,maxObservedTimestamp:this.maxObservedTimestamp});const E=new Set(this.remoteQuerySet.remoteQueryResults().keys());this.remoteQuerySet=new Fx(_=>this.state.queryPath(_),this.logger);const[w,A]=this.state.restart(E);A&&this.webSocketManager.sendMessage(A),this.webSocketManager.sendMessage(w);for(const _ of this.requestManager.restart())this.webSocketManager.sendMessage(_)},onResume:()=>{const[S,E]=this.state.resume();E&&this.webSocketManager.sendMessage(E),S&&this.webSocketManager.sendMessage(S);for(const w of this.requestManager.resume())this.webSocketManager.sendMessage(w)},onMessage:S=>{switch(this.firstMessageReceived||(this.firstMessageReceived=!0,this.mark("convexFirstMessageReceived"),this.reportMarks()),S.type){case"Transition":{this.observedTimestamp(S.endVersion.ts),this.authenticationManager.onTransition(S),this.remoteQuerySet.transition(S),this.state.transition(S);const E=this.requestManager.removeCompleted(this.remoteQuerySet.timestamp());this.notifyOnQueryResultChanges(E);break}case"MutationResponse":{S.success&&this.observedTimestamp(S.ts);const E=this.requestManager.onResponse(S);E!==null&&this.notifyOnQueryResultChanges(new Map([[E.requestId,E.result]]));break}case"ActionResponse":{this.requestManager.onResponse(S);break}case"AuthError":{this.authenticationManager.onAuthError(S);break}case"FatalError":{const E=zj(this.logger,S.error);throw this.webSocketManager.terminate(),E}}return{hasSyncedPastLastReconnect:this.hasSyncedPastLastReconnect()}},onServerDisconnectError:i.onServerDisconnectError},l,this.logger,this.markConnectionStateDirty,this.debug),this.mark("convexClientConstructed"),i.expectAuth&&y()}hasSyncedPastLastReconnect(){return this.requestManager.hasSyncedPastLastReconnect()||this.state.hasSyncedPastLastReconnect()}observedTimestamp(t){(this.maxObservedTimestamp===void 0||this.maxObservedTimestamp.lessThanOrEqual(t))&&(this.maxObservedTimestamp=t)}getMaxObservedTimestamp(){return this.maxObservedTimestamp}notifyOnQueryResultChanges(t){const n=this.remoteQuerySet.remoteQueryResults(),i=new Map;for(const[l,u]of n){const f=this.state.queryToken(l);if(f!==null){const d={result:u,udfPath:this.state.queryPath(l),args:this.state.queryArgs(l)};i.set(f,d)}}const o=this.optimisticQueryResults.ingestQueryResultsFromServer(i,new Set(t.keys()));this.handleTransition({queries:o.map(l=>{const u=this.optimisticQueryResults.rawQueryResult(l);return{token:l,modification:{kind:"Updated",result:u}}}),reflectedMutations:Array.from(t).map(([l,u])=>({requestId:l,result:u})),timestamp:this.remoteQuerySet.timestamp()})}handleTransition(t){for(const n of this._onTransitionFns.values())n(t)}addOnTransitionHandler(t){const n=this._transitionHandlerCounter++;return this._onTransitionFns.set(n,t),()=>this._onTransitionFns.delete(n)}getCurrentAuthClaims(){const t=this.state.getAuth();let n={};if(t&&t.tokenType==="User")try{n=t?XA(t.value):{}}catch{n={}}else return;return{token:t.value,decoded:n}}setAuth(t,n){this.authenticationManager.setConfig(t,n)}hasAuth(){return this.state.hasAuth()}setAdminAuth(t,n){const i=this.state.setAdminAuth(t,n);this.webSocketManager.sendMessage(i)}clearAuth(){const t=this.state.clearAuth();this.webSocketManager.sendMessage(t)}subscribe(t,n,i){const o=xn(n),{modification:l,queryToken:u,unsubscribe:f}=this.state.subscribe(t,o,i?.journal,i?.componentPath);return l!==null&&this.webSocketManager.sendMessage(l),{queryToken:u,unsubscribe:()=>{const d=f();d&&this.webSocketManager.sendMessage(d)}}}localQueryResult(t,n){const i=xn(n),o=zs(t,i);return this.optimisticQueryResults.queryResult(o)}localQueryResultByToken(t){return this.optimisticQueryResults.queryResult(t)}hasLocalQueryResultByToken(t){return this.optimisticQueryResults.hasQueryResult(t)}localQueryLogs(t,n){const i=xn(n),o=zs(t,i);return this.optimisticQueryResults.queryLogs(o)}queryJournal(t,n){const i=xn(n),o=zs(t,i);return this.state.queryJournal(o)}connectionState(){const t=this.webSocketManager.connectionState();return{hasInflightRequests:this.requestManager.hasInflightRequests(),isWebSocketConnected:t.isConnected,hasEverConnected:t.hasEverConnected,connectionCount:t.connectionCount,connectionRetries:t.connectionRetries,timeOfOldestInflightRequest:this.requestManager.timeOfOldestInflightRequest(),inflightMutations:this.requestManager.inflightMutations(),inflightActions:this.requestManager.inflightActions()}}subscribeToConnectionState(t){const n=this.nextConnectionStateSubscriberId++;return this.connectionStateSubscribers.set(n,t),()=>{this.connectionStateSubscribers.delete(n)}}async mutation(t,n,i){const o=await this.mutationInternal(t,n,i);if(!o.success)throw o.errorData!==void 0?ty(o,new Wi(Yo("mutation",t,o))):new Error(Yo("mutation",t,o));return o.value}async mutationInternal(t,n,i,o){const{mutationPromise:l}=this.enqueueMutation(t,n,i,o);return l}enqueueMutation(t,n,i,o){const l=xn(n);this.tryReportLongDisconnect();const u=this.nextRequestId;if(this._nextRequestId++,i!==void 0){const g=i.optimisticUpdate;if(g!==void 0){const y=E=>{g(E,l)instanceof Promise&&this.logger.warn("Optimistic update handler returned a Promise. Optimistic updates should be synchronous.")},S=this.optimisticQueryResults.applyOptimisticUpdate(y,u).map(E=>{const w=this.localQueryResultByToken(E);return{token:E,modification:{kind:"Updated",result:w===void 0?void 0:{success:!0,value:w,logLines:[]}}}});this.handleTransition({queries:S,reflectedMutations:[],timestamp:this.remoteQuerySet.timestamp()})}}const f={type:"Mutation",requestId:u,udfPath:t,componentPath:o,args:[Ht(l)]},d=this.webSocketManager.sendMessage(f),p=this.requestManager.request(f,d);return{requestId:u,mutationPromise:p}}async action(t,n){const i=await this.actionInternal(t,n);if(!i.success)throw i.errorData!==void 0?ty(i,new Wi(Yo("action",t,i))):new Error(Yo("action",t,i));return i.value}async actionInternal(t,n,i){const o=xn(n),l=this.nextRequestId;this._nextRequestId++,this.tryReportLongDisconnect();const u={type:"Action",requestId:l,udfPath:t,componentPath:i,args:[Ht(o)]},f=this.webSocketManager.sendMessage(u);return this.requestManager.request(u,f)}async close(){return this.authenticationManager.stop(),this.webSocketManager.terminate()}get url(){return this.address}get nextRequestId(){return this._nextRequestId}get sessionId(){return this._sessionId}reportMarks(){if(this.debug){const t=TP(this.sessionId);this.webSocketManager.sendMessage({type:"Event",eventType:"ClientConnect",event:t})}}tryReportLongDisconnect(){if(!this.debug)return;const t=this.connectionState().timeOfOldestInflightRequest;if(t===null||Date.now()-t.getTime()<=60*1e3)return;const n=`${this.address}/api/debug_event`;fetch(n,{method:"POST",headers:{"Content-Type":"application/json","Convex-Client":`npm-${$s}`},body:JSON.stringify({event:"LongWebsocketDisconnect"})}).then(i=>{i.ok||this.logger.warn("Analytics request failed with response:",i.body)}).catch(i=>{this.logger.warn("Analytics response failed with error:",i)})}}function xm(e){if(typeof e!="object"||e===null||!Array.isArray(e.page)||typeof e.isDone!="boolean"||typeof e.continueCursor!="string")throw new Error(`Not a valid paginated query result: ${e?.toString()}`);return e}var NP=Object.defineProperty,kP=(e,t,n)=>t in e?NP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gx=(e,t,n)=>kP(e,typeof t!="symbol"?t+"":t,n);class $P{constructor(t,n){this.client=t,this.onTransition=n,Gx(this,"paginatedQuerySet",new Map),Gx(this,"lastTransitionTs"),this.lastTransitionTs=wn.fromNumber(0),this.client.addOnTransitionHandler(i=>this.onBaseTransition(i))}subscribe(t,n,i){const o=Ks(t),l=zx(o,n,i),u=()=>this.removePaginatedQuerySubscriber(l),f=this.paginatedQuerySet.get(l);return f?(f.numSubscribers+=1,{paginatedQueryToken:l,unsubscribe:u}):(this.paginatedQuerySet.set(l,{token:l,canonicalizedUdfPath:o,args:n,numSubscribers:1,options:{initialNumItems:i.initialNumItems},nextPageKey:0,pageKeys:[],pageKeyToQuery:new Map,ongoingSplits:new Map,skip:!1,id:i.id}),this.addPageToPaginatedQuery(l,null,i.initialNumItems),{paginatedQueryToken:l,unsubscribe:u})}localQueryResult(t,n,i){const o=Ks(t),l=zx(o,n,i);return this.localQueryResultByToken(l)}localQueryResultByToken(t){const n=this.paginatedQuerySet.get(t);if(!n)return;const i=this.activePageQueryTokens(n);if(i.length===0)return{results:[],status:"LoadingFirstPage",loadMore:d=>this.loadMoreOfPaginatedQuery(t,d)};let o=[],l=!1,u=!1;for(const d of i){const p=this.client.localQueryResultByToken(d);if(p===void 0){l=!0,u=!1;continue}const g=xm(p);o=o.concat(g.page),u=!!g.isDone}let f;return l?f=o.length===0?"LoadingFirstPage":"LoadingMore":u?f="Exhausted":f="CanLoadMore",{results:o,status:f,loadMore:d=>this.loadMoreOfPaginatedQuery(t,d)}}onBaseTransition(t){const n=t.queries.map(u=>u.token),i=this.queriesContainingTokens(n);let o=[];i.length>0&&(this.processPaginatedQuerySplits(i,u=>this.client.localQueryResultByToken(u)),o=i.map(u=>({token:u,modification:{kind:"Updated",result:this.localQueryResultByToken(u)}})));const l={...t,paginatedQueries:o};this.onTransition(l)}loadMoreOfPaginatedQuery(t,n){this.mustGetPaginatedQuery(t);const i=this.queryTokenForLastPageOfPaginatedQuery(t),o=this.client.localQueryResultByToken(i);if(!o)return!1;const l=xm(o);if(l.isDone)return!1;this.addPageToPaginatedQuery(t,l.continueCursor,n);const u={timestamp:this.lastTransitionTs,reflectedMutations:[],queries:[],paginatedQueries:[{token:t,modification:{kind:"Updated",result:this.localQueryResultByToken(t)}}]};return this.onTransition(u),!0}queriesContainingTokens(t){if(t.length===0)return[];const n=[],i=new Set(t);for(const[o,l]of this.paginatedQuerySet)for(const u of this.allQueryTokens(l))if(i.has(u)){n.push(o);break}return n}processPaginatedQuerySplits(t,n){for(const i of t){const o=this.mustGetPaginatedQuery(i),{ongoingSplits:l,pageKeyToQuery:u,pageKeys:f}=o;for(const[d,[p,g]]of l)n(u.get(p).queryToken)!==void 0&&n(u.get(g).queryToken)!==void 0&&this.completePaginatedQuerySplit(o,d,p,g);for(const d of f){if(l.has(d))continue;const p=u.get(d).queryToken,g=n(p);if(!g)continue;const y=xm(g);y.splitCursor&&(y.pageStatus==="SplitRecommended"||y.pageStatus==="SplitRequired"||y.page.length>o.options.initialNumItems*2)&&this.splitPaginatedQueryPage(o,d,y.splitCursor,y.continueCursor)}}}splitPaginatedQueryPage(t,n,i,o){const l=t.nextPageKey++,u=t.nextPageKey++,f={cursor:o,numItems:t.options.initialNumItems,id:t.id},d=this.client.subscribe(t.canonicalizedUdfPath,{...t.args,paginationOpts:{...f,cursor:null,endCursor:i}});t.pageKeyToQuery.set(l,d);const p=this.client.subscribe(t.canonicalizedUdfPath,{...t.args,paginationOpts:{...f,cursor:i,endCursor:o}});t.pageKeyToQuery.set(u,p),t.ongoingSplits.set(n,[l,u])}addPageToPaginatedQuery(t,n,i){const o=this.mustGetPaginatedQuery(t),l=o.nextPageKey++,u={cursor:n,numItems:i,id:o.id},f={...o.args,paginationOpts:u},d=this.client.subscribe(o.canonicalizedUdfPath,f);return o.pageKeys.push(l),o.pageKeyToQuery.set(l,d),d}removePaginatedQuerySubscriber(t){const n=this.paginatedQuerySet.get(t);if(n&&(n.numSubscribers-=1,!(n.numSubscribers>0))){for(const i of n.pageKeyToQuery.values())i.unsubscribe();this.paginatedQuerySet.delete(t)}}completePaginatedQuerySplit(t,n,i,o){const l=t.pageKeyToQuery.get(n);t.pageKeyToQuery.delete(n);const u=t.pageKeys.indexOf(n);t.pageKeys.splice(u,1,i,o),t.ongoingSplits.delete(n),l.unsubscribe()}activePageQueryTokens(t){return t.pageKeys.map(n=>t.pageKeyToQuery.get(n).queryToken)}allQueryTokens(t){return Array.from(t.pageKeyToQuery.values()).map(n=>n.queryToken)}queryTokenForLastPageOfPaginatedQuery(t){const n=this.mustGetPaginatedQuery(t),i=n.pageKeys[n.pageKeys.length-1];if(i===void 0)throw new Error(`No pages for paginated query ${t}`);return n.pageKeyToQuery.get(i).queryToken}mustGetPaginatedQuery(t){const n=this.paginatedQuerySet.get(t);if(!n)throw new Error("paginated query no longer exists for token "+t);return n}}var LP=Object.defineProperty,DP=(e,t,n)=>t in e?LP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ar=(e,t,n)=>DP(e,typeof t!="symbol"?t+"":t,n);const Hu=560;let Tl;class IP{constructor(t,n){if(Ar(this,"address"),Ar(this,"auth"),Ar(this,"adminAuth"),Ar(this,"encodedTsPromise"),Ar(this,"debug"),Ar(this,"fetchOptions"),Ar(this,"fetch"),Ar(this,"logger"),Ar(this,"mutationQueue",[]),Ar(this,"isProcessingQueue",!1),typeof n=="boolean")throw new Error("skipConvexDeploymentUrlCheck as the second argument is no longer supported. Please pass an options object, `{ skipConvexDeploymentUrlCheck: true }`.");(n??{}).skipConvexDeploymentUrlCheck!==!0&&qA(t),this.logger=n?.logger===!1?Zy({verbose:!1}):n?.logger!==!0&&n?.logger?n.logger:Jy({verbose:!1}),this.address=t,this.debug=!0,this.auth=void 0,this.adminAuth=void 0,this.fetch=n?.fetch,n?.auth&&this.setAuth(n.auth)}backendUrl(){return`${this.address}/api`}get url(){return this.address}setAuth(t){this.clearAuth(),this.auth=t}setAdminAuth(t,n){if(this.clearAuth(),n!==void 0){const i=new TextEncoder().encode(JSON.stringify(n)),o=btoa(String.fromCodePoint(...i));this.adminAuth=`${t}:${o}`}else this.adminAuth=t}clearAuth(){this.auth=void 0,this.adminAuth=void 0}setDebug(t){this.debug=t}setFetchOptions(t){this.fetchOptions=t}async consistentQuery(t,...n){const i=xn(n[0]),o=this.getTimestamp();return await this.queryInner(t,i,{timestampPromise:o})}async getTimestamp(){return this.encodedTsPromise?this.encodedTsPromise:this.encodedTsPromise=this.getTimestampInner()}async getTimestampInner(){const t=this.fetch||Tl||fetch,n={"Content-Type":"application/json","Convex-Client":`npm-${$s}`},i=await t(`${this.address}/api/query_ts`,{...this.fetchOptions,method:"POST",headers:n});if(!i.ok)throw new Error(await i.text());const{ts:o}=await i.json();return o}async query(t,...n){const i=xn(n[0]);return await this.queryInner(t,i,{})}async queryInner(t,n,i){const o=pt(t),l=[Ht(n)],u={"Content-Type":"application/json","Convex-Client":`npm-${$s}`};this.adminAuth?u.Authorization=`Convex ${this.adminAuth}`:this.auth&&(u.Authorization=`Bearer ${this.auth}`);const f=this.fetch||Tl||fetch,d=i.timestampPromise?await i.timestampPromise:void 0,p=JSON.stringify({path:o,format:"convex_encoded_json",args:l,...d?{ts:d}:{}}),g=d?`${this.address}/api/query_at_ts`:`${this.address}/api/query`,y=await f(g,{...this.fetchOptions,body:p,method:"POST",headers:u});if(!y.ok&&y.status!==Hu)throw new Error(await y.text());const v=await y.json();if(this.debug)for(const S of v.logLines??[])es(this.logger,"info","query",o,S);switch(v.status){case"success":return ur(v.value);case"error":throw v.errorData!==void 0?Gu(v.errorData,new Wi(v.errorMessage)):new Error(v.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(v)}`)}}async mutationInner(t,n){const i=pt(t),o=JSON.stringify({path:i,format:"convex_encoded_json",args:[Ht(n)]}),l={"Content-Type":"application/json","Convex-Client":`npm-${$s}`};this.adminAuth?l.Authorization=`Convex ${this.adminAuth}`:this.auth&&(l.Authorization=`Bearer ${this.auth}`);const f=await(this.fetch||Tl||fetch)(`${this.address}/api/mutation`,{...this.fetchOptions,body:o,method:"POST",headers:l});if(!f.ok&&f.status!==Hu)throw new Error(await f.text());const d=await f.json();if(this.debug)for(const p of d.logLines??[])es(this.logger,"info","mutation",i,p);switch(d.status){case"success":return ur(d.value);case"error":throw d.errorData!==void 0?Gu(d.errorData,new Wi(d.errorMessage)):new Error(d.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(d)}`)}}async processMutationQueue(){if(!this.isProcessingQueue){for(this.isProcessingQueue=!0;this.mutationQueue.length>0;){const{mutation:t,args:n,resolve:i,reject:o}=this.mutationQueue.shift();try{const l=await this.mutationInner(t,n);i(l)}catch(l){o(l)}}this.isProcessingQueue=!1}}enqueueMutation(t,n){return new Promise((i,o)=>{this.mutationQueue.push({mutation:t,args:n,resolve:i,reject:o}),this.processMutationQueue()})}async mutation(t,...n){const[i,o]=n,l=xn(i);return o?.skipQueue?await this.mutationInner(t,l):await this.enqueueMutation(t,l)}async action(t,...n){const i=xn(n[0]),o=pt(t),l=JSON.stringify({path:o,format:"convex_encoded_json",args:[Ht(i)]}),u={"Content-Type":"application/json","Convex-Client":`npm-${$s}`};this.adminAuth?u.Authorization=`Convex ${this.adminAuth}`:this.auth&&(u.Authorization=`Bearer ${this.auth}`);const d=await(this.fetch||Tl||fetch)(`${this.address}/api/action`,{...this.fetchOptions,body:l,method:"POST",headers:u});if(!d.ok&&d.status!==Hu)throw new Error(await d.text());const p=await d.json();if(this.debug)for(const g of p.logLines??[])es(this.logger,"info","action",o,g);switch(p.status){case"success":return ur(p.value);case"error":throw p.errorData!==void 0?Gu(p.errorData,new Wi(p.errorMessage)):new Error(p.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(p)}`)}}async function(t,n,...i){const o=xn(i[0]),l=typeof t=="string"?t:pt(t),u=JSON.stringify({componentPath:n,path:l,format:"convex_encoded_json",args:Ht(o)}),f={"Content-Type":"application/json","Convex-Client":`npm-${$s}`};this.adminAuth?f.Authorization=`Convex ${this.adminAuth}`:this.auth&&(f.Authorization=`Bearer ${this.auth}`);const p=await(this.fetch||Tl||fetch)(`${this.address}/api/function`,{...this.fetchOptions,body:u,method:"POST",headers:f});if(!p.ok&&p.status!==Hu)throw new Error(await p.text());const g=await p.json();if(this.debug)for(const y of g.logLines??[])es(this.logger,"info","any",l,y);switch(g.status){case"success":return ur(g.value);case"error":throw g.errorData!==void 0?Gu(g.errorData,new Wi(g.errorMessage)):new Error(g.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(g)}`)}}}function Gu(e,t){return t.data=ur(e),t}function jP({getCurrentValue:e,subscribe:t}){const[n,i]=R.useState(()=>({getCurrentValue:e,subscribe:t,value:e()}));let o=n.value;return(n.getCurrentValue!==e||n.subscribe!==t)&&(o=e(),i({getCurrentValue:e,subscribe:t,value:o})),R.useEffect(()=>{let l=!1;const u=()=>{l||i(d=>{if(d.getCurrentValue!==e||d.subscribe!==t)return d;const p=e();return d.value===p?d:{...d,value:p}})},f=t(u);return u(),()=>{l=!0,f()}},[e,t]),o}var PP=Object.defineProperty,qP=(e,t,n)=>t in e?PP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ii=(e,t,n)=>qP(e,typeof t!="symbol"?t+"":t,n);const zP=5e3;if(typeof Ke>"u")throw new Error("Required dependency 'react' not found");function JA(e,t,n){function i(o){return VP(o),t.mutation(e,o,{optimisticUpdate:n})}return i.withOptimisticUpdate=function(l){if(n!==void 0)throw new Error(`Already specified optimistic update for mutation ${pt(e)}`);return JA(e,t,l)},i}function UP(e,t){return function(n){return t.action(e,n)}}class BP{constructor(t,n){if(ii(this,"address"),ii(this,"cachedSync"),ii(this,"cachedPaginatedQueryClient"),ii(this,"listeners"),ii(this,"options"),ii(this,"closed",!1),ii(this,"_logger"),ii(this,"adminAuth"),ii(this,"fakeUserIdentity"),t===void 0)throw new Error("No address provided to ConvexReactClient.\nIf trying to deploy to production, make sure to follow all the instructions found at https://docs.convex.dev/production/hosting/\nIf running locally, make sure to run `convex dev` and ensure the .env.local file is populated.");if(typeof t!="string")throw new Error(`ConvexReactClient requires a URL like 'https://happy-otter-123.convex.cloud', received something of type ${typeof t} instead.`);if(!t.includes("://"))throw new Error("Provided address was not an absolute URL.");this.address=t,this.listeners=new Map,this._logger=n?.logger===!1?Zy({verbose:n?.verbose??!1}):n?.logger!==!0&&n?.logger?n.logger:Jy({verbose:n?.verbose??!1}),this.options={...n,logger:this._logger}}get url(){return this.address}get sync(){if(this.closed)throw new Error("ConvexReactClient has already been closed.");return this.cachedSync?this.cachedSync:(this.cachedSync=new MP(this.address,()=>{},this.options),this.adminAuth&&this.cachedSync.setAdminAuth(this.adminAuth,this.fakeUserIdentity),this.cachedPaginatedQueryClient=new $P(this.cachedSync,t=>this.handleTransition(t)),this.cachedSync)}get paginatedQueryClient(){if(this.sync,this.cachedPaginatedQueryClient)return this.cachedPaginatedQueryClient;throw new Error("Should already be instantiated")}setAuth(t,n){if(typeof t=="string")throw new Error("Passing a string to ConvexReactClient.setAuth is no longer supported, please upgrade to passing in an async function to handle reauthentication.");this.sync.setAuth(t,n??(()=>{}))}clearAuth(){this.sync.clearAuth()}setAdminAuth(t,n){if(this.adminAuth=t,this.fakeUserIdentity=n,this.closed)throw new Error("ConvexReactClient has already been closed.");this.cachedSync&&this.sync.setAdminAuth(t,n)}watchQuery(t,...n){const[i,o]=n,l=pt(t);return{onUpdate:u=>{const{queryToken:f,unsubscribe:d}=this.sync.subscribe(l,i,o),p=this.listeners.get(f);return p!==void 0?p.add(u):this.listeners.set(f,new Set([u])),()=>{if(this.closed)return;const g=this.listeners.get(f);g.delete(u),g.size===0&&this.listeners.delete(f),d()}},localQueryResult:()=>{if(this.cachedSync)return this.cachedSync.localQueryResult(l,i)},localQueryLogs:()=>{if(this.cachedSync)return this.cachedSync.localQueryLogs(l,i)},journal:()=>{if(this.cachedSync)return this.cachedSync.queryJournal(l,i)}}}prewarmQuery(t){const n=t.extendSubscriptionFor??zP,o=this.watchQuery(t.query,t.args||{}).onUpdate(()=>{});setTimeout(o,n)}watchPaginatedQuery(t,n,i){const o=pt(t);return{onUpdate:l=>{const{paginatedQueryToken:u,unsubscribe:f}=this.paginatedQueryClient.subscribe(o,n||{},i),d=this.listeners.get(u);return d!==void 0?d.add(l):this.listeners.set(u,new Set([l])),()=>{if(this.closed)return;const p=this.listeners.get(u);p.delete(l),p.size===0&&this.listeners.delete(u),f()}},localQueryResult:()=>this.paginatedQueryClient.localQueryResult(o,n,i)}}mutation(t,...n){const[i,o]=n,l=pt(t);return this.sync.mutation(l,i,o)}action(t,...n){const i=pt(t);return this.sync.action(i,...n)}query(t,...n){const i=this.watchQuery(t,...n),o=i.localQueryResult();return o!==void 0?Promise.resolve(o):new Promise((l,u)=>{const f=i.onUpdate(()=>{f();try{l(i.localQueryResult())}catch(d){u(d)}})})}connectionState(){return this.sync.connectionState()}subscribeToConnectionState(t){return this.sync.subscribeToConnectionState(t)}get logger(){return this._logger}async close(){if(this.closed=!0,this.listeners=new Map,this.cachedPaginatedQueryClient&&(this.cachedPaginatedQueryClient=void 0),this.cachedSync){const t=this.cachedSync;this.cachedSync=void 0,await t.close()}}handleTransition(t){const n=t.queries.map(o=>o.token),i=t.paginatedQueries.map(o=>o.token);this.transition([...n,...i])}transition(t){for(const n of t){const i=this.listeners.get(n);if(i)for(const o of i)o()}}}const ud=Ke.createContext(void 0);function ZA(){return R.useContext(ud)}const FP=({client:e,children:t})=>Ke.createElement(ud.Provider,{value:e},t);function Lf(e,...t){const n=t[0]==="skip",i=t[0]==="skip"?{}:xn(t[0]),o=typeof e=="string"?Wy(e):e,l=pt(o),u=R.useMemo(()=>n?{}:{query:{query:o,args:i}},[JSON.stringify(Ht(i)),l,n]),d=eC(u).query;if(d instanceof Error)throw d;return d}function WA(e){const t=typeof e=="string"?Wy(e):e,n=R.useContext(ud);if(n===void 0)throw new Error("Could not find Convex client! `useMutation` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");return R.useMemo(()=>JA(t,n),[n,pt(t)])}function ny(e){const t=R.useContext(ud),n=typeof e=="string"?Wy(e):e;if(t===void 0)throw new Error("Could not find Convex client! `useAction` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");return R.useMemo(()=>UP(n,t),[t,pt(n)])}function VP(e){if(typeof e=="object"&&e!==null&&"bubbles"in e&&"persist"in e&&"isDefaultPrevented"in e)throw new Error("Convex function called with SyntheticEvent object. Did you use a Convex function as an event handler directly? Event handlers like onClick receive an event object as their first argument. These SyntheticEvent objects are not valid Convex values. Try wrapping the function like `const handler = () => myMutation();` and using `handler` in the event handler.")}var KP=Object.defineProperty,HP=(e,t,n)=>t in e?KP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Em=(e,t,n)=>HP(e,typeof t!="symbol"?t+"":t,n);class GP{constructor(t){Em(this,"createWatch"),Em(this,"queries"),Em(this,"listeners"),this.createWatch=t,this.queries={},this.listeners=new Set}setQueries(t){for(const n of Object.keys(t)){const{query:i,args:o,paginationOptions:l}=t[n];if(pt(i),this.queries[n]===void 0)this.addQuery(n,i,o,l?{paginationOptions:l}:{});else{const u=this.queries[n];(pt(i)!==pt(u.query)||JSON.stringify(Ht(o))!==JSON.stringify(Ht(u.args))||JSON.stringify(l)!==JSON.stringify(u.paginationOptions))&&(this.removeQuery(n),this.addQuery(n,i,o,l?{paginationOptions:l}:{}))}}for(const n of Object.keys(this.queries))t[n]===void 0&&this.removeQuery(n)}subscribe(t){return this.listeners.add(t),()=>{this.listeners.delete(t)}}getLocalResults(t){const n={};for(const i of Object.keys(t)){const{query:o,args:l}=t[i],u=t[i].paginationOptions;pt(o);const f=this.createWatch(o,l,u?{paginationOptions:u}:{});let d;try{d=f.localQueryResult()}catch(p){if(p instanceof Error)d=p;else throw p}n[i]=d}return n}setCreateWatch(t){this.createWatch=t;for(const n of Object.keys(this.queries)){const{query:i,args:o,watch:l,paginationOptions:u}=this.queries[n],f="journal"in l?l.journal():void 0;this.removeQuery(n),this.addQuery(n,i,o,{...f?{journal:f}:[],...u?{paginationOptions:u}:{}})}}destroy(){for(const t of Object.keys(this.queries))this.removeQuery(t);this.listeners=new Set}addQuery(t,n,i,{paginationOptions:o,journal:l}){if(this.queries[t]!==void 0)throw new Error(`Tried to add a new query with identifier ${t} when it already exists.`);const u=this.createWatch(n,i,{...l?{journal:l}:[],...o?{paginationOptions:o}:{}}),f=u.onUpdate(()=>this.notifyListeners());this.queries[t]={query:n,args:i,watch:u,unsubscribe:f,...o?{paginationOptions:o}:{}}}removeQuery(t){const n=this.queries[t];if(n===void 0)throw new Error(`No query found with identifier ${t}.`);n.unsubscribe(),delete this.queries[t]}notifyListeners(){for(const t of this.listeners)t()}}function eC(e){const t=ZA();if(t===void 0)throw new Error("Could not find Convex client! `useQuery` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");const n=R.useMemo(()=>(i,o,{journal:l,paginationOptions:u})=>u?t.watchPaginatedQuery(i,o,u):t.watchQuery(i,o,l?{journal:l}:{}),[t]);return QP(e,n)}function QP(e,t){const[n]=R.useState(()=>new GP(t));n.createWatch!==t&&n.setCreateWatch(t),R.useEffect(()=>()=>n.destroy(),[n]);const i=R.useMemo(()=>({getCurrentValue:()=>n.getLocalResults(e),subscribe:o=>(n.setQueries(e),n.subscribe(o))}),[n,e]);return jP(i)}const YP=(e,t,n)=>i=>{const o={...i.queries},l=i.nextPageKey,u=i.nextPageKey+1,f=i.nextPageKey+2;o[l]={query:i.query,args:{...i.args,paginationOpts:{...i.queries[e].args.paginationOpts,endCursor:t}}},o[u]={query:i.query,args:{...i.args,paginationOpts:{...i.queries[e].args.paginationOpts,cursor:t,endCursor:n}}};const d={...i.ongoingSplits};return d[e]=[l,u],{...i,nextPageKey:f,queries:o,ongoingSplits:d}},XP=e=>t=>{const n=t.ongoingSplits[e];if(n===void 0)return t;const i={...t.queries};delete i[e];const o={...t.ongoingSplits};delete o[e];let l=t.pageKeys.slice();const u=t.pageKeys.findIndex(f=>f===e);return u>=0&&(l=[...t.pageKeys.slice(0,u),...n,...t.pageKeys.slice(u+1)]),{...t,queries:i,pageKeys:l,ongoingSplits:o}};function JP(e,t,n){const{user:i}=eq(e,t,n);return i}const ZP=Symbol("includePageKeys"),WP=Symbol("page");function eq(e,t,n){if(typeof n?.initialNumItems!="number"||n.initialNumItems<0)throw new Error(`\`options.initialNumItems\` must be a positive number. Received \`${n?.initialNumItems}\`.`);const i=t==="skip",o=i?{}:t,l=pt(e),u=R.useMemo(()=>()=>{const _=tq();return{query:e,args:o,id:_,nextPageKey:1,pageKeys:i?[]:[0],queries:i?{}:{0:{query:e,args:{...o,paginationOpts:{numItems:n.initialNumItems,cursor:null,id:_}}}},ongoingSplits:{},skip:i}},[JSON.stringify(Ht(o)),l,n.initialNumItems,i]),[f,d]=R.useState(u);let p=f;(pt(e)!==pt(f.query)||JSON.stringify(Ht(o))!==JSON.stringify(Ht(f.args))||i!==f.skip)&&(p=u(),d(p));const y=ZA().logger,v=eC(p.queries),S=n[ZP]??!1,[E,w]=R.useMemo(()=>{let _;const I=[];for(const M of p.pageKeys){if(_=v[M],_===void 0)break;if(_ instanceof Error){if(_.message.includes("InvalidCursor")||_ instanceof Wi&&typeof _.data=="object"&&_.data?.isConvexSystemError===!0&&_.data?.paginationError==="InvalidCursor")return y.warn("usePaginatedQuery hit error, resetting pagination state: "+_.message),d(u),[[],void 0];throw _}const k=p.ongoingSplits[M];if(k!==void 0?v[k[0]]!==void 0&&v[k[1]]!==void 0&&d(XP(M)):_.splitCursor&&(_.pageStatus==="SplitRecommended"||_.pageStatus==="SplitRequired"||_.page.length>n.initialNumItems*2)&&d(YP(M,_.splitCursor,_.continueCursor)),_.pageStatus==="SplitRequired")return[I,void 0];I.push(...S?_.page.map(U=>({...U,[WP]:M.toString()})):_.page)}return[I,_]},[v,p.pageKeys,p.ongoingSplits,n.initialNumItems,u,y,S]),A=R.useMemo(()=>{if(w===void 0)return p.nextPageKey===1?{status:"LoadingFirstPage",isLoading:!0,loadMore:M=>{}}:{status:"LoadingMore",isLoading:!0,loadMore:M=>{}};if(w.isDone)return{status:"Exhausted",isLoading:!1,loadMore:M=>{}};const _=w.continueCursor;let I=!1;return{status:"CanLoadMore",isLoading:!1,loadMore:M=>{I||(I=!0,d(k=>{const U=[...k.pageKeys,k.nextPageKey],K={...k.queries};return K[k.nextPageKey]={query:k.query,args:{...k.args,paginationOpts:{numItems:M,cursor:_,id:k.id}}},{...k,nextPageKey:k.nextPageKey+1,pageKeys:U,queries:K}}))}}},[w,p.nextPageKey]);return{user:{results:E,...A},internal:{state:p}}}let Qx=0;function tq(){return Qx++,Qx}const nq=R.createContext(void 0);function rq({children:e,client:t,useAuth:n}){const{isLoading:i,isAuthenticated:o,fetchAccessToken:l}=n(),[u,f]=R.useState(null);return i&&u!==null&&f(null),!i&&!o&&u!==!1&&f(!1),Ke.createElement(nq.Provider,{value:{isLoading:u===null,isAuthenticated:o&&(u??!1)}},Ke.createElement(iq,{authProviderAuthenticated:o,fetchAccessToken:l,authProviderLoading:i,client:t,setIsConvexAuthenticated:f}),Ke.createElement(FP,{client:t},e),Ke.createElement(sq,{authProviderAuthenticated:o,fetchAccessToken:l,authProviderLoading:i,client:t,setIsConvexAuthenticated:f}))}function iq({authProviderAuthenticated:e,fetchAccessToken:t,authProviderLoading:n,client:i,setIsConvexAuthenticated:o}){return R.useEffect(()=>{let l=!0;if(e)return i.setAuth(t,u=>{l&&o(()=>u)}),()=>{l=!1,o(u=>u?!1:null)}},[e,t,n,i,o]),null}function sq({authProviderAuthenticated:e,fetchAccessToken:t,authProviderLoading:n,client:i,setIsConvexAuthenticated:o}){return R.useEffect(()=>{if(e)return()=>{i.clearAuth(),o(()=>null)}},[e,t,n,i,o]),null}const oq=Object.prototype.toString,aq=e=>oq.call(e)==="[object Error]",lq=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function cq(e){if(!(e&&aq(e)&&e.name==="TypeError"&&typeof e.message=="string"))return!1;const{message:n,stack:i}=e;return n==="Load failed"?i===void 0||"__sentry_captured__"in e:n.startsWith("error sending request for url")?!0:lq.has(n)}const Rm=[500,2e3],uq=100,tC=R.createContext(void 0),nC=R.createContext(void 0);function fq(){return R.useContext(nC)}const dq=R.createContext(null),Am="__convexAuthOAuthVerifier",Qu="__convexAuthJWT",Yu="__convexAuthRefreshToken",Yx="__convexAuthServerStateFetchTime";function hq({client:e,serverState:t,onChange:n,shouldHandleCode:i,storage:o,storageNamespace:l,replaceURL:u,children:f}){const d=R.useRef(t?._state.token??null),[p,g]=R.useState(d.current===null),[y,v]=R.useState(d.current),S=e.verbose??!1,E=R.useCallback(H=>{S&&(console.debug(`${new Date().toISOString()} ${H}`),e.logger?.logVerbose(H))},[S]),{storageSet:w,storageGet:A,storageRemove:_,storageKey:I}=pq(o,l),[M,k]=R.useState(!1),U=R.useCallback(async H=>{const N=d.current!==null;let P;if(H.tokens===null)d.current=null,H.shouldStore&&(await _(Qu),await _(Yu)),P=null;else{const{token:j}=H.tokens;if(d.current=j,H.shouldStore){const{refreshToken:F}=H.tokens;await w(Qu,j),await w(Yu,F)}P=j}N!==(P!==null)&&await n?.(),v(P),g(!1)},[w,_]);R.useEffect(()=>{const H=async N=>{if(M){N.preventDefault();const P="Are you sure you want to leave? Your changes may not be saved.";return N.returnValue=!0,P}};return Xx("beforeunload",H),()=>{Jx("beforeunload",H)}}),R.useEffect(()=>{const H=N=>{(async()=>{if(N.storageArea===o&&N.key===I(Qu)){const P=N.newValue;E(`synced access token, is null: ${P===null}`),await U({shouldStore:!1,tokens:P===null?null:{token:P}})}})()};return Xx("storage",H),()=>Jx("storage",H)},[U]);const K=R.useCallback(async H=>{let N,P=0;for(;P<Rm.length;)try{return await e.unauthenticatedCall("auth:signIn","code"in H?{params:{code:H.code},verifier:H.verifier}:H)}catch(j){if(N=j,!cq(j))break;const F=Rm[P]+uq*Math.random();P++,E(`verifyCode failed with network error, retry ${P} of ${Rm.length} in ${F}ms`),await new Promise(re=>setTimeout(re,F))}throw N},[e]),q=R.useCallback(async H=>{const{tokens:N}=await K(H);return E(`retrieved tokens, is null: ${N===null}`),await U({shouldStore:!0,tokens:N??null}),N!==null},[e,U]),L=R.useCallback(async(H,N)=>{const P=N instanceof FormData?Array.from(N.entries()).reduce((re,[$,B])=>(re[$]=B,re),{}):N??{},j=await A(Am)??void 0;await _(Am);const F=await e.authenticatedCall("auth:signIn",{provider:H,params:P,verifier:j});if(F.redirect!==void 0){const re=new URL(F.redirect);return await w(Am,F.verifier),navigator.product!=="ReactNative"&&(window.location.href=re.toString()),{signingIn:!1,redirect:re}}else if(F.tokens!==void 0){const{tokens:re}=F;return E(`signed in and got tokens, is null: ${re===null}`),await U({shouldStore:!0,tokens:re}),{signingIn:F.tokens!==null}}return{signingIn:!1}},[e,U,A]),W=R.useCallback(async()=>{try{await e.authenticatedCall("auth:signOut")}catch{}E("signed out, erasing tokens"),await U({shouldStore:!0,tokens:null})},[U,e]),oe=R.useCallback(async({forceRefreshToken:H})=>{if(H){const N=d.current;return await gq(Yu,async()=>{const P=d.current;if(P!==N)return E(`returning synced token, is null: ${P===null}`),P;const j=await A(Yu)??null;return j!==null?(k(!0),await q({refreshToken:j}).finally(()=>{k(!1)}),E(`returning retrieved token, is null: ${P===null}`),d.current):(k(!1),E("returning null, there is no refresh token"),null)})}return d.current},[q,W,A]),se=R.useRef(!1);R.useEffect(()=>{if(o===void 0)throw new Error("`localStorage` is not available in this environment, set the `storage` prop on `ConvexAuthProvider`!");const H=async()=>{const P=await A(Qu)??null;E(`retrieved token from storage, is null: ${P===null}`),await U({shouldStore:!1,tokens:P===null?null:{token:P}})};if(t!==void 0){const P=A(Yx),j=F=>{if(!F||t._timeFetched>+F){const{token:re,refreshToken:$}=t._state,B=re===null||$===null?null:{token:re,refreshToken:$};w(Yx,t._timeFetched.toString()),U({tokens:B,shouldStore:!0})}else H()};P instanceof Promise?P.then(j):j(P);return}const N=typeof window?.location?.search<"u"?new URLSearchParams(window.location.search).get("code"):null;if((se.current||N)&&!se.current&&(i===void 0||(typeof i=="function"?i():i))){se.current=!0;const P=new URL(window.location.href);P.searchParams.delete("code"),(async()=>(await u(P.pathname+P.search+P.hash),await L(void 0,{code:N}),se.current=!1))()}else H()},[e,A]);const ue=R.useMemo(()=>({signIn:L,signOut:W}),[L,W]),ce=y!==null,X=R.useMemo(()=>({isLoading:p,isAuthenticated:ce,fetchAccessToken:oe}),[oe,p,ce]);return x.jsx(nC.Provider,{value:X,children:x.jsx(tC.Provider,{value:ue,children:x.jsx(dq.Provider,{value:y,children:f})})})}function pq(e,t){const n=mq(),i=R.useMemo(()=>e??n(),[e]),o=t.replace(/[^a-zA-Z0-9]/g,""),l=R.useCallback(p=>`${p}_${o}`,[t]),u=R.useCallback((p,g)=>i.setItem(l(p),g),[i,l]),f=R.useCallback(p=>i.getItem(l(p)),[i,l]),d=R.useCallback(p=>i.removeItem(l(p)),[i,l]);return{storageSet:u,storageGet:f,storageRemove:d,storageKey:l}}function mq(){const[e,t]=R.useState({});return()=>({getItem:n=>e[n],setItem:(n,i)=>{t(o=>({...o,[n]:i}))},removeItem:n=>{t(i=>{const{[n]:o,...l}=i;return l})}})}async function gq(e,t){const n=window?.navigator?.locks;return n!==void 0?await n.request(e,t):await yq(e,t)}function Xu(e){globalThis.__convexAuthMutexes===void 0&&(globalThis.__convexAuthMutexes={});let t=globalThis.__convexAuthMutexes[e];return t===void 0&&(globalThis.__convexAuthMutexes[e]={currentlyRunning:null,waiting:[]}),t=globalThis.__convexAuthMutexes[e],t}function Cm(e,t){globalThis.__convexAuthMutexes[e]=t}async function rC(e,t){const n=Xu(e);n.currentlyRunning===null?Cm(e,{currentlyRunning:t().finally(()=>{const i=Xu(e).waiting.shift();Xu(e).currentlyRunning=null,Cm(e,{...Xu(e),currentlyRunning:i===void 0?null:rC(e,i)})}),waiting:[]}):Cm(e,{...n,waiting:[...n.waiting,t]})}async function yq(e,t){return new Promise((i,o)=>{rC(e,()=>t().then(u=>i(u)).catch(u=>o(u)))})}function Xx(e,t,n){window.addEventListener?.(e,t,n)}function Jx(e,t,n){window.removeEventListener?.(e,t,n)}function vq(){return R.useContext(tC)}function bq(e){const{client:t,storage:n,storageNamespace:i,replaceURL:o,shouldHandleCode:l,children:u}=e,f=R.useMemo(()=>({authenticatedCall(d,p){return t.action(d,p)},unauthenticatedCall(d,p){return new IP(t.address,{logger:t.logger}).action(d,p)},verbose:t.options?.verbose,logger:t.logger}),[t]);return x.jsx(hq,{client:f,storage:n??(typeof window>"u"?void 0:window?.localStorage),storageNamespace:i??t.address,replaceURL:o??(d=>{window.history.replaceState({},"",d)}),shouldHandleCode:l,children:x.jsx(rq,{client:t,useAuth:fq,children:u})})}const wq=new BP("https://wry-manatee-359.convex.cloud");function iC(e,t){const n={get(i,o){if(typeof o=="string"){const l=[...t,o];return iC(e,l)}else if(o===GA){if(t.length<1){const l=[e,...t].join(".");throw new Error(`API path is expected to be of the form \`${e}.childComponent.functionName\`. Found: \`${l}\``)}return"_reference/childComponent/"+t.join("/")}else return}};return new Proxy({},n)}const Sq=()=>iC("components",[]),er=Xj;Sq();function ev(){const e=Lf(er.users.me);return{me:e,isLoading:e===void 0,isAuthenticated:!!e}}function xq(){const{isAuthenticated:e,isLoading:t}=ev(),n=WA(er.users.ensure),i=R.useRef(!1);return R.useEffect(()=>{t||!e||i.current||(i.current=!0,n())},[e,t,n]),null}function Eq({children:e}){return x.jsxs(bq,{client:wq,replaceURL:t=>{typeof window<"u"&&window.history.replaceState(null,"",t)},children:[x.jsx(xq,{}),e]})}function Rq({children:e,fallback:t=null}){const[n,i]=R.useState(!1);return R.useEffect(()=>{i(!0)},[]),n?x.jsx(x.Fragment,{children:e}):x.jsx(x.Fragment,{children:t})}var Aq={};const sC="https://clawhub.ai",Cq="https://onlycrabs.ai",Tq="onlycrabs.ai",_q=new Set(["clawdhub.com","www.clawdhub.com","auth.clawdhub.com"]);function Oq(e){if(!e)return null;try{const t=new URL(e);return _q.has(t.hostname.toLowerCase())?sC:t.origin}catch{return null}}function tv(){return Oq(void 0)??sC}function oC(){return Cq}function Mq(){return Tq}function Df(e){if(!e)return"skills";const t=Mq().toLowerCase(),n=e.toLowerCase();return n===t||n.endsWith(`.${t}`)?"souls":"skills"}function Nq(e){if(!e)return"skills";try{const t=new URL(e).hostname;return Df(t)}catch{return Df(e)}}function ya(){if(typeof window<"u")return Df(window.location.hostname);const e=Aq.SITE_URL;return e?Nq(e):"skills"}function nv(e=ya()){return e==="souls"?"SoulHub":"ClawHub"}function kq(e=ya()){return e==="souls"?"SoulHub  the home for SOUL.md bundles and personal system lore.":"ClawHub  a fast skill registry for agents, with vector search."}function $q(e=ya()){return e==="souls"?oC():tv()}function Lq(){const e=nv();return x.jsx("footer",{className:"site-footer",children:x.jsxs("div",{className:"site-footer-inner",children:[x.jsx("div",{className:"site-footer-divider","aria-hidden":"true"}),x.jsx("div",{className:"site-footer-row",children:x.jsxs("div",{className:"site-footer-copy",children:[e,"  An"," ",x.jsx("a",{href:"https://openclaw.ai",target:"_blank",rel:"noreferrer",children:"OpenClaw"})," ","project "," ",x.jsx("a",{href:"https://github.com/openclaw/clawhub",target:"_blank",rel:"noreferrer",children:"Open source (MIT)"})," ",""," ",x.jsx("a",{href:"https://steipete.me",target:"_blank",rel:"noreferrer",children:"Peter Steinberger"}),"."]})})]})})}const aC=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim();const Dq=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Iq=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase());const Zx=e=>{const t=Iq(e);return t.charAt(0).toUpperCase()+t.slice(1)};var jq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Pq=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const qq=R.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:u,...f},d)=>R.createElement("svg",{ref:d,...jq,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:aC("lucide",o),...!l&&!Pq(f)&&{"aria-hidden":"true"},...f},[...u.map(([p,g])=>R.createElement(p,g)),...Array.isArray(l)?l:[l]]));const ic=(e,t)=>{const n=R.forwardRef(({className:i,...o},l)=>R.createElement(qq,{ref:l,iconNode:t,className:aC(`lucide-${Dq(Zx(e))}`,`lucide-${e}`,i),...o}));return n.displayName=Zx(e),n};const zq=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Uq=ic("menu",zq);const Bq=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Wx=ic("monitor",Bq);const Fq=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],e1=ic("moon",Fq);const Vq=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],lC=ic("package",Vq);const Kq=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],t1=ic("sun",Kq);function Tm(e,t){let[n,i,o,l]=e;n=Xt(n,i,o,l,t[0],7,-680876936),l=Xt(l,n,i,o,t[1],12,-389564586),o=Xt(o,l,n,i,t[2],17,606105819),i=Xt(i,o,l,n,t[3],22,-1044525330),n=Xt(n,i,o,l,t[4],7,-176418897),l=Xt(l,n,i,o,t[5],12,1200080426),o=Xt(o,l,n,i,t[6],17,-1473231341),i=Xt(i,o,l,n,t[7],22,-45705983),n=Xt(n,i,o,l,t[8],7,1770035416),l=Xt(l,n,i,o,t[9],12,-1958414417),o=Xt(o,l,n,i,t[10],17,-42063),i=Xt(i,o,l,n,t[11],22,-1990404162),n=Xt(n,i,o,l,t[12],7,1804603682),l=Xt(l,n,i,o,t[13],12,-40341101),o=Xt(o,l,n,i,t[14],17,-1502002290),i=Xt(i,o,l,n,t[15],22,1236535329),n=Jt(n,i,o,l,t[1],5,-165796510),l=Jt(l,n,i,o,t[6],9,-1069501632),o=Jt(o,l,n,i,t[11],14,643717713),i=Jt(i,o,l,n,t[0],20,-373897302),n=Jt(n,i,o,l,t[5],5,-701558691),l=Jt(l,n,i,o,t[10],9,38016083),o=Jt(o,l,n,i,t[15],14,-660478335),i=Jt(i,o,l,n,t[4],20,-405537848),n=Jt(n,i,o,l,t[9],5,568446438),l=Jt(l,n,i,o,t[14],9,-1019803690),o=Jt(o,l,n,i,t[3],14,-187363961),i=Jt(i,o,l,n,t[8],20,1163531501),n=Jt(n,i,o,l,t[13],5,-1444681467),l=Jt(l,n,i,o,t[2],9,-51403784),o=Jt(o,l,n,i,t[7],14,1735328473),i=Jt(i,o,l,n,t[12],20,-1926607734),n=Zt(n,i,o,l,t[5],4,-378558),l=Zt(l,n,i,o,t[8],11,-2022574463),o=Zt(o,l,n,i,t[11],16,1839030562),i=Zt(i,o,l,n,t[14],23,-35309556),n=Zt(n,i,o,l,t[1],4,-1530992060),l=Zt(l,n,i,o,t[4],11,1272893353),o=Zt(o,l,n,i,t[7],16,-155497632),i=Zt(i,o,l,n,t[10],23,-1094730640),n=Zt(n,i,o,l,t[13],4,681279174),l=Zt(l,n,i,o,t[0],11,-358537222),o=Zt(o,l,n,i,t[3],16,-722521979),i=Zt(i,o,l,n,t[6],23,76029189),n=Zt(n,i,o,l,t[9],4,-640364487),l=Zt(l,n,i,o,t[12],11,-421815835),o=Zt(o,l,n,i,t[15],16,530742520),i=Zt(i,o,l,n,t[2],23,-995338651),n=Wt(n,i,o,l,t[0],6,-198630844),l=Wt(l,n,i,o,t[7],10,1126891415),o=Wt(o,l,n,i,t[14],15,-1416354905),i=Wt(i,o,l,n,t[5],21,-57434055),n=Wt(n,i,o,l,t[12],6,1700485571),l=Wt(l,n,i,o,t[3],10,-1894986606),o=Wt(o,l,n,i,t[10],15,-1051523),i=Wt(i,o,l,n,t[1],21,-2054922799),n=Wt(n,i,o,l,t[8],6,1873313359),l=Wt(l,n,i,o,t[15],10,-30611744),o=Wt(o,l,n,i,t[6],15,-1560198380),i=Wt(i,o,l,n,t[13],21,1309151649),n=Wt(n,i,o,l,t[4],6,-145523070),l=Wt(l,n,i,o,t[11],10,-1120210379),o=Wt(o,l,n,i,t[2],15,718787259),i=Wt(i,o,l,n,t[9],21,-343485551),e[0]=ts(n,e[0]),e[1]=ts(i,e[1]),e[2]=ts(o,e[2]),e[3]=ts(l,e[3])}function fd(e,t,n,i,o,l){return t=ts(ts(t,e),ts(i,l)),ts(t<<o|t>>>32-o,n)}function Xt(e,t,n,i,o,l,u){return fd(t&n|~t&i,e,t,o,l,u)}function Jt(e,t,n,i,o,l,u){return fd(t&i|n&~i,e,t,o,l,u)}function Zt(e,t,n,i,o,l,u){return fd(t^n^i,e,t,o,l,u)}function Wt(e,t,n,i,o,l,u){return fd(n^(t|~i),e,t,o,l,u)}function Hq(e){const t=e.length,n=[1732584193,-271733879,-1732584194,271733878];let i=0;for(i=64;i<=t;i+=64)Tm(n,Gq(e.substring(i-64,i)));e=e.substring(i-64);const o=Array(16).fill(0);for(i=0;i<e.length;i+=1)o[i>>2]|=e.charCodeAt(i)<<(i%4<<3);if(o[i>>2]|=128<<(i%4<<3),i>55){Tm(n,o);for(let l=0;l<16;l+=1)o[l]=0}return o[14]=t*8,Tm(n,o),n}function Gq(e){const t=[];for(let n=0;n<64;n+=4)t[n>>2]=e.charCodeAt(n)+(e.charCodeAt(n+1)<<8)+(e.charCodeAt(n+2)<<16)+(e.charCodeAt(n+3)<<24);return t}function Qq(e){const t="0123456789abcdef";let n=0,i="";for(;n<4;n+=1)i+=t.charAt(e>>n*8+4&15)+t.charAt(e>>n*8&15);return i}function Yq(e){for(let t=0;t<e.length;t+=1)e[t]=Number(e[t]);return e.map(Qq).join("")}function ts(e,t){return e+t&4294967295}function Xq(e,t=160){const n=e.trim().toLowerCase();return`https://www.gravatar.com/avatar/${Yq(Hq(n))}?d=identicon&s=${t}`}function H7(e){return e?.role==="admin"}function cC(e){return e?.role==="admin"||e?.role==="moderator"}function G7(e,t){return!e||!t?!1:e._id===t.ownerUserId||cC(e)}const uC="clawhub-theme",Jq="clawdhub-theme";function Zq(){if(typeof window>"u")return"system";const e=window.localStorage.getItem(uC);if(e==="light"||e==="dark"||e==="system")return e;const t=window.localStorage.getItem(Jq);return t==="light"||t==="dark"||t==="system"?t:"system"}function Wq(e){return e!=="system"?e:typeof window>"u"?"light":window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function ry(e){if(typeof document>"u")return;const t=Wq(e);document.documentElement.dataset.theme=t,document.documentElement.classList.toggle("dark",t==="dark")}function e3(){const[e,t]=R.useState(()=>Zq());return R.useEffect(()=>{if(ry(e),typeof window<"u"&&window.localStorage.setItem(uC,e),e!=="system"||typeof window>"u")return;const n=window.matchMedia("(prefers-color-scheme: dark)"),i=()=>ry(e);return n.addEventListener("change",i),()=>n.removeEventListener("change",i)},[e]),{mode:e,setMode:t}}const Ju=e=>Number.isNaN(e)?.5:e<=0?0:e>=1?1:e,fC=()=>globalThis.window,t3=()=>{const e=fC();return!e||typeof e.matchMedia!="function"?!1:e.matchMedia("(prefers-reduced-motion: reduce)").matches??!1},Zu=e=>{e.classList.remove("theme-transition"),e.style.removeProperty("--theme-switch-x"),e.style.removeProperty("--theme-switch-y")},n3=({nextTheme:e,setTheme:t,context:n,onBeforeThemeChange:i,onAfterThemeChange:o,currentTheme:l})=>{if(l===e)return;const u=globalThis.document??null;if(!u){i?.(),t(e),o?.();return}const f=u.documentElement,d=u,p=t3(),g=()=>{i?.(),rc.flushSync(()=>{t(e)}),o?.()};if(!!d.startViewTransition&&!p){let v=.5,S=.5;const E=fC();if(n?.pointerClientX!==void 0&&n?.pointerClientY!==void 0&&E)v=Ju(n.pointerClientX/E.innerWidth),S=Ju(n.pointerClientY/E.innerHeight);else if(n?.element){const w=n.element.getBoundingClientRect();w.width>0&&w.height>0&&E&&(v=Ju((w.left+w.width/2)/E.innerWidth),S=Ju((w.top+w.height/2)/E.innerHeight))}f.style.setProperty("--theme-switch-x",`${v*100}%`),f.style.setProperty("--theme-switch-y",`${S*100}%`),f.classList.add("theme-transition");try{const w=d.startViewTransition?.(()=>{g()});w?.finished===void 0?Zu(f):(async()=>{try{await w.finished}catch{}finally{Zu(f)}})()}catch{Zu(f),g()}return}g(),Zu(f)};function ze(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e?.(o),n===!1||!o.defaultPrevented)return t?.(o)}}function n1(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function dd(...e){return t=>{let n=!1;const i=e.map(o=>{const l=n1(o,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<i.length;o++){const l=i[o];typeof l=="function"?l():n1(e[o],null)}}}}function An(...e){return R.useCallback(dd(...e),e)}function va(e,t=[]){let n=[];function i(l,u){const f=R.createContext(u),d=n.length;n=[...n,u];const p=y=>{const{scope:v,children:S,...E}=y,w=v?.[e]?.[d]||f,A=R.useMemo(()=>E,Object.values(E));return x.jsx(w.Provider,{value:A,children:S})};p.displayName=l+"Provider";function g(y,v){const S=v?.[e]?.[d]||f,E=R.useContext(S);if(E)return E;if(u!==void 0)return u;throw new Error(`\`${y}\` must be used within \`${l}\``)}return[p,g]}const o=()=>{const l=n.map(u=>R.createContext(u));return function(f){const d=f?.[e]||l;return R.useMemo(()=>({[`__scope${e}`]:{...f,[e]:d}}),[f,d])}};return o.scopeName=e,[i,r3(o,...t)]}function r3(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const u=i.reduce((f,{useScope:d,scopeName:p})=>{const y=d(l)[`__scope${p}`];return{...f,...y}},{});return R.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}var is=globalThis?.document?R.useLayoutEffect:()=>{},i3=jy[" useInsertionEffect ".trim().toString()]||is;function sc({prop:e,defaultProp:t,onChange:n=()=>{},caller:i}){const[o,l,u]=s3({defaultProp:t,onChange:n}),f=e!==void 0,d=f?e:o;{const g=R.useRef(e!==void 0);R.useEffect(()=>{const y=g.current;y!==f&&console.warn(`${i} is changing from ${y?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=f},[f,i])}const p=R.useCallback(g=>{if(f){const y=o3(g)?g(e):g;y!==e&&u.current?.(y)}else l(g)},[f,e,l,u]);return[d,p]}function s3({defaultProp:e,onChange:t}){const[n,i]=R.useState(e),o=R.useRef(n),l=R.useRef(t);return i3(()=>{l.current=t},[t]),R.useEffect(()=>{o.current!==n&&(l.current?.(n),o.current=n)},[n,o]),[n,i,l]}function o3(e){return typeof e=="function"}function If(e){const t=a3(e),n=R.forwardRef((i,o)=>{const{children:l,...u}=i,f=R.Children.toArray(l),d=f.find(c3);if(d){const p=d.props.children,g=f.map(y=>y===d?R.Children.count(p)>1?R.Children.only(null):R.isValidElement(p)?p.props.children:null:y);return x.jsx(t,{...u,ref:o,children:R.isValidElement(p)?R.cloneElement(p,void 0,g):null})}return x.jsx(t,{...u,ref:o,children:l})});return n.displayName=`${e}.Slot`,n}function a3(e){const t=R.forwardRef((n,i)=>{const{children:o,...l}=n;if(R.isValidElement(o)){const u=f3(o),f=u3(l,o.props);return o.type!==R.Fragment&&(f.ref=i?dd(i,u):u),R.cloneElement(o,f)}return R.Children.count(o)>1?R.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var l3=Symbol("radix.slottable");function c3(e){return R.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===l3}function u3(e,t){const n={...t};for(const i in t){const o=e[i],l=t[i];/^on[A-Z]/.test(i)?o&&l?n[i]=(...f)=>{const d=l(...f);return o(...f),d}:o&&(n[i]=o):i==="style"?n[i]={...o,...l}:i==="className"&&(n[i]=[o,l].filter(Boolean).join(" "))}return{...e,...n}}function f3(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var d3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zt=d3.reduce((e,t)=>{const n=If(`Primitive.${t}`),i=R.forwardRef((o,l)=>{const{asChild:u,...f}=o,d=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(d,{...f,ref:l})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function dC(e,t){e&&rc.flushSync(()=>e.dispatchEvent(t))}function hC(e){const t=e+"CollectionProvider",[n,i]=va(t),[o,l]=n(t,{collectionRef:{current:null},itemMap:new Map}),u=w=>{const{scope:A,children:_}=w,I=Ke.useRef(null),M=Ke.useRef(new Map).current;return x.jsx(o,{scope:A,itemMap:M,collectionRef:I,children:_})};u.displayName=t;const f=e+"CollectionSlot",d=If(f),p=Ke.forwardRef((w,A)=>{const{scope:_,children:I}=w,M=l(f,_),k=An(A,M.collectionRef);return x.jsx(d,{ref:k,children:I})});p.displayName=f;const g=e+"CollectionItemSlot",y="data-radix-collection-item",v=If(g),S=Ke.forwardRef((w,A)=>{const{scope:_,children:I,...M}=w,k=Ke.useRef(null),U=An(A,k),K=l(g,_);return Ke.useEffect(()=>(K.itemMap.set(k,{ref:k,...M}),()=>{K.itemMap.delete(k)})),x.jsx(v,{[y]:"",ref:U,children:I})});S.displayName=g;function E(w){const A=l(e+"CollectionConsumer",w);return Ke.useCallback(()=>{const I=A.collectionRef.current;if(!I)return[];const M=Array.from(I.querySelectorAll(`[${y}]`));return Array.from(A.itemMap.values()).sort((K,q)=>M.indexOf(K.ref.current)-M.indexOf(q.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:u,Slot:p,ItemSlot:S},E,i]}var h3=R.createContext(void 0);function rv(e){const t=R.useContext(h3);return e||t||"ltr"}function ui(e){const t=R.useRef(e);return R.useEffect(()=>{t.current=e}),R.useMemo(()=>(...n)=>t.current?.(...n),[])}function p3(e,t=globalThis?.document){const n=ui(e);R.useEffect(()=>{const i=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[n,t])}var m3="DismissableLayer",iy="dismissableLayer.update",g3="dismissableLayer.pointerDownOutside",y3="dismissableLayer.focusOutside",r1,pC=R.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),mC=R.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:u,onDismiss:f,...d}=e,p=R.useContext(pC),[g,y]=R.useState(null),v=g?.ownerDocument??globalThis?.document,[,S]=R.useState({}),E=An(t,q=>y(q)),w=Array.from(p.layers),[A]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),_=w.indexOf(A),I=g?w.indexOf(g):-1,M=p.layersWithOutsidePointerEventsDisabled.size>0,k=I>=_,U=w3(q=>{const L=q.target,W=[...p.branches].some(oe=>oe.contains(L));!k||W||(o?.(q),u?.(q),q.defaultPrevented||f?.())},v),K=S3(q=>{const L=q.target;[...p.branches].some(oe=>oe.contains(L))||(l?.(q),u?.(q),q.defaultPrevented||f?.())},v);return p3(q=>{I===p.layers.size-1&&(i?.(q),!q.defaultPrevented&&f&&(q.preventDefault(),f()))},v),R.useEffect(()=>{if(g)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(r1=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),i1(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=r1)}},[g,v,n,p]),R.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),i1())},[g,p]),R.useEffect(()=>{const q=()=>S({});return document.addEventListener(iy,q),()=>document.removeEventListener(iy,q)},[]),x.jsx(zt.div,{...d,ref:E,style:{pointerEvents:M?k?"auto":"none":void 0,...e.style},onFocusCapture:ze(e.onFocusCapture,K.onFocusCapture),onBlurCapture:ze(e.onBlurCapture,K.onBlurCapture),onPointerDownCapture:ze(e.onPointerDownCapture,U.onPointerDownCapture)})});mC.displayName=m3;var v3="DismissableLayerBranch",b3=R.forwardRef((e,t)=>{const n=R.useContext(pC),i=R.useRef(null),o=An(t,i);return R.useEffect(()=>{const l=i.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),x.jsx(zt.div,{...e,ref:o})});b3.displayName=v3;function w3(e,t=globalThis?.document){const n=ui(e),i=R.useRef(!1),o=R.useRef(()=>{});return R.useEffect(()=>{const l=f=>{if(f.target&&!i.current){let d=function(){gC(g3,n,p,{discrete:!0})};const p={originalEvent:f};f.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=d,t.addEventListener("click",o.current,{once:!0})):d()}else t.removeEventListener("click",o.current);i.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",l),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>i.current=!0}}function S3(e,t=globalThis?.document){const n=ui(e),i=R.useRef(!1);return R.useEffect(()=>{const o=l=>{l.target&&!i.current&&gC(y3,n,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function i1(){const e=new CustomEvent(iy);document.dispatchEvent(e)}function gC(e,t,n,{discrete:i}){const o=n.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),i?dC(o,l):o.dispatchEvent(l)}var _m=0;function x3(){R.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??s1()),document.body.insertAdjacentElement("beforeend",e[1]??s1()),_m++,()=>{_m===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),_m--}},[])}function s1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Om="focusScope.autoFocusOnMount",Mm="focusScope.autoFocusOnUnmount",o1={bubbles:!1,cancelable:!0},E3="FocusScope",yC=R.forwardRef((e,t)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:o,onUnmountAutoFocus:l,...u}=e,[f,d]=R.useState(null),p=ui(o),g=ui(l),y=R.useRef(null),v=An(t,w=>d(w)),S=R.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;R.useEffect(()=>{if(i){let w=function(M){if(S.paused||!f)return;const k=M.target;f.contains(k)?y.current=k:Hi(y.current,{select:!0})},A=function(M){if(S.paused||!f)return;const k=M.relatedTarget;k!==null&&(f.contains(k)||Hi(y.current,{select:!0}))},_=function(M){if(document.activeElement===document.body)for(const U of M)U.removedNodes.length>0&&Hi(f)};document.addEventListener("focusin",w),document.addEventListener("focusout",A);const I=new MutationObserver(_);return f&&I.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",A),I.disconnect()}}},[i,f,S.paused]),R.useEffect(()=>{if(f){l1.add(S);const w=document.activeElement;if(!f.contains(w)){const _=new CustomEvent(Om,o1);f.addEventListener(Om,p),f.dispatchEvent(_),_.defaultPrevented||(R3(O3(vC(f)),{select:!0}),document.activeElement===w&&Hi(f))}return()=>{f.removeEventListener(Om,p),setTimeout(()=>{const _=new CustomEvent(Mm,o1);f.addEventListener(Mm,g),f.dispatchEvent(_),_.defaultPrevented||Hi(w??document.body,{select:!0}),f.removeEventListener(Mm,g),l1.remove(S)},0)}}},[f,p,g,S]);const E=R.useCallback(w=>{if(!n&&!i||S.paused)return;const A=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,_=document.activeElement;if(A&&_){const I=w.currentTarget,[M,k]=A3(I);M&&k?!w.shiftKey&&_===k?(w.preventDefault(),n&&Hi(M,{select:!0})):w.shiftKey&&_===M&&(w.preventDefault(),n&&Hi(k,{select:!0})):_===I&&w.preventDefault()}},[n,i,S.paused]);return x.jsx(zt.div,{tabIndex:-1,...u,ref:v,onKeyDown:E})});yC.displayName=E3;function R3(e,{select:t=!1}={}){const n=document.activeElement;for(const i of e)if(Hi(i,{select:t}),document.activeElement!==n)return}function A3(e){const t=vC(e),n=a1(t,e),i=a1(t.reverse(),e);return[n,i]}function vC(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function a1(e,t){for(const n of e)if(!C3(n,{upTo:t}))return n}function C3(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function T3(e){return e instanceof HTMLInputElement&&"select"in e}function Hi(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&T3(e)&&t&&e.select()}}var l1=_3();function _3(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=c1(e,t),e.unshift(t)},remove(t){e=c1(e,t),e[0]?.resume()}}}function c1(e,t){const n=[...e],i=n.indexOf(t);return i!==-1&&n.splice(i,1),n}function O3(e){return e.filter(t=>t.tagName!=="A")}var M3=jy[" useId ".trim().toString()]||(()=>{}),N3=0;function sy(e){const[t,n]=R.useState(M3());return is(()=>{n(i=>i??String(N3++))},[e]),t?`radix-${t}`:""}const k3=["top","right","bottom","left"],ss=Math.min,jn=Math.max,jf=Math.round,Wu=Math.floor,kr=e=>({x:e,y:e}),$3={left:"right",right:"left",bottom:"top",top:"bottom"},L3={start:"end",end:"start"};function oy(e,t,n){return jn(e,ss(t,n))}function fi(e,t){return typeof e=="function"?e(t):e}function di(e){return e.split("-")[0]}function ba(e){return e.split("-")[1]}function iv(e){return e==="x"?"y":"x"}function sv(e){return e==="y"?"height":"width"}const D3=new Set(["top","bottom"]);function Nr(e){return D3.has(di(e))?"y":"x"}function ov(e){return iv(Nr(e))}function I3(e,t,n){n===void 0&&(n=!1);const i=ba(e),o=ov(e),l=sv(o);let u=o==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(u=Pf(u)),[u,Pf(u)]}function j3(e){const t=Pf(e);return[ay(e),t,ay(t)]}function ay(e){return e.replace(/start|end/g,t=>L3[t])}const u1=["left","right"],f1=["right","left"],P3=["top","bottom"],q3=["bottom","top"];function z3(e,t,n){switch(e){case"top":case"bottom":return n?t?f1:u1:t?u1:f1;case"left":case"right":return t?P3:q3;default:return[]}}function U3(e,t,n,i){const o=ba(e);let l=z3(di(e),n==="start",i);return o&&(l=l.map(u=>u+"-"+o),t&&(l=l.concat(l.map(ay)))),l}function Pf(e){return e.replace(/left|right|bottom|top/g,t=>$3[t])}function B3(e){return{top:0,right:0,bottom:0,left:0,...e}}function bC(e){return typeof e!="number"?B3(e):{top:e,right:e,bottom:e,left:e}}function qf(e){const{x:t,y:n,width:i,height:o}=e;return{width:i,height:o,top:n,left:t,right:t+i,bottom:n+o,x:t,y:n}}function d1(e,t,n){let{reference:i,floating:o}=e;const l=Nr(t),u=ov(t),f=sv(u),d=di(t),p=l==="y",g=i.x+i.width/2-o.width/2,y=i.y+i.height/2-o.height/2,v=i[f]/2-o[f]/2;let S;switch(d){case"top":S={x:g,y:i.y-o.height};break;case"bottom":S={x:g,y:i.y+i.height};break;case"right":S={x:i.x+i.width,y};break;case"left":S={x:i.x-o.width,y};break;default:S={x:i.x,y:i.y}}switch(ba(t)){case"start":S[u]-=v*(n&&p?-1:1);break;case"end":S[u]+=v*(n&&p?-1:1);break}return S}async function F3(e,t){var n;t===void 0&&(t={});const{x:i,y:o,platform:l,rects:u,elements:f,strategy:d}=e,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:y="floating",altBoundary:v=!1,padding:S=0}=fi(t,e),E=bC(S),A=f[v?y==="floating"?"reference":"floating":y],_=qf(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(A)))==null||n?A:A.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(f.floating)),boundary:p,rootBoundary:g,strategy:d})),I=y==="floating"?{x:i,y:o,width:u.floating.width,height:u.floating.height}:u.reference,M=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f.floating)),k=await(l.isElement==null?void 0:l.isElement(M))?await(l.getScale==null?void 0:l.getScale(M))||{x:1,y:1}:{x:1,y:1},U=qf(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:I,offsetParent:M,strategy:d}):I);return{top:(_.top-U.top+E.top)/k.y,bottom:(U.bottom-_.bottom+E.bottom)/k.y,left:(_.left-U.left+E.left)/k.x,right:(U.right-_.right+E.right)/k.x}}const V3=async(e,t,n)=>{const{placement:i="bottom",strategy:o="absolute",middleware:l=[],platform:u}=n,f=l.filter(Boolean),d=await(u.isRTL==null?void 0:u.isRTL(t));let p=await u.getElementRects({reference:e,floating:t,strategy:o}),{x:g,y}=d1(p,i,d),v=i,S={},E=0;for(let A=0;A<f.length;A++){var w;const{name:_,fn:I}=f[A],{x:M,y:k,data:U,reset:K}=await I({x:g,y,initialPlacement:i,placement:v,strategy:o,middlewareData:S,rects:p,platform:{...u,detectOverflow:(w=u.detectOverflow)!=null?w:F3},elements:{reference:e,floating:t}});g=M??g,y=k??y,S={...S,[_]:{...S[_],...U}},K&&E<=50&&(E++,typeof K=="object"&&(K.placement&&(v=K.placement),K.rects&&(p=K.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:o}):K.rects),{x:g,y}=d1(p,v,d)),A=-1)}return{x:g,y,placement:v,strategy:o,middlewareData:S}},K3=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:o,rects:l,platform:u,elements:f,middlewareData:d}=t,{element:p,padding:g=0}=fi(e,t)||{};if(p==null)return{};const y=bC(g),v={x:n,y:i},S=ov(o),E=sv(S),w=await u.getDimensions(p),A=S==="y",_=A?"top":"left",I=A?"bottom":"right",M=A?"clientHeight":"clientWidth",k=l.reference[E]+l.reference[S]-v[S]-l.floating[E],U=v[S]-l.reference[S],K=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let q=K?K[M]:0;(!q||!await(u.isElement==null?void 0:u.isElement(K)))&&(q=f.floating[M]||l.floating[E]);const L=k/2-U/2,W=q/2-w[E]/2-1,oe=ss(y[_],W),se=ss(y[I],W),ue=oe,ce=q-w[E]-se,X=q/2-w[E]/2+L,H=oy(ue,X,ce),N=!d.arrow&&ba(o)!=null&&X!==H&&l.reference[E]/2-(X<ue?oe:se)-w[E]/2<0,P=N?X<ue?X-ue:X-ce:0;return{[S]:v[S]+P,data:{[S]:H,centerOffset:X-H-P,...N&&{alignmentOffset:P}},reset:N}}}),H3=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:o,middlewareData:l,rects:u,initialPlacement:f,platform:d,elements:p}=t,{mainAxis:g=!0,crossAxis:y=!0,fallbackPlacements:v,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:w=!0,...A}=fi(e,t);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const _=di(o),I=Nr(f),M=di(f)===f,k=await(d.isRTL==null?void 0:d.isRTL(p.floating)),U=v||(M||!w?[Pf(f)]:j3(f)),K=E!=="none";!v&&K&&U.push(...U3(f,w,E,k));const q=[f,...U],L=await d.detectOverflow(t,A),W=[];let oe=((i=l.flip)==null?void 0:i.overflows)||[];if(g&&W.push(L[_]),y){const X=I3(o,u,k);W.push(L[X[0]],L[X[1]])}if(oe=[...oe,{placement:o,overflows:W}],!W.every(X=>X<=0)){var se,ue;const X=(((se=l.flip)==null?void 0:se.index)||0)+1,H=q[X];if(H&&(!(y==="alignment"?I!==Nr(H):!1)||oe.every(j=>Nr(j.placement)===I?j.overflows[0]>0:!0)))return{data:{index:X,overflows:oe},reset:{placement:H}};let N=(ue=oe.filter(P=>P.overflows[0]<=0).sort((P,j)=>P.overflows[1]-j.overflows[1])[0])==null?void 0:ue.placement;if(!N)switch(S){case"bestFit":{var ce;const P=(ce=oe.filter(j=>{if(K){const F=Nr(j.placement);return F===I||F==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(F=>F>0).reduce((F,re)=>F+re,0)]).sort((j,F)=>j[1]-F[1])[0])==null?void 0:ce[0];P&&(N=P);break}case"initialPlacement":N=f;break}if(o!==N)return{reset:{placement:N}}}return{}}}};function h1(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function p1(e){return k3.some(t=>e[t]>=0)}const G3=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n,platform:i}=t,{strategy:o="referenceHidden",...l}=fi(e,t);switch(o){case"referenceHidden":{const u=await i.detectOverflow(t,{...l,elementContext:"reference"}),f=h1(u,n.reference);return{data:{referenceHiddenOffsets:f,referenceHidden:p1(f)}}}case"escaped":{const u=await i.detectOverflow(t,{...l,altBoundary:!0}),f=h1(u,n.floating);return{data:{escapedOffsets:f,escaped:p1(f)}}}default:return{}}}}},wC=new Set(["left","top"]);async function Q3(e,t){const{placement:n,platform:i,elements:o}=e,l=await(i.isRTL==null?void 0:i.isRTL(o.floating)),u=di(n),f=ba(n),d=Nr(n)==="y",p=wC.has(u)?-1:1,g=l&&d?-1:1,y=fi(t,e);let{mainAxis:v,crossAxis:S,alignmentAxis:E}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return f&&typeof E=="number"&&(S=f==="end"?E*-1:E),d?{x:S*g,y:v*p}:{x:v*p,y:S*g}}const Y3=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:o,y:l,placement:u,middlewareData:f}=t,d=await Q3(t,e);return u===((n=f.offset)==null?void 0:n.placement)&&(i=f.arrow)!=null&&i.alignmentOffset?{}:{x:o+d.x,y:l+d.y,data:{...d,placement:u}}}}},X3=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:o,platform:l}=t,{mainAxis:u=!0,crossAxis:f=!1,limiter:d={fn:_=>{let{x:I,y:M}=_;return{x:I,y:M}}},...p}=fi(e,t),g={x:n,y:i},y=await l.detectOverflow(t,p),v=Nr(di(o)),S=iv(v);let E=g[S],w=g[v];if(u){const _=S==="y"?"top":"left",I=S==="y"?"bottom":"right",M=E+y[_],k=E-y[I];E=oy(M,E,k)}if(f){const _=v==="y"?"top":"left",I=v==="y"?"bottom":"right",M=w+y[_],k=w-y[I];w=oy(M,w,k)}const A=d.fn({...t,[S]:E,[v]:w});return{...A,data:{x:A.x-n,y:A.y-i,enabled:{[S]:u,[v]:f}}}}}},J3=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:i,placement:o,rects:l,middlewareData:u}=t,{offset:f=0,mainAxis:d=!0,crossAxis:p=!0}=fi(e,t),g={x:n,y:i},y=Nr(o),v=iv(y);let S=g[v],E=g[y];const w=fi(f,t),A=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(d){const M=v==="y"?"height":"width",k=l.reference[v]-l.floating[M]+A.mainAxis,U=l.reference[v]+l.reference[M]-A.mainAxis;S<k?S=k:S>U&&(S=U)}if(p){var _,I;const M=v==="y"?"width":"height",k=wC.has(di(o)),U=l.reference[y]-l.floating[M]+(k&&((_=u.offset)==null?void 0:_[y])||0)+(k?0:A.crossAxis),K=l.reference[y]+l.reference[M]+(k?0:((I=u.offset)==null?void 0:I[y])||0)-(k?A.crossAxis:0);E<U?E=U:E>K&&(E=K)}return{[v]:S,[y]:E}}}},Z3=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,i;const{placement:o,rects:l,platform:u,elements:f}=t,{apply:d=()=>{},...p}=fi(e,t),g=await u.detectOverflow(t,p),y=di(o),v=ba(o),S=Nr(o)==="y",{width:E,height:w}=l.floating;let A,_;y==="top"||y==="bottom"?(A=y,_=v===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(_=y,A=v==="end"?"top":"bottom");const I=w-g.top-g.bottom,M=E-g.left-g.right,k=ss(w-g[A],I),U=ss(E-g[_],M),K=!t.middlewareData.shift;let q=k,L=U;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(L=M),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(q=I),K&&!v){const oe=jn(g.left,0),se=jn(g.right,0),ue=jn(g.top,0),ce=jn(g.bottom,0);S?L=E-2*(oe!==0||se!==0?oe+se:jn(g.left,g.right)):q=w-2*(ue!==0||ce!==0?ue+ce:jn(g.top,g.bottom))}await d({...t,availableWidth:L,availableHeight:q});const W=await u.getDimensions(f.floating);return E!==W.width||w!==W.height?{reset:{rects:!0}}:{}}}};function hd(){return typeof window<"u"}function wa(e){return SC(e)?(e.nodeName||"").toLowerCase():"#document"}function Pn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Dr(e){var t;return(t=(SC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function SC(e){return hd()?e instanceof Node||e instanceof Pn(e).Node:!1}function fr(e){return hd()?e instanceof Element||e instanceof Pn(e).Element:!1}function Lr(e){return hd()?e instanceof HTMLElement||e instanceof Pn(e).HTMLElement:!1}function m1(e){return!hd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Pn(e).ShadowRoot}const W3=new Set(["inline","contents"]);function oc(e){const{overflow:t,overflowX:n,overflowY:i,display:o}=dr(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!W3.has(o)}const ez=new Set(["table","td","th"]);function tz(e){return ez.has(wa(e))}const nz=[":popover-open",":modal"];function pd(e){return nz.some(t=>{try{return e.matches(t)}catch{return!1}})}const rz=["transform","translate","scale","rotate","perspective"],iz=["transform","translate","scale","rotate","perspective","filter"],sz=["paint","layout","strict","content"];function av(e){const t=lv(),n=fr(e)?dr(e):e;return rz.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||iz.some(i=>(n.willChange||"").includes(i))||sz.some(i=>(n.contain||"").includes(i))}function oz(e){let t=os(e);for(;Lr(t)&&!fa(t);){if(av(t))return t;if(pd(t))return null;t=os(t)}return null}function lv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const az=new Set(["html","body","#document"]);function fa(e){return az.has(wa(e))}function dr(e){return Pn(e).getComputedStyle(e)}function md(e){return fr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function os(e){if(wa(e)==="html")return e;const t=e.assignedSlot||e.parentNode||m1(e)&&e.host||Dr(e);return m1(t)?t.host:t}function xC(e){const t=os(e);return fa(t)?e.ownerDocument?e.ownerDocument.body:e.body:Lr(t)&&oc(t)?t:xC(t)}function Xl(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=xC(e),l=o===((i=e.ownerDocument)==null?void 0:i.body),u=Pn(o);if(l){const f=ly(u);return t.concat(u,u.visualViewport||[],oc(o)?o:[],f&&n?Xl(f):[])}return t.concat(o,Xl(o,[],n))}function ly(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function EC(e){const t=dr(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const o=Lr(e),l=o?e.offsetWidth:n,u=o?e.offsetHeight:i,f=jf(n)!==l||jf(i)!==u;return f&&(n=l,i=u),{width:n,height:i,$:f}}function cv(e){return fr(e)?e:e.contextElement}function ia(e){const t=cv(e);if(!Lr(t))return kr(1);const n=t.getBoundingClientRect(),{width:i,height:o,$:l}=EC(t);let u=(l?jf(n.width):n.width)/i,f=(l?jf(n.height):n.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const lz=kr(0);function RC(e){const t=Pn(e);return!lv()||!t.visualViewport?lz:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function cz(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Pn(e)?!1:t}function Hs(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),l=cv(e);let u=kr(1);t&&(i?fr(i)&&(u=ia(i)):u=ia(e));const f=cz(l,n,i)?RC(l):kr(0);let d=(o.left+f.x)/u.x,p=(o.top+f.y)/u.y,g=o.width/u.x,y=o.height/u.y;if(l){const v=Pn(l),S=i&&fr(i)?Pn(i):i;let E=v,w=ly(E);for(;w&&i&&S!==E;){const A=ia(w),_=w.getBoundingClientRect(),I=dr(w),M=_.left+(w.clientLeft+parseFloat(I.paddingLeft))*A.x,k=_.top+(w.clientTop+parseFloat(I.paddingTop))*A.y;d*=A.x,p*=A.y,g*=A.x,y*=A.y,d+=M,p+=k,E=Pn(w),w=ly(E)}}return qf({width:g,height:y,x:d,y:p})}function gd(e,t){const n=md(e).scrollLeft;return t?t.left+n:Hs(Dr(e)).left+n}function AC(e,t){const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-gd(e,n),o=n.top+t.scrollTop;return{x:i,y:o}}function uz(e){let{elements:t,rect:n,offsetParent:i,strategy:o}=e;const l=o==="fixed",u=Dr(i),f=t?pd(t.floating):!1;if(i===u||f&&l)return n;let d={scrollLeft:0,scrollTop:0},p=kr(1);const g=kr(0),y=Lr(i);if((y||!y&&!l)&&((wa(i)!=="body"||oc(u))&&(d=md(i)),Lr(i))){const S=Hs(i);p=ia(i),g.x=S.x+i.clientLeft,g.y=S.y+i.clientTop}const v=u&&!y&&!l?AC(u,d):kr(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-d.scrollLeft*p.x+g.x+v.x,y:n.y*p.y-d.scrollTop*p.y+g.y+v.y}}function fz(e){return Array.from(e.getClientRects())}function dz(e){const t=Dr(e),n=md(e),i=e.ownerDocument.body,o=jn(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),l=jn(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let u=-n.scrollLeft+gd(e);const f=-n.scrollTop;return dr(i).direction==="rtl"&&(u+=jn(t.clientWidth,i.clientWidth)-o),{width:o,height:l,x:u,y:f}}const g1=25;function hz(e,t){const n=Pn(e),i=Dr(e),o=n.visualViewport;let l=i.clientWidth,u=i.clientHeight,f=0,d=0;if(o){l=o.width,u=o.height;const g=lv();(!g||g&&t==="fixed")&&(f=o.offsetLeft,d=o.offsetTop)}const p=gd(i);if(p<=0){const g=i.ownerDocument,y=g.body,v=getComputedStyle(y),S=g.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,E=Math.abs(i.clientWidth-y.clientWidth-S);E<=g1&&(l-=E)}else p<=g1&&(l+=p);return{width:l,height:u,x:f,y:d}}const pz=new Set(["absolute","fixed"]);function mz(e,t){const n=Hs(e,!0,t==="fixed"),i=n.top+e.clientTop,o=n.left+e.clientLeft,l=Lr(e)?ia(e):kr(1),u=e.clientWidth*l.x,f=e.clientHeight*l.y,d=o*l.x,p=i*l.y;return{width:u,height:f,x:d,y:p}}function y1(e,t,n){let i;if(t==="viewport")i=hz(e,n);else if(t==="document")i=dz(Dr(e));else if(fr(t))i=mz(t,n);else{const o=RC(e);i={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return qf(i)}function CC(e,t){const n=os(e);return n===t||!fr(n)||fa(n)?!1:dr(n).position==="fixed"||CC(n,t)}function gz(e,t){const n=t.get(e);if(n)return n;let i=Xl(e,[],!1).filter(f=>fr(f)&&wa(f)!=="body"),o=null;const l=dr(e).position==="fixed";let u=l?os(e):e;for(;fr(u)&&!fa(u);){const f=dr(u),d=av(u);!d&&f.position==="fixed"&&(o=null),(l?!d&&!o:!d&&f.position==="static"&&!!o&&pz.has(o.position)||oc(u)&&!d&&CC(e,u))?i=i.filter(g=>g!==u):o=f,u=os(u)}return t.set(e,i),i}function yz(e){let{element:t,boundary:n,rootBoundary:i,strategy:o}=e;const u=[...n==="clippingAncestors"?pd(t)?[]:gz(t,this._c):[].concat(n),i],f=u[0],d=u.reduce((p,g)=>{const y=y1(t,g,o);return p.top=jn(y.top,p.top),p.right=ss(y.right,p.right),p.bottom=ss(y.bottom,p.bottom),p.left=jn(y.left,p.left),p},y1(t,f,o));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function vz(e){const{width:t,height:n}=EC(e);return{width:t,height:n}}function bz(e,t,n){const i=Lr(t),o=Dr(t),l=n==="fixed",u=Hs(e,!0,l,t);let f={scrollLeft:0,scrollTop:0};const d=kr(0);function p(){d.x=gd(o)}if(i||!i&&!l)if((wa(t)!=="body"||oc(o))&&(f=md(t)),i){const S=Hs(t,!0,l,t);d.x=S.x+t.clientLeft,d.y=S.y+t.clientTop}else o&&p();l&&!i&&o&&p();const g=o&&!i&&!l?AC(o,f):kr(0),y=u.left+f.scrollLeft-d.x-g.x,v=u.top+f.scrollTop-d.y-g.y;return{x:y,y:v,width:u.width,height:u.height}}function Nm(e){return dr(e).position==="static"}function v1(e,t){if(!Lr(e)||dr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Dr(e)===n&&(n=n.ownerDocument.body),n}function TC(e,t){const n=Pn(e);if(pd(e))return n;if(!Lr(e)){let o=os(e);for(;o&&!fa(o);){if(fr(o)&&!Nm(o))return o;o=os(o)}return n}let i=v1(e,t);for(;i&&tz(i)&&Nm(i);)i=v1(i,t);return i&&fa(i)&&Nm(i)&&!av(i)?n:i||oz(e)||n}const wz=async function(e){const t=this.getOffsetParent||TC,n=this.getDimensions,i=await n(e.floating);return{reference:bz(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function Sz(e){return dr(e).direction==="rtl"}const xz={convertOffsetParentRelativeRectToViewportRelativeRect:uz,getDocumentElement:Dr,getClippingRect:yz,getOffsetParent:TC,getElementRects:wz,getClientRects:fz,getDimensions:vz,getScale:ia,isElement:fr,isRTL:Sz};function _C(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Ez(e,t){let n=null,i;const o=Dr(e);function l(){var f;clearTimeout(i),(f=n)==null||f.disconnect(),n=null}function u(f,d){f===void 0&&(f=!1),d===void 0&&(d=1),l();const p=e.getBoundingClientRect(),{left:g,top:y,width:v,height:S}=p;if(f||t(),!v||!S)return;const E=Wu(y),w=Wu(o.clientWidth-(g+v)),A=Wu(o.clientHeight-(y+S)),_=Wu(g),M={rootMargin:-E+"px "+-w+"px "+-A+"px "+-_+"px",threshold:jn(0,ss(1,d))||1};let k=!0;function U(K){const q=K[0].intersectionRatio;if(q!==d){if(!k)return u();q?u(!1,q):i=setTimeout(()=>{u(!1,1e-7)},1e3)}q===1&&!_C(p,e.getBoundingClientRect())&&u(),k=!1}try{n=new IntersectionObserver(U,{...M,root:o.ownerDocument})}catch{n=new IntersectionObserver(U,M)}n.observe(e)}return u(!0),l}function Rz(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:d=!1}=i,p=cv(e),g=o||l?[...p?Xl(p):[],...Xl(t)]:[];g.forEach(_=>{o&&_.addEventListener("scroll",n,{passive:!0}),l&&_.addEventListener("resize",n)});const y=p&&f?Ez(p,n):null;let v=-1,S=null;u&&(S=new ResizeObserver(_=>{let[I]=_;I&&I.target===p&&S&&(S.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var M;(M=S)==null||M.observe(t)})),n()}),p&&!d&&S.observe(p),S.observe(t));let E,w=d?Hs(e):null;d&&A();function A(){const _=Hs(e);w&&!_C(w,_)&&n(),w=_,E=requestAnimationFrame(A)}return n(),()=>{var _;g.forEach(I=>{o&&I.removeEventListener("scroll",n),l&&I.removeEventListener("resize",n)}),y?.(),(_=S)==null||_.disconnect(),S=null,d&&cancelAnimationFrame(E)}}const Az=Y3,Cz=X3,Tz=H3,_z=Z3,Oz=G3,b1=K3,Mz=J3,Nz=(e,t,n)=>{const i=new Map,o={platform:xz,...n},l={...o.platform,_c:i};return V3(e,t,{...o,platform:l})};var kz=typeof document<"u",$z=function(){},yf=kz?R.useLayoutEffect:$z;function zf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,i,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(i=n;i--!==0;)if(!zf(e[i],t[i]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(t,o[i]))return!1;for(i=n;i--!==0;){const l=o[i];if(!(l==="_owner"&&e.$$typeof)&&!zf(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function OC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function w1(e,t){const n=OC(e);return Math.round(t*n)/n}function km(e){const t=R.useRef(e);return yf(()=>{t.current=e}),t}function Lz(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:o,elements:{reference:l,floating:u}={},transform:f=!0,whileElementsMounted:d,open:p}=e,[g,y]=R.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[v,S]=R.useState(i);zf(v,i)||S(i);const[E,w]=R.useState(null),[A,_]=R.useState(null),I=R.useCallback(j=>{j!==K.current&&(K.current=j,w(j))},[]),M=R.useCallback(j=>{j!==q.current&&(q.current=j,_(j))},[]),k=l||E,U=u||A,K=R.useRef(null),q=R.useRef(null),L=R.useRef(g),W=d!=null,oe=km(d),se=km(o),ue=km(p),ce=R.useCallback(()=>{if(!K.current||!q.current)return;const j={placement:t,strategy:n,middleware:v};se.current&&(j.platform=se.current),Nz(K.current,q.current,j).then(F=>{const re={...F,isPositioned:ue.current!==!1};X.current&&!zf(L.current,re)&&(L.current=re,rc.flushSync(()=>{y(re)}))})},[v,t,n,se,ue]);yf(()=>{p===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,y(j=>({...j,isPositioned:!1})))},[p]);const X=R.useRef(!1);yf(()=>(X.current=!0,()=>{X.current=!1}),[]),yf(()=>{if(k&&(K.current=k),U&&(q.current=U),k&&U){if(oe.current)return oe.current(k,U,ce);ce()}},[k,U,ce,oe,W]);const H=R.useMemo(()=>({reference:K,floating:q,setReference:I,setFloating:M}),[I,M]),N=R.useMemo(()=>({reference:k,floating:U}),[k,U]),P=R.useMemo(()=>{const j={position:n,left:0,top:0};if(!N.floating)return j;const F=w1(N.floating,g.x),re=w1(N.floating,g.y);return f?{...j,transform:"translate("+F+"px, "+re+"px)",...OC(N.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:re}},[n,f,N.floating,g.x,g.y]);return R.useMemo(()=>({...g,update:ce,refs:H,elements:N,floatingStyles:P}),[g,ce,H,N,P])}const Dz=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:i,padding:o}=typeof e=="function"?e(n):e;return i&&t(i)?i.current!=null?b1({element:i.current,padding:o}).fn(n):{}:i?b1({element:i,padding:o}).fn(n):{}}}},Iz=(e,t)=>({...Az(e),options:[e,t]}),jz=(e,t)=>({...Cz(e),options:[e,t]}),Pz=(e,t)=>({...Mz(e),options:[e,t]}),qz=(e,t)=>({...Tz(e),options:[e,t]}),zz=(e,t)=>({..._z(e),options:[e,t]}),Uz=(e,t)=>({...Oz(e),options:[e,t]}),Bz=(e,t)=>({...Dz(e),options:[e,t]});var Fz="Arrow",MC=R.forwardRef((e,t)=>{const{children:n,width:i=10,height:o=5,...l}=e;return x.jsx(zt.svg,{...l,ref:t,width:i,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:x.jsx("polygon",{points:"0,0 30,0 15,10"})})});MC.displayName=Fz;var Vz=MC;function Kz(e){const[t,n]=R.useState(void 0);return is(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let u,f;if("borderBoxSize"in l){const d=l.borderBoxSize,p=Array.isArray(d)?d[0]:d;u=p.inlineSize,f=p.blockSize}else u=e.offsetWidth,f=e.offsetHeight;n({width:u,height:f})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else n(void 0)},[e]),t}var uv="Popper",[NC,kC]=va(uv),[Hz,$C]=NC(uv),LC=e=>{const{__scopePopper:t,children:n}=e,[i,o]=R.useState(null);return x.jsx(Hz,{scope:t,anchor:i,onAnchorChange:o,children:n})};LC.displayName=uv;var DC="PopperAnchor",IC=R.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:i,...o}=e,l=$C(DC,n),u=R.useRef(null),f=An(t,u),d=R.useRef(null);return R.useEffect(()=>{const p=d.current;d.current=i?.current||u.current,p!==d.current&&l.onAnchorChange(d.current)}),i?null:x.jsx(zt.div,{...o,ref:f})});IC.displayName=DC;var fv="PopperContent",[Gz,Qz]=NC(fv),jC=R.forwardRef((e,t)=>{const{__scopePopper:n,side:i="bottom",sideOffset:o=0,align:l="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:d=!0,collisionBoundary:p=[],collisionPadding:g=0,sticky:y="partial",hideWhenDetached:v=!1,updatePositionStrategy:S="optimized",onPlaced:E,...w}=e,A=$C(fv,n),[_,I]=R.useState(null),M=An(t,fe=>I(fe)),[k,U]=R.useState(null),K=Kz(k),q=K?.width??0,L=K?.height??0,W=i+(l!=="center"?"-"+l:""),oe=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},se=Array.isArray(p)?p:[p],ue=se.length>0,ce={padding:oe,boundary:se.filter(Xz),altBoundary:ue},{refs:X,floatingStyles:H,placement:N,isPositioned:P,middlewareData:j}=Lz({strategy:"fixed",placement:W,whileElementsMounted:(...fe)=>Rz(...fe,{animationFrame:S==="always"}),elements:{reference:A.anchor},middleware:[Iz({mainAxis:o+L,alignmentAxis:u}),d&&jz({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?Pz():void 0,...ce}),d&&qz({...ce}),zz({...ce,apply:({elements:fe,rects:de,availableWidth:Se,availableHeight:Ce})=>{const{width:Me,height:st}=de.reference,Dt=fe.floating.style;Dt.setProperty("--radix-popper-available-width",`${Se}px`),Dt.setProperty("--radix-popper-available-height",`${Ce}px`),Dt.setProperty("--radix-popper-anchor-width",`${Me}px`),Dt.setProperty("--radix-popper-anchor-height",`${st}px`)}}),k&&Bz({element:k,padding:f}),Jz({arrowWidth:q,arrowHeight:L}),v&&Uz({strategy:"referenceHidden",...ce})]}),[F,re]=zC(N),$=ui(E);is(()=>{P&&$?.()},[P,$]);const B=j.arrow?.x,Z=j.arrow?.y,ne=j.arrow?.centerOffset!==0,[le,pe]=R.useState();return is(()=>{_&&pe(window.getComputedStyle(_).zIndex)},[_]),x.jsx("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:P?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:le,"--radix-popper-transform-origin":[j.transformOrigin?.x,j.transformOrigin?.y].join(" "),...j.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:x.jsx(Gz,{scope:n,placedSide:F,onArrowChange:U,arrowX:B,arrowY:Z,shouldHideArrow:ne,children:x.jsx(zt.div,{"data-side":F,"data-align":re,...w,ref:M,style:{...w.style,animation:P?void 0:"none"}})})})});jC.displayName=fv;var PC="PopperArrow",Yz={top:"bottom",right:"left",bottom:"top",left:"right"},qC=R.forwardRef(function(t,n){const{__scopePopper:i,...o}=t,l=Qz(PC,i),u=Yz[l.placedSide];return x.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:x.jsx(Vz,{...o,ref:n,style:{...o.style,display:"block"}})})});qC.displayName=PC;function Xz(e){return e!==null}var Jz=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:i,middlewareData:o}=t,u=o.arrow?.centerOffset!==0,f=u?0:e.arrowWidth,d=u?0:e.arrowHeight,[p,g]=zC(n),y={start:"0%",center:"50%",end:"100%"}[g],v=(o.arrow?.x??0)+f/2,S=(o.arrow?.y??0)+d/2;let E="",w="";return p==="bottom"?(E=u?y:`${v}px`,w=`${-d}px`):p==="top"?(E=u?y:`${v}px`,w=`${i.floating.height+d}px`):p==="right"?(E=`${-d}px`,w=u?y:`${S}px`):p==="left"&&(E=`${i.floating.width+d}px`,w=u?y:`${S}px`),{data:{x:E,y:w}}}});function zC(e){const[t,n="center"]=e.split("-");return[t,n]}var Zz=LC,Wz=IC,eU=jC,tU=qC,nU="Portal",UC=R.forwardRef((e,t)=>{const{container:n,...i}=e,[o,l]=R.useState(!1);is(()=>l(!0),[]);const u=n||o&&globalThis?.document?.body;return u?dI.createPortal(x.jsx(zt.div,{...i,ref:t}),u):null});UC.displayName=nU;function rU(e,t){return R.useReducer((n,i)=>t[n][i]??n,e)}var ac=e=>{const{present:t,children:n}=e,i=iU(t),o=typeof n=="function"?n({present:i.isPresent}):R.Children.only(n),l=An(i.ref,sU(o));return typeof n=="function"||i.isPresent?R.cloneElement(o,{ref:l}):null};ac.displayName="Presence";function iU(e){const[t,n]=R.useState(),i=R.useRef(null),o=R.useRef(e),l=R.useRef("none"),u=e?"mounted":"unmounted",[f,d]=rU(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return R.useEffect(()=>{const p=ef(i.current);l.current=f==="mounted"?p:"none"},[f]),is(()=>{const p=i.current,g=o.current;if(g!==e){const v=l.current,S=ef(p);e?d("MOUNT"):S==="none"||p?.display==="none"?d("UNMOUNT"):d(g&&v!==S?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,d]),is(()=>{if(t){let p;const g=t.ownerDocument.defaultView??window,y=S=>{const w=ef(i.current).includes(CSS.escape(S.animationName));if(S.target===t&&w&&(d("ANIMATION_END"),!o.current)){const A=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=A)})}},v=S=>{S.target===t&&(l.current=ef(i.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",y),t.addEventListener("animationend",y),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",y),t.removeEventListener("animationend",y)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:R.useCallback(p=>{i.current=p?getComputedStyle(p):null,n(p)},[])}}function ef(e){return e?.animationName||"none"}function sU(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var $m="rovingFocusGroup.onEntryFocus",oU={bubbles:!1,cancelable:!0},lc="RovingFocusGroup",[cy,BC,aU]=hC(lc),[lU,yd]=va(lc,[aU]),[cU,uU]=lU(lc),FC=R.forwardRef((e,t)=>x.jsx(cy.Provider,{scope:e.__scopeRovingFocusGroup,children:x.jsx(cy.Slot,{scope:e.__scopeRovingFocusGroup,children:x.jsx(fU,{...e,ref:t})})}));FC.displayName=lc;var fU=R.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:i,loop:o=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:d,onEntryFocus:p,preventScrollOnEntryFocus:g=!1,...y}=e,v=R.useRef(null),S=An(t,v),E=rv(l),[w,A]=sc({prop:u,defaultProp:f??null,onChange:d,caller:lc}),[_,I]=R.useState(!1),M=ui(p),k=BC(n),U=R.useRef(!1),[K,q]=R.useState(0);return R.useEffect(()=>{const L=v.current;if(L)return L.addEventListener($m,M),()=>L.removeEventListener($m,M)},[M]),x.jsx(cU,{scope:n,orientation:i,dir:E,loop:o,currentTabStopId:w,onItemFocus:R.useCallback(L=>A(L),[A]),onItemShiftTab:R.useCallback(()=>I(!0),[]),onFocusableItemAdd:R.useCallback(()=>q(L=>L+1),[]),onFocusableItemRemove:R.useCallback(()=>q(L=>L-1),[]),children:x.jsx(zt.div,{tabIndex:_||K===0?-1:0,"data-orientation":i,...y,ref:S,style:{outline:"none",...e.style},onMouseDown:ze(e.onMouseDown,()=>{U.current=!0}),onFocus:ze(e.onFocus,L=>{const W=!U.current;if(L.target===L.currentTarget&&W&&!_){const oe=new CustomEvent($m,oU);if(L.currentTarget.dispatchEvent(oe),!oe.defaultPrevented){const se=k().filter(N=>N.focusable),ue=se.find(N=>N.active),ce=se.find(N=>N.id===w),H=[ue,ce,...se].filter(Boolean).map(N=>N.ref.current);HC(H,g)}}U.current=!1}),onBlur:ze(e.onBlur,()=>I(!1))})})}),VC="RovingFocusGroupItem",KC=R.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:i=!0,active:o=!1,tabStopId:l,children:u,...f}=e,d=sy(),p=l||d,g=uU(VC,n),y=g.currentTabStopId===p,v=BC(n),{onFocusableItemAdd:S,onFocusableItemRemove:E,currentTabStopId:w}=g;return R.useEffect(()=>{if(i)return S(),()=>E()},[i,S,E]),x.jsx(cy.ItemSlot,{scope:n,id:p,focusable:i,active:o,children:x.jsx(zt.span,{tabIndex:y?0:-1,"data-orientation":g.orientation,...f,ref:t,onMouseDown:ze(e.onMouseDown,A=>{i?g.onItemFocus(p):A.preventDefault()}),onFocus:ze(e.onFocus,()=>g.onItemFocus(p)),onKeyDown:ze(e.onKeyDown,A=>{if(A.key==="Tab"&&A.shiftKey){g.onItemShiftTab();return}if(A.target!==A.currentTarget)return;const _=pU(A,g.orientation,g.dir);if(_!==void 0){if(A.metaKey||A.ctrlKey||A.altKey||A.shiftKey)return;A.preventDefault();let M=v().filter(k=>k.focusable).map(k=>k.ref.current);if(_==="last")M.reverse();else if(_==="prev"||_==="next"){_==="prev"&&M.reverse();const k=M.indexOf(A.currentTarget);M=g.loop?mU(M,k+1):M.slice(k+1)}setTimeout(()=>HC(M))}}),children:typeof u=="function"?u({isCurrentTabStop:y,hasTabStop:w!=null}):u})})});KC.displayName=VC;var dU={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function hU(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function pU(e,t,n){const i=hU(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return dU[i]}function HC(e,t=!1){const n=document.activeElement;for(const i of e)if(i===n||(i.focus({preventScroll:t}),document.activeElement!==n))return}function mU(e,t){return e.map((n,i)=>e[(t+i)%e.length])}var GC=FC,QC=KC,gU=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},zo=new WeakMap,tf=new WeakMap,nf={},Lm=0,YC=function(e){return e&&(e.host||YC(e.parentNode))},yU=function(e,t){return t.map(function(n){if(e.contains(n))return n;var i=YC(n);return i&&e.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},vU=function(e,t,n,i){var o=yU(t,Array.isArray(e)?e:[e]);nf[n]||(nf[n]=new WeakMap);var l=nf[n],u=[],f=new Set,d=new Set(o),p=function(y){!y||f.has(y)||(f.add(y),p(y.parentNode))};o.forEach(p);var g=function(y){!y||d.has(y)||Array.prototype.forEach.call(y.children,function(v){if(f.has(v))g(v);else try{var S=v.getAttribute(i),E=S!==null&&S!=="false",w=(zo.get(v)||0)+1,A=(l.get(v)||0)+1;zo.set(v,w),l.set(v,A),u.push(v),w===1&&E&&tf.set(v,!0),A===1&&v.setAttribute(n,"true"),E||v.setAttribute(i,"true")}catch(_){console.error("aria-hidden: cannot operate on ",v,_)}})};return g(t),f.clear(),Lm++,function(){u.forEach(function(y){var v=zo.get(y)-1,S=l.get(y)-1;zo.set(y,v),l.set(y,S),v||(tf.has(y)||y.removeAttribute(i),tf.delete(y)),S||y.removeAttribute(n)}),Lm--,Lm||(zo=new WeakMap,zo=new WeakMap,tf=new WeakMap,nf={})}},bU=function(e,t,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),o=gU(e);return o?(i.push.apply(i,Array.from(o.querySelectorAll("[aria-live], script"))),vU(i,o,n,"aria-hidden")):function(){return null}},Or=function(){return Or=Object.assign||function(t){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},Or.apply(this,arguments)};function XC(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n}function wU(e,t,n){if(n||arguments.length===2)for(var i=0,o=t.length,l;i<o;i++)(l||!(i in t))&&(l||(l=Array.prototype.slice.call(t,0,i)),l[i]=t[i]);return e.concat(l||Array.prototype.slice.call(t))}var vf="right-scroll-bar-position",bf="width-before-scroll-bar",SU="with-scroll-bars-hidden",xU="--removed-body-scroll-bar-size";function Dm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function EU(e,t){var n=R.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(i){var o=n.value;o!==i&&(n.value=i,n.callback(i,o))}}}})[0];return n.callback=t,n.facade}var RU=typeof window<"u"?R.useLayoutEffect:R.useEffect,S1=new WeakMap;function AU(e,t){var n=EU(null,function(i){return e.forEach(function(o){return Dm(o,i)})});return RU(function(){var i=S1.get(n);if(i){var o=new Set(i),l=new Set(e),u=n.current;o.forEach(function(f){l.has(f)||Dm(f,null)}),l.forEach(function(f){o.has(f)||Dm(f,u)})}S1.set(n,e)},[e]),n}function CU(e){return e}function TU(e,t){t===void 0&&(t=CU);var n=[],i=!1,o={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(l){var u=t(l,i);return n.push(u),function(){n=n.filter(function(f){return f!==u})}},assignSyncMedium:function(l){for(i=!0;n.length;){var u=n;n=[],u.forEach(l)}n={push:function(f){return l(f)},filter:function(){return n}}},assignMedium:function(l){i=!0;var u=[];if(n.length){var f=n;n=[],f.forEach(l),u=n}var d=function(){var g=u;u=[],g.forEach(l)},p=function(){return Promise.resolve().then(d)};p(),n={push:function(g){u.push(g),p()},filter:function(g){return u=u.filter(g),n}}}};return o}function _U(e){e===void 0&&(e={});var t=TU(null);return t.options=Or({async:!0,ssr:!1},e),t}var JC=function(e){var t=e.sideCar,n=XC(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return R.createElement(i,Or({},n))};JC.isSideCarExport=!0;function OU(e,t){return e.useMedium(t),JC}var ZC=_U(),Im=function(){},vd=R.forwardRef(function(e,t){var n=R.useRef(null),i=R.useState({onScrollCapture:Im,onWheelCapture:Im,onTouchMoveCapture:Im}),o=i[0],l=i[1],u=e.forwardProps,f=e.children,d=e.className,p=e.removeScrollBar,g=e.enabled,y=e.shards,v=e.sideCar,S=e.noRelative,E=e.noIsolation,w=e.inert,A=e.allowPinchZoom,_=e.as,I=_===void 0?"div":_,M=e.gapMode,k=XC(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),U=v,K=AU([n,t]),q=Or(Or({},k),o);return R.createElement(R.Fragment,null,g&&R.createElement(U,{sideCar:ZC,removeScrollBar:p,shards:y,noRelative:S,noIsolation:E,inert:w,setCallbacks:l,allowPinchZoom:!!A,lockRef:n,gapMode:M}),u?R.cloneElement(R.Children.only(f),Or(Or({},q),{ref:K})):R.createElement(I,Or({},q,{className:d,ref:K}),f))});vd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};vd.classNames={fullWidth:bf,zeroRight:vf};var MU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function NU(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=MU();return t&&e.setAttribute("nonce",t),e}function kU(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function $U(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var LU=function(){var e=0,t=null;return{add:function(n){e==0&&(t=NU())&&(kU(t,n),$U(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},DU=function(){var e=LU();return function(t,n){R.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},WC=function(){var e=DU(),t=function(n){var i=n.styles,o=n.dynamic;return e(i,o),null};return t},IU={left:0,top:0,right:0,gap:0},jm=function(e){return parseInt(e||"",10)||0},jU=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],i=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[jm(n),jm(i),jm(o)]},PU=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return IU;var t=jU(e),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-n+t[2]-t[0])}},qU=WC(),sa="data-scroll-locked",zU=function(e,t,n,i){var o=e.left,l=e.top,u=e.right,f=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(SU,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(f,"px ").concat(i,`;
  }
  body[`).concat(sa,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(f,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(vf,` {
    right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(bf,` {
    margin-right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(vf," .").concat(vf,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(bf," .").concat(bf,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(sa,`] {
    `).concat(xU,": ").concat(f,`px;
  }
`)},x1=function(){var e=parseInt(document.body.getAttribute(sa)||"0",10);return isFinite(e)?e:0},UU=function(){R.useEffect(function(){return document.body.setAttribute(sa,(x1()+1).toString()),function(){var e=x1()-1;e<=0?document.body.removeAttribute(sa):document.body.setAttribute(sa,e.toString())}},[])},BU=function(e){var t=e.noRelative,n=e.noImportant,i=e.gapMode,o=i===void 0?"margin":i;UU();var l=R.useMemo(function(){return PU(o)},[o]);return R.createElement(qU,{styles:zU(l,!t,o,n?"":"!important")})},uy=!1;if(typeof window<"u")try{var rf=Object.defineProperty({},"passive",{get:function(){return uy=!0,!0}});window.addEventListener("test",rf,rf),window.removeEventListener("test",rf,rf)}catch{uy=!1}var Uo=uy?{passive:!1}:!1,FU=function(e){return e.tagName==="TEXTAREA"},eT=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!FU(e)&&n[t]==="visible")},VU=function(e){return eT(e,"overflowY")},KU=function(e){return eT(e,"overflowX")},E1=function(e,t){var n=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var o=tT(e,i);if(o){var l=nT(e,i),u=l[1],f=l[2];if(u>f)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},HU=function(e){var t=e.scrollTop,n=e.scrollHeight,i=e.clientHeight;return[t,n,i]},GU=function(e){var t=e.scrollLeft,n=e.scrollWidth,i=e.clientWidth;return[t,n,i]},tT=function(e,t){return e==="v"?VU(t):KU(t)},nT=function(e,t){return e==="v"?HU(t):GU(t)},QU=function(e,t){return e==="h"&&t==="rtl"?-1:1},YU=function(e,t,n,i,o){var l=QU(e,window.getComputedStyle(t).direction),u=l*i,f=n.target,d=t.contains(f),p=!1,g=u>0,y=0,v=0;do{if(!f)break;var S=nT(e,f),E=S[0],w=S[1],A=S[2],_=w-A-l*E;(E||_)&&tT(e,f)&&(y+=_,v+=E);var I=f.parentNode;f=I&&I.nodeType===Node.DOCUMENT_FRAGMENT_NODE?I.host:I}while(!d&&f!==document.body||d&&(t.contains(f)||t===f));return(g&&Math.abs(y)<1||!g&&Math.abs(v)<1)&&(p=!0),p},sf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},R1=function(e){return[e.deltaX,e.deltaY]},A1=function(e){return e&&"current"in e?e.current:e},XU=function(e,t){return e[0]===t[0]&&e[1]===t[1]},JU=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ZU=0,Bo=[];function WU(e){var t=R.useRef([]),n=R.useRef([0,0]),i=R.useRef(),o=R.useState(ZU++)[0],l=R.useState(WC)[0],u=R.useRef(e);R.useEffect(function(){u.current=e},[e]),R.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var w=wU([e.lockRef.current],(e.shards||[]).map(A1),!0).filter(Boolean);return w.forEach(function(A){return A.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),w.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var f=R.useCallback(function(w,A){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!u.current.allowPinchZoom;var _=sf(w),I=n.current,M="deltaX"in w?w.deltaX:I[0]-_[0],k="deltaY"in w?w.deltaY:I[1]-_[1],U,K=w.target,q=Math.abs(M)>Math.abs(k)?"h":"v";if("touches"in w&&q==="h"&&K.type==="range")return!1;var L=window.getSelection(),W=L&&L.anchorNode,oe=W?W===K||W.contains(K):!1;if(oe)return!1;var se=E1(q,K);if(!se)return!0;if(se?U=q:(U=q==="v"?"h":"v",se=E1(q,K)),!se)return!1;if(!i.current&&"changedTouches"in w&&(M||k)&&(i.current=U),!U)return!0;var ue=i.current||U;return YU(ue,A,w,ue==="h"?M:k)},[]),d=R.useCallback(function(w){var A=w;if(!(!Bo.length||Bo[Bo.length-1]!==l)){var _="deltaY"in A?R1(A):sf(A),I=t.current.filter(function(U){return U.name===A.type&&(U.target===A.target||A.target===U.shadowParent)&&XU(U.delta,_)})[0];if(I&&I.should){A.cancelable&&A.preventDefault();return}if(!I){var M=(u.current.shards||[]).map(A1).filter(Boolean).filter(function(U){return U.contains(A.target)}),k=M.length>0?f(A,M[0]):!u.current.noIsolation;k&&A.cancelable&&A.preventDefault()}}},[]),p=R.useCallback(function(w,A,_,I){var M={name:w,delta:A,target:_,should:I,shadowParent:eB(_)};t.current.push(M),setTimeout(function(){t.current=t.current.filter(function(k){return k!==M})},1)},[]),g=R.useCallback(function(w){n.current=sf(w),i.current=void 0},[]),y=R.useCallback(function(w){p(w.type,R1(w),w.target,f(w,e.lockRef.current))},[]),v=R.useCallback(function(w){p(w.type,sf(w),w.target,f(w,e.lockRef.current))},[]);R.useEffect(function(){return Bo.push(l),e.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:v}),document.addEventListener("wheel",d,Uo),document.addEventListener("touchmove",d,Uo),document.addEventListener("touchstart",g,Uo),function(){Bo=Bo.filter(function(w){return w!==l}),document.removeEventListener("wheel",d,Uo),document.removeEventListener("touchmove",d,Uo),document.removeEventListener("touchstart",g,Uo)}},[]);var S=e.removeScrollBar,E=e.inert;return R.createElement(R.Fragment,null,E?R.createElement(l,{styles:JU(o)}):null,S?R.createElement(BU,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function eB(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const tB=OU(ZC,WU);var rT=R.forwardRef(function(e,t){return R.createElement(vd,Or({},e,{ref:t,sideCar:tB}))});rT.classNames=vd.classNames;var fy=["Enter"," "],nB=["ArrowDown","PageUp","Home"],iT=["ArrowUp","PageDown","End"],rB=[...nB,...iT],iB={ltr:[...fy,"ArrowRight"],rtl:[...fy,"ArrowLeft"]},sB={ltr:["ArrowLeft"],rtl:["ArrowRight"]},cc="Menu",[Jl,oB,aB]=hC(cc),[Xs,sT]=va(cc,[aB,kC,yd]),bd=kC(),oT=yd(),[lB,Js]=Xs(cc),[cB,uc]=Xs(cc),aT=e=>{const{__scopeMenu:t,open:n=!1,children:i,dir:o,onOpenChange:l,modal:u=!0}=e,f=bd(t),[d,p]=R.useState(null),g=R.useRef(!1),y=ui(l),v=rv(o);return R.useEffect(()=>{const S=()=>{g.current=!0,document.addEventListener("pointerdown",E,{capture:!0,once:!0}),document.addEventListener("pointermove",E,{capture:!0,once:!0})},E=()=>g.current=!1;return document.addEventListener("keydown",S,{capture:!0}),()=>{document.removeEventListener("keydown",S,{capture:!0}),document.removeEventListener("pointerdown",E,{capture:!0}),document.removeEventListener("pointermove",E,{capture:!0})}},[]),x.jsx(Zz,{...f,children:x.jsx(lB,{scope:t,open:n,onOpenChange:y,content:d,onContentChange:p,children:x.jsx(cB,{scope:t,onClose:R.useCallback(()=>y(!1),[y]),isUsingKeyboardRef:g,dir:v,modal:u,children:i})})})};aT.displayName=cc;var uB="MenuAnchor",dv=R.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e,o=bd(n);return x.jsx(Wz,{...o,...i,ref:t})});dv.displayName=uB;var hv="MenuPortal",[fB,lT]=Xs(hv,{forceMount:void 0}),cT=e=>{const{__scopeMenu:t,forceMount:n,children:i,container:o}=e,l=Js(hv,t);return x.jsx(fB,{scope:t,forceMount:n,children:x.jsx(ac,{present:n||l.open,children:x.jsx(UC,{asChild:!0,container:o,children:i})})})};cT.displayName=hv;var rr="MenuContent",[dB,pv]=Xs(rr),uT=R.forwardRef((e,t)=>{const n=lT(rr,e.__scopeMenu),{forceMount:i=n.forceMount,...o}=e,l=Js(rr,e.__scopeMenu),u=uc(rr,e.__scopeMenu);return x.jsx(Jl.Provider,{scope:e.__scopeMenu,children:x.jsx(ac,{present:i||l.open,children:x.jsx(Jl.Slot,{scope:e.__scopeMenu,children:u.modal?x.jsx(hB,{...o,ref:t}):x.jsx(pB,{...o,ref:t})})})})}),hB=R.forwardRef((e,t)=>{const n=Js(rr,e.__scopeMenu),i=R.useRef(null),o=An(t,i);return R.useEffect(()=>{const l=i.current;if(l)return bU(l)},[]),x.jsx(mv,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ze(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),pB=R.forwardRef((e,t)=>{const n=Js(rr,e.__scopeMenu);return x.jsx(mv,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),mB=If("MenuContent.ScrollLock"),mv=R.forwardRef((e,t)=>{const{__scopeMenu:n,loop:i=!1,trapFocus:o,onOpenAutoFocus:l,onCloseAutoFocus:u,disableOutsidePointerEvents:f,onEntryFocus:d,onEscapeKeyDown:p,onPointerDownOutside:g,onFocusOutside:y,onInteractOutside:v,onDismiss:S,disableOutsideScroll:E,...w}=e,A=Js(rr,n),_=uc(rr,n),I=bd(n),M=oT(n),k=oB(n),[U,K]=R.useState(null),q=R.useRef(null),L=An(t,q,A.onContentChange),W=R.useRef(0),oe=R.useRef(""),se=R.useRef(0),ue=R.useRef(null),ce=R.useRef("right"),X=R.useRef(0),H=E?rT:R.Fragment,N=E?{as:mB,allowPinchZoom:!0}:void 0,P=F=>{const re=oe.current+F,$=k().filter(fe=>!fe.disabled),B=document.activeElement,Z=$.find(fe=>fe.ref.current===B)?.textValue,ne=$.map(fe=>fe.textValue),le=TB(ne,re,Z),pe=$.find(fe=>fe.textValue===le)?.ref.current;(function fe(de){oe.current=de,window.clearTimeout(W.current),de!==""&&(W.current=window.setTimeout(()=>fe(""),1e3))})(re),pe&&setTimeout(()=>pe.focus())};R.useEffect(()=>()=>window.clearTimeout(W.current),[]),x3();const j=R.useCallback(F=>ce.current===ue.current?.side&&OB(F,ue.current?.area),[]);return x.jsx(dB,{scope:n,searchRef:oe,onItemEnter:R.useCallback(F=>{j(F)&&F.preventDefault()},[j]),onItemLeave:R.useCallback(F=>{j(F)||(q.current?.focus(),K(null))},[j]),onTriggerLeave:R.useCallback(F=>{j(F)&&F.preventDefault()},[j]),pointerGraceTimerRef:se,onPointerGraceIntentChange:R.useCallback(F=>{ue.current=F},[]),children:x.jsx(H,{...N,children:x.jsx(yC,{asChild:!0,trapped:o,onMountAutoFocus:ze(l,F=>{F.preventDefault(),q.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:x.jsx(mC,{asChild:!0,disableOutsidePointerEvents:f,onEscapeKeyDown:p,onPointerDownOutside:g,onFocusOutside:y,onInteractOutside:v,onDismiss:S,children:x.jsx(GC,{asChild:!0,...M,dir:_.dir,orientation:"vertical",loop:i,currentTabStopId:U,onCurrentTabStopIdChange:K,onEntryFocus:ze(d,F=>{_.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:x.jsx(eU,{role:"menu","aria-orientation":"vertical","data-state":CT(A.open),"data-radix-menu-content":"",dir:_.dir,...I,...w,ref:L,style:{outline:"none",...w.style},onKeyDown:ze(w.onKeyDown,F=>{const $=F.target.closest("[data-radix-menu-content]")===F.currentTarget,B=F.ctrlKey||F.altKey||F.metaKey,Z=F.key.length===1;$&&(F.key==="Tab"&&F.preventDefault(),!B&&Z&&P(F.key));const ne=q.current;if(F.target!==ne||!rB.includes(F.key))return;F.preventDefault();const pe=k().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);iT.includes(F.key)&&pe.reverse(),AB(pe)}),onBlur:ze(e.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(W.current),oe.current="")}),onPointerMove:ze(e.onPointerMove,Zl(F=>{const re=F.target,$=X.current!==F.clientX;if(F.currentTarget.contains(re)&&$){const B=F.clientX>X.current?"right":"left";ce.current=B,X.current=F.clientX}}))})})})})})})});uT.displayName=rr;var gB="MenuGroup",gv=R.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e;return x.jsx(zt.div,{role:"group",...i,ref:t})});gv.displayName=gB;var yB="MenuLabel",fT=R.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e;return x.jsx(zt.div,{...i,ref:t})});fT.displayName=yB;var Uf="MenuItem",C1="menu.itemSelect",wd=R.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:i,...o}=e,l=R.useRef(null),u=uc(Uf,e.__scopeMenu),f=pv(Uf,e.__scopeMenu),d=An(t,l),p=R.useRef(!1),g=()=>{const y=l.current;if(!n&&y){const v=new CustomEvent(C1,{bubbles:!0,cancelable:!0});y.addEventListener(C1,S=>i?.(S),{once:!0}),dC(y,v),v.defaultPrevented?p.current=!1:u.onClose()}};return x.jsx(dT,{...o,ref:d,disabled:n,onClick:ze(e.onClick,g),onPointerDown:y=>{e.onPointerDown?.(y),p.current=!0},onPointerUp:ze(e.onPointerUp,y=>{p.current||y.currentTarget?.click()}),onKeyDown:ze(e.onKeyDown,y=>{const v=f.searchRef.current!=="";n||v&&y.key===" "||fy.includes(y.key)&&(y.currentTarget.click(),y.preventDefault())})})});wd.displayName=Uf;var dT=R.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:i=!1,textValue:o,...l}=e,u=pv(Uf,n),f=oT(n),d=R.useRef(null),p=An(t,d),[g,y]=R.useState(!1),[v,S]=R.useState("");return R.useEffect(()=>{const E=d.current;E&&S((E.textContent??"").trim())},[l.children]),x.jsx(Jl.ItemSlot,{scope:n,disabled:i,textValue:o??v,children:x.jsx(QC,{asChild:!0,...f,focusable:!i,children:x.jsx(zt.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":i||void 0,"data-disabled":i?"":void 0,...l,ref:p,onPointerMove:ze(e.onPointerMove,Zl(E=>{i?u.onItemLeave(E):(u.onItemEnter(E),E.defaultPrevented||E.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ze(e.onPointerLeave,Zl(E=>u.onItemLeave(E))),onFocus:ze(e.onFocus,()=>y(!0)),onBlur:ze(e.onBlur,()=>y(!1))})})})}),vB="MenuCheckboxItem",hT=R.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:i,...o}=e;return x.jsx(vT,{scope:e.__scopeMenu,checked:n,children:x.jsx(wd,{role:"menuitemcheckbox","aria-checked":Bf(n)?"mixed":n,...o,ref:t,"data-state":vv(n),onSelect:ze(o.onSelect,()=>i?.(Bf(n)?!0:!n),{checkForDefaultPrevented:!1})})})});hT.displayName=vB;var pT="MenuRadioGroup",[bB,wB]=Xs(pT,{value:void 0,onValueChange:()=>{}}),mT=R.forwardRef((e,t)=>{const{value:n,onValueChange:i,...o}=e,l=ui(i);return x.jsx(bB,{scope:e.__scopeMenu,value:n,onValueChange:l,children:x.jsx(gv,{...o,ref:t})})});mT.displayName=pT;var gT="MenuRadioItem",yT=R.forwardRef((e,t)=>{const{value:n,...i}=e,o=wB(gT,e.__scopeMenu),l=n===o.value;return x.jsx(vT,{scope:e.__scopeMenu,checked:l,children:x.jsx(wd,{role:"menuitemradio","aria-checked":l,...i,ref:t,"data-state":vv(l),onSelect:ze(i.onSelect,()=>o.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});yT.displayName=gT;var yv="MenuItemIndicator",[vT,SB]=Xs(yv,{checked:!1}),bT=R.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:i,...o}=e,l=SB(yv,n);return x.jsx(ac,{present:i||Bf(l.checked)||l.checked===!0,children:x.jsx(zt.span,{...o,ref:t,"data-state":vv(l.checked)})})});bT.displayName=yv;var xB="MenuSeparator",wT=R.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e;return x.jsx(zt.div,{role:"separator","aria-orientation":"horizontal",...i,ref:t})});wT.displayName=xB;var EB="MenuArrow",ST=R.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e,o=bd(n);return x.jsx(tU,{...o,...i,ref:t})});ST.displayName=EB;var RB="MenuSub",[Q7,xT]=Xs(RB),kl="MenuSubTrigger",ET=R.forwardRef((e,t)=>{const n=Js(kl,e.__scopeMenu),i=uc(kl,e.__scopeMenu),o=xT(kl,e.__scopeMenu),l=pv(kl,e.__scopeMenu),u=R.useRef(null),{pointerGraceTimerRef:f,onPointerGraceIntentChange:d}=l,p={__scopeMenu:e.__scopeMenu},g=R.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return R.useEffect(()=>g,[g]),R.useEffect(()=>{const y=f.current;return()=>{window.clearTimeout(y),d(null)}},[f,d]),x.jsx(dv,{asChild:!0,...p,children:x.jsx(dT,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":CT(n.open),...e,ref:dd(t,o.onTriggerChange),onClick:y=>{e.onClick?.(y),!(e.disabled||y.defaultPrevented)&&(y.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ze(e.onPointerMove,Zl(y=>{l.onItemEnter(y),!y.defaultPrevented&&!e.disabled&&!n.open&&!u.current&&(l.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{n.onOpenChange(!0),g()},100))})),onPointerLeave:ze(e.onPointerLeave,Zl(y=>{g();const v=n.content?.getBoundingClientRect();if(v){const S=n.content?.dataset.side,E=S==="right",w=E?-5:5,A=v[E?"left":"right"],_=v[E?"right":"left"];l.onPointerGraceIntentChange({area:[{x:y.clientX+w,y:y.clientY},{x:A,y:v.top},{x:_,y:v.top},{x:_,y:v.bottom},{x:A,y:v.bottom}],side:S}),window.clearTimeout(f.current),f.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(y),y.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:ze(e.onKeyDown,y=>{const v=l.searchRef.current!=="";e.disabled||v&&y.key===" "||iB[i.dir].includes(y.key)&&(n.onOpenChange(!0),n.content?.focus(),y.preventDefault())})})})});ET.displayName=kl;var RT="MenuSubContent",AT=R.forwardRef((e,t)=>{const n=lT(rr,e.__scopeMenu),{forceMount:i=n.forceMount,...o}=e,l=Js(rr,e.__scopeMenu),u=uc(rr,e.__scopeMenu),f=xT(RT,e.__scopeMenu),d=R.useRef(null),p=An(t,d);return x.jsx(Jl.Provider,{scope:e.__scopeMenu,children:x.jsx(ac,{present:i||l.open,children:x.jsx(Jl.Slot,{scope:e.__scopeMenu,children:x.jsx(mv,{id:f.contentId,"aria-labelledby":f.triggerId,...o,ref:p,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{u.isUsingKeyboardRef.current&&d.current?.focus(),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:ze(e.onFocusOutside,g=>{g.target!==f.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:ze(e.onEscapeKeyDown,g=>{u.onClose(),g.preventDefault()}),onKeyDown:ze(e.onKeyDown,g=>{const y=g.currentTarget.contains(g.target),v=sB[u.dir].includes(g.key);y&&v&&(l.onOpenChange(!1),f.trigger?.focus(),g.preventDefault())})})})})})});AT.displayName=RT;function CT(e){return e?"open":"closed"}function Bf(e){return e==="indeterminate"}function vv(e){return Bf(e)?"indeterminate":e?"checked":"unchecked"}function AB(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function CB(e,t){return e.map((n,i)=>e[(t+i)%e.length])}function TB(e,t,n){const o=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,l=n?e.indexOf(n):-1;let u=CB(e,Math.max(l,0));o.length===1&&(u=u.filter(p=>p!==n));const d=u.find(p=>p.toLowerCase().startsWith(o.toLowerCase()));return d!==n?d:void 0}function _B(e,t){const{x:n,y:i}=e;let o=!1;for(let l=0,u=t.length-1;l<t.length;u=l++){const f=t[l],d=t[u],p=f.x,g=f.y,y=d.x,v=d.y;g>i!=v>i&&n<(y-p)*(i-g)/(v-g)+p&&(o=!o)}return o}function OB(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return _B(n,t)}function Zl(e){return t=>t.pointerType==="mouse"?e(t):void 0}var MB=aT,NB=dv,kB=cT,$B=uT,LB=gv,DB=fT,IB=wd,jB=hT,PB=mT,qB=yT,zB=bT,UB=wT,BB=ST,FB=ET,VB=AT,Sd="DropdownMenu",[KB]=va(Sd,[sT]),ln=sT(),[HB,TT]=KB(Sd),_T=e=>{const{__scopeDropdownMenu:t,children:n,dir:i,open:o,defaultOpen:l,onOpenChange:u,modal:f=!0}=e,d=ln(t),p=R.useRef(null),[g,y]=sc({prop:o,defaultProp:l??!1,onChange:u,caller:Sd});return x.jsx(HB,{scope:t,triggerId:sy(),triggerRef:p,contentId:sy(),open:g,onOpenChange:y,onOpenToggle:R.useCallback(()=>y(v=>!v),[y]),modal:f,children:x.jsx(MB,{...d,open:g,onOpenChange:y,dir:i,modal:f,children:n})})};_T.displayName=Sd;var OT="DropdownMenuTrigger",MT=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:i=!1,...o}=e,l=TT(OT,n),u=ln(n);return x.jsx(NB,{asChild:!0,...u,children:x.jsx(zt.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":i?"":void 0,disabled:i,...o,ref:dd(t,l.triggerRef),onPointerDown:ze(e.onPointerDown,f=>{!i&&f.button===0&&f.ctrlKey===!1&&(l.onOpenToggle(),l.open||f.preventDefault())}),onKeyDown:ze(e.onKeyDown,f=>{i||(["Enter"," "].includes(f.key)&&l.onOpenToggle(),f.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(f.key)&&f.preventDefault())})})})});MT.displayName=OT;var GB="DropdownMenuPortal",NT=e=>{const{__scopeDropdownMenu:t,...n}=e,i=ln(t);return x.jsx(kB,{...i,...n})};NT.displayName=GB;var kT="DropdownMenuContent",$T=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,o=TT(kT,n),l=ln(n),u=R.useRef(!1);return x.jsx($B,{id:o.contentId,"aria-labelledby":o.triggerId,...l,...i,ref:t,onCloseAutoFocus:ze(e.onCloseAutoFocus,f=>{u.current||o.triggerRef.current?.focus(),u.current=!1,f.preventDefault()}),onInteractOutside:ze(e.onInteractOutside,f=>{const d=f.detail.originalEvent,p=d.button===0&&d.ctrlKey===!0,g=d.button===2||p;(!o.modal||g)&&(u.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$T.displayName=kT;var QB="DropdownMenuGroup",YB=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,o=ln(n);return x.jsx(LB,{...o,...i,ref:t})});YB.displayName=QB;var XB="DropdownMenuLabel",JB=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,o=ln(n);return x.jsx(DB,{...o,...i,ref:t})});JB.displayName=XB;var ZB="DropdownMenuItem",LT=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,o=ln(n);return x.jsx(IB,{...o,...i,ref:t})});LT.displayName=ZB;var WB="DropdownMenuCheckboxItem",e4=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,o=ln(n);return x.jsx(jB,{...o,...i,ref:t})});e4.displayName=WB;var t4="DropdownMenuRadioGroup",n4=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,o=ln(n);return x.jsx(PB,{...o,...i,ref:t})});n4.displayName=t4;var r4="DropdownMenuRadioItem",i4=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,o=ln(n);return x.jsx(qB,{...o,...i,ref:t})});i4.displayName=r4;var s4="DropdownMenuItemIndicator",o4=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,o=ln(n);return x.jsx(zB,{...o,...i,ref:t})});o4.displayName=s4;var a4="DropdownMenuSeparator",DT=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,o=ln(n);return x.jsx(UB,{...o,...i,ref:t})});DT.displayName=a4;var l4="DropdownMenuArrow",c4=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,o=ln(n);return x.jsx(BB,{...o,...i,ref:t})});c4.displayName=l4;var u4="DropdownMenuSubTrigger",f4=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,o=ln(n);return x.jsx(FB,{...o,...i,ref:t})});f4.displayName=u4;var d4="DropdownMenuSubContent",h4=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,o=ln(n);return x.jsx(VB,{...o,...i,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});h4.displayName=d4;var p4=_T,m4=MT,g4=NT,IT=$T,jT=LT,PT=DT;function qT(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=qT(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function y4(){for(var e,t,n=0,i="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=qT(e))&&(i&&(i+=" "),i+=t);return i}const v4=(e,t)=>{const n=new Array(e.length+t.length);for(let i=0;i<e.length;i++)n[i]=e[i];for(let i=0;i<t.length;i++)n[e.length+i]=t[i];return n},b4=(e,t)=>({classGroupId:e,validator:t}),zT=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),Ff="-",T1=[],w4="arbitrary..",S4=e=>{const t=E4(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return x4(u);const f=u.split(Ff),d=f[0]===""&&f.length>1?1:0;return UT(f,d,t)},getConflictingClassGroupIds:(u,f)=>{if(f){const d=i[u],p=n[u];return d?p?v4(p,d):d:p||T1}return n[u]||T1}}},UT=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const o=e[t],l=n.nextPart.get(o);if(l){const p=UT(e,t+1,l);if(p)return p}const u=n.validators;if(u===null)return;const f=t===0?e.join(Ff):e.slice(t).join(Ff),d=u.length;for(let p=0;p<d;p++){const g=u[p];if(g.validator(f))return g.classGroupId}},x4=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),i=t.slice(0,n);return i?w4+i:void 0})(),E4=e=>{const{theme:t,classGroups:n}=e;return R4(n,t)},R4=(e,t)=>{const n=zT();for(const i in e){const o=e[i];bv(o,n,i,t)}return n},bv=(e,t,n,i)=>{const o=e.length;for(let l=0;l<o;l++){const u=e[l];A4(u,t,n,i)}},A4=(e,t,n,i)=>{if(typeof e=="string"){C4(e,t,n);return}if(typeof e=="function"){T4(e,t,n,i);return}_4(e,t,n,i)},C4=(e,t,n)=>{const i=e===""?t:BT(t,e);i.classGroupId=n},T4=(e,t,n,i)=>{if(O4(e)){bv(e(i),t,n,i);return}t.validators===null&&(t.validators=[]),t.validators.push(b4(n,e))},_4=(e,t,n,i)=>{const o=Object.entries(e),l=o.length;for(let u=0;u<l;u++){const[f,d]=o[u];bv(d,BT(t,f),n,i)}},BT=(e,t)=>{let n=e;const i=t.split(Ff),o=i.length;for(let l=0;l<o;l++){const u=i[l];let f=n.nextPart.get(u);f||(f=zT(),n.nextPart.set(u,f)),n=f}return n},O4=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,M4=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),i=Object.create(null);const o=(l,u)=>{n[l]=u,t++,t>e&&(t=0,i=n,n=Object.create(null))};return{get(l){let u=n[l];if(u!==void 0)return u;if((u=i[l])!==void 0)return o(l,u),u},set(l,u){l in n?n[l]=u:o(l,u)}}},dy="!",_1=":",N4=[],O1=(e,t,n,i,o)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:i,isExternal:o}),k4=e=>{const{prefix:t,experimentalParseClassName:n}=e;let i=o=>{const l=[];let u=0,f=0,d=0,p;const g=o.length;for(let w=0;w<g;w++){const A=o[w];if(u===0&&f===0){if(A===_1){l.push(o.slice(d,w)),d=w+1;continue}if(A==="/"){p=w;continue}}A==="["?u++:A==="]"?u--:A==="("?f++:A===")"&&f--}const y=l.length===0?o:o.slice(d);let v=y,S=!1;y.endsWith(dy)?(v=y.slice(0,-1),S=!0):y.startsWith(dy)&&(v=y.slice(1),S=!0);const E=p&&p>d?p-d:void 0;return O1(l,S,v,E)};if(t){const o=t+_1,l=i;i=u=>u.startsWith(o)?l(u.slice(o.length)):O1(N4,!1,u,void 0,!0)}if(n){const o=i;i=l=>n({className:l,parseClassName:o})}return i},$4=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,i)=>{t.set(n,1e6+i)}),n=>{const i=[];let o=[];for(let l=0;l<n.length;l++){const u=n[l],f=u[0]==="[",d=t.has(u);f||d?(o.length>0&&(o.sort(),i.push(...o),o=[]),i.push(u)):o.push(u)}return o.length>0&&(o.sort(),i.push(...o)),i}},L4=e=>({cache:M4(e.cacheSize),parseClassName:k4(e),sortModifiers:$4(e),...S4(e)}),D4=/\s+/,I4=(e,t)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:o,sortModifiers:l}=t,u=[],f=e.trim().split(D4);let d="";for(let p=f.length-1;p>=0;p-=1){const g=f[p],{isExternal:y,modifiers:v,hasImportantModifier:S,baseClassName:E,maybePostfixModifierPosition:w}=n(g);if(y){d=g+(d.length>0?" "+d:d);continue}let A=!!w,_=i(A?E.substring(0,w):E);if(!_){if(!A){d=g+(d.length>0?" "+d:d);continue}if(_=i(E),!_){d=g+(d.length>0?" "+d:d);continue}A=!1}const I=v.length===0?"":v.length===1?v[0]:l(v).join(":"),M=S?I+dy:I,k=M+_;if(u.indexOf(k)>-1)continue;u.push(k);const U=o(_,A);for(let K=0;K<U.length;++K){const q=U[K];u.push(M+q)}d=g+(d.length>0?" "+d:d)}return d},j4=(...e)=>{let t=0,n,i,o="";for(;t<e.length;)(n=e[t++])&&(i=FT(n))&&(o&&(o+=" "),o+=i);return o},FT=e=>{if(typeof e=="string")return e;let t,n="";for(let i=0;i<e.length;i++)e[i]&&(t=FT(e[i]))&&(n&&(n+=" "),n+=t);return n},P4=(e,...t)=>{let n,i,o,l;const u=d=>{const p=t.reduce((g,y)=>y(g),e());return n=L4(p),i=n.cache.get,o=n.cache.set,l=f,f(d)},f=d=>{const p=i(d);if(p)return p;const g=I4(d,n);return o(d,g),g};return l=u,(...d)=>l(j4(...d))},q4=[],Mt=e=>{const t=n=>n[e]||q4;return t.isThemeGetter=!0,t},VT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,KT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,z4=/^\d+\/\d+$/,U4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,B4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,F4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,V4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,K4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Fo=e=>z4.test(e),ke=e=>!!e&&!Number.isNaN(Number(e)),Vi=e=>!!e&&Number.isInteger(Number(e)),Pm=e=>e.endsWith("%")&&ke(e.slice(0,-1)),si=e=>U4.test(e),H4=()=>!0,G4=e=>B4.test(e)&&!F4.test(e),HT=()=>!1,Q4=e=>V4.test(e),Y4=e=>K4.test(e),X4=e=>!ge(e)&&!ye(e),J4=e=>Sa(e,YT,HT),ge=e=>VT.test(e),ks=e=>Sa(e,XT,G4),qm=e=>Sa(e,n6,ke),M1=e=>Sa(e,GT,HT),Z4=e=>Sa(e,QT,Y4),of=e=>Sa(e,JT,Q4),ye=e=>KT.test(e),_l=e=>xa(e,XT),W4=e=>xa(e,r6),N1=e=>xa(e,GT),e6=e=>xa(e,YT),t6=e=>xa(e,QT),af=e=>xa(e,JT,!0),Sa=(e,t,n)=>{const i=VT.exec(e);return i?i[1]?t(i[1]):n(i[2]):!1},xa=(e,t,n=!1)=>{const i=KT.exec(e);return i?i[1]?t(i[1]):n:!1},GT=e=>e==="position"||e==="percentage",QT=e=>e==="image"||e==="url",YT=e=>e==="length"||e==="size"||e==="bg-size",XT=e=>e==="length",n6=e=>e==="number",r6=e=>e==="family-name",JT=e=>e==="shadow",i6=()=>{const e=Mt("color"),t=Mt("font"),n=Mt("text"),i=Mt("font-weight"),o=Mt("tracking"),l=Mt("leading"),u=Mt("breakpoint"),f=Mt("container"),d=Mt("spacing"),p=Mt("radius"),g=Mt("shadow"),y=Mt("inset-shadow"),v=Mt("text-shadow"),S=Mt("drop-shadow"),E=Mt("blur"),w=Mt("perspective"),A=Mt("aspect"),_=Mt("ease"),I=Mt("animate"),M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],U=()=>[...k(),ye,ge],K=()=>["auto","hidden","clip","visible","scroll"],q=()=>["auto","contain","none"],L=()=>[ye,ge,d],W=()=>[Fo,"full","auto",...L()],oe=()=>[Vi,"none","subgrid",ye,ge],se=()=>["auto",{span:["full",Vi,ye,ge]},Vi,ye,ge],ue=()=>[Vi,"auto",ye,ge],ce=()=>["auto","min","max","fr",ye,ge],X=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],H=()=>["start","end","center","stretch","center-safe","end-safe"],N=()=>["auto",...L()],P=()=>[Fo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...L()],j=()=>[e,ye,ge],F=()=>[...k(),N1,M1,{position:[ye,ge]}],re=()=>["no-repeat",{repeat:["","x","y","space","round"]}],$=()=>["auto","cover","contain",e6,J4,{size:[ye,ge]}],B=()=>[Pm,_l,ks],Z=()=>["","none","full",p,ye,ge],ne=()=>["",ke,_l,ks],le=()=>["solid","dashed","dotted","double"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],fe=()=>[ke,Pm,N1,M1],de=()=>["","none",E,ye,ge],Se=()=>["none",ke,ye,ge],Ce=()=>["none",ke,ye,ge],Me=()=>[ke,ye,ge],st=()=>[Fo,"full",...L()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[si],breakpoint:[si],color:[H4],container:[si],"drop-shadow":[si],ease:["in","out","in-out"],font:[X4],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[si],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[si],shadow:[si],spacing:["px",ke],text:[si],"text-shadow":[si],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Fo,ge,ye,A]}],container:["container"],columns:[{columns:[ke,ge,ye,f]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:U()}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:W()}],"inset-x":[{"inset-x":W()}],"inset-y":[{"inset-y":W()}],start:[{start:W()}],end:[{end:W()}],top:[{top:W()}],right:[{right:W()}],bottom:[{bottom:W()}],left:[{left:W()}],visibility:["visible","invisible","collapse"],z:[{z:[Vi,"auto",ye,ge]}],basis:[{basis:[Fo,"full","auto",f,...L()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ke,Fo,"auto","initial","none",ge]}],grow:[{grow:["",ke,ye,ge]}],shrink:[{shrink:["",ke,ye,ge]}],order:[{order:[Vi,"first","last","none",ye,ge]}],"grid-cols":[{"grid-cols":oe()}],"col-start-end":[{col:se()}],"col-start":[{"col-start":ue()}],"col-end":[{"col-end":ue()}],"grid-rows":[{"grid-rows":oe()}],"row-start-end":[{row:se()}],"row-start":[{"row-start":ue()}],"row-end":[{"row-end":ue()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ce()}],"auto-rows":[{"auto-rows":ce()}],gap:[{gap:L()}],"gap-x":[{"gap-x":L()}],"gap-y":[{"gap-y":L()}],"justify-content":[{justify:[...X(),"normal"]}],"justify-items":[{"justify-items":[...H(),"normal"]}],"justify-self":[{"justify-self":["auto",...H()]}],"align-content":[{content:["normal",...X()]}],"align-items":[{items:[...H(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...H(),{baseline:["","last"]}]}],"place-content":[{"place-content":X()}],"place-items":[{"place-items":[...H(),"baseline"]}],"place-self":[{"place-self":["auto",...H()]}],p:[{p:L()}],px:[{px:L()}],py:[{py:L()}],ps:[{ps:L()}],pe:[{pe:L()}],pt:[{pt:L()}],pr:[{pr:L()}],pb:[{pb:L()}],pl:[{pl:L()}],m:[{m:N()}],mx:[{mx:N()}],my:[{my:N()}],ms:[{ms:N()}],me:[{me:N()}],mt:[{mt:N()}],mr:[{mr:N()}],mb:[{mb:N()}],ml:[{ml:N()}],"space-x":[{"space-x":L()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":L()}],"space-y-reverse":["space-y-reverse"],size:[{size:P()}],w:[{w:[f,"screen",...P()]}],"min-w":[{"min-w":[f,"screen","none",...P()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...P()]}],h:[{h:["screen","lh",...P()]}],"min-h":[{"min-h":["screen","lh","none",...P()]}],"max-h":[{"max-h":["screen","lh",...P()]}],"font-size":[{text:["base",n,_l,ks]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,ye,qm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Pm,ge]}],"font-family":[{font:[W4,ge,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,ye,ge]}],"line-clamp":[{"line-clamp":[ke,"none",ye,qm]}],leading:[{leading:[l,...L()]}],"list-image":[{"list-image":["none",ye,ge]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ye,ge]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:j()}],"text-color":[{text:j()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...le(),"wavy"]}],"text-decoration-thickness":[{decoration:[ke,"from-font","auto",ye,ks]}],"text-decoration-color":[{decoration:j()}],"underline-offset":[{"underline-offset":[ke,"auto",ye,ge]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ye,ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ye,ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:F()}],"bg-repeat":[{bg:re()}],"bg-size":[{bg:$()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Vi,ye,ge],radial:["",ye,ge],conic:[Vi,ye,ge]},t6,Z4]}],"bg-color":[{bg:j()}],"gradient-from-pos":[{from:B()}],"gradient-via-pos":[{via:B()}],"gradient-to-pos":[{to:B()}],"gradient-from":[{from:j()}],"gradient-via":[{via:j()}],"gradient-to":[{to:j()}],rounded:[{rounded:Z()}],"rounded-s":[{"rounded-s":Z()}],"rounded-e":[{"rounded-e":Z()}],"rounded-t":[{"rounded-t":Z()}],"rounded-r":[{"rounded-r":Z()}],"rounded-b":[{"rounded-b":Z()}],"rounded-l":[{"rounded-l":Z()}],"rounded-ss":[{"rounded-ss":Z()}],"rounded-se":[{"rounded-se":Z()}],"rounded-ee":[{"rounded-ee":Z()}],"rounded-es":[{"rounded-es":Z()}],"rounded-tl":[{"rounded-tl":Z()}],"rounded-tr":[{"rounded-tr":Z()}],"rounded-br":[{"rounded-br":Z()}],"rounded-bl":[{"rounded-bl":Z()}],"border-w":[{border:ne()}],"border-w-x":[{"border-x":ne()}],"border-w-y":[{"border-y":ne()}],"border-w-s":[{"border-s":ne()}],"border-w-e":[{"border-e":ne()}],"border-w-t":[{"border-t":ne()}],"border-w-r":[{"border-r":ne()}],"border-w-b":[{"border-b":ne()}],"border-w-l":[{"border-l":ne()}],"divide-x":[{"divide-x":ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...le(),"hidden","none"]}],"divide-style":[{divide:[...le(),"hidden","none"]}],"border-color":[{border:j()}],"border-color-x":[{"border-x":j()}],"border-color-y":[{"border-y":j()}],"border-color-s":[{"border-s":j()}],"border-color-e":[{"border-e":j()}],"border-color-t":[{"border-t":j()}],"border-color-r":[{"border-r":j()}],"border-color-b":[{"border-b":j()}],"border-color-l":[{"border-l":j()}],"divide-color":[{divide:j()}],"outline-style":[{outline:[...le(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ke,ye,ge]}],"outline-w":[{outline:["",ke,_l,ks]}],"outline-color":[{outline:j()}],shadow:[{shadow:["","none",g,af,of]}],"shadow-color":[{shadow:j()}],"inset-shadow":[{"inset-shadow":["none",y,af,of]}],"inset-shadow-color":[{"inset-shadow":j()}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:j()}],"ring-offset-w":[{"ring-offset":[ke,ks]}],"ring-offset-color":[{"ring-offset":j()}],"inset-ring-w":[{"inset-ring":ne()}],"inset-ring-color":[{"inset-ring":j()}],"text-shadow":[{"text-shadow":["none",v,af,of]}],"text-shadow-color":[{"text-shadow":j()}],opacity:[{opacity:[ke,ye,ge]}],"mix-blend":[{"mix-blend":[...pe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":pe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ke]}],"mask-image-linear-from-pos":[{"mask-linear-from":fe()}],"mask-image-linear-to-pos":[{"mask-linear-to":fe()}],"mask-image-linear-from-color":[{"mask-linear-from":j()}],"mask-image-linear-to-color":[{"mask-linear-to":j()}],"mask-image-t-from-pos":[{"mask-t-from":fe()}],"mask-image-t-to-pos":[{"mask-t-to":fe()}],"mask-image-t-from-color":[{"mask-t-from":j()}],"mask-image-t-to-color":[{"mask-t-to":j()}],"mask-image-r-from-pos":[{"mask-r-from":fe()}],"mask-image-r-to-pos":[{"mask-r-to":fe()}],"mask-image-r-from-color":[{"mask-r-from":j()}],"mask-image-r-to-color":[{"mask-r-to":j()}],"mask-image-b-from-pos":[{"mask-b-from":fe()}],"mask-image-b-to-pos":[{"mask-b-to":fe()}],"mask-image-b-from-color":[{"mask-b-from":j()}],"mask-image-b-to-color":[{"mask-b-to":j()}],"mask-image-l-from-pos":[{"mask-l-from":fe()}],"mask-image-l-to-pos":[{"mask-l-to":fe()}],"mask-image-l-from-color":[{"mask-l-from":j()}],"mask-image-l-to-color":[{"mask-l-to":j()}],"mask-image-x-from-pos":[{"mask-x-from":fe()}],"mask-image-x-to-pos":[{"mask-x-to":fe()}],"mask-image-x-from-color":[{"mask-x-from":j()}],"mask-image-x-to-color":[{"mask-x-to":j()}],"mask-image-y-from-pos":[{"mask-y-from":fe()}],"mask-image-y-to-pos":[{"mask-y-to":fe()}],"mask-image-y-from-color":[{"mask-y-from":j()}],"mask-image-y-to-color":[{"mask-y-to":j()}],"mask-image-radial":[{"mask-radial":[ye,ge]}],"mask-image-radial-from-pos":[{"mask-radial-from":fe()}],"mask-image-radial-to-pos":[{"mask-radial-to":fe()}],"mask-image-radial-from-color":[{"mask-radial-from":j()}],"mask-image-radial-to-color":[{"mask-radial-to":j()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[ke]}],"mask-image-conic-from-pos":[{"mask-conic-from":fe()}],"mask-image-conic-to-pos":[{"mask-conic-to":fe()}],"mask-image-conic-from-color":[{"mask-conic-from":j()}],"mask-image-conic-to-color":[{"mask-conic-to":j()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:F()}],"mask-repeat":[{mask:re()}],"mask-size":[{mask:$()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ye,ge]}],filter:[{filter:["","none",ye,ge]}],blur:[{blur:de()}],brightness:[{brightness:[ke,ye,ge]}],contrast:[{contrast:[ke,ye,ge]}],"drop-shadow":[{"drop-shadow":["","none",S,af,of]}],"drop-shadow-color":[{"drop-shadow":j()}],grayscale:[{grayscale:["",ke,ye,ge]}],"hue-rotate":[{"hue-rotate":[ke,ye,ge]}],invert:[{invert:["",ke,ye,ge]}],saturate:[{saturate:[ke,ye,ge]}],sepia:[{sepia:["",ke,ye,ge]}],"backdrop-filter":[{"backdrop-filter":["","none",ye,ge]}],"backdrop-blur":[{"backdrop-blur":de()}],"backdrop-brightness":[{"backdrop-brightness":[ke,ye,ge]}],"backdrop-contrast":[{"backdrop-contrast":[ke,ye,ge]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ke,ye,ge]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ke,ye,ge]}],"backdrop-invert":[{"backdrop-invert":["",ke,ye,ge]}],"backdrop-opacity":[{"backdrop-opacity":[ke,ye,ge]}],"backdrop-saturate":[{"backdrop-saturate":[ke,ye,ge]}],"backdrop-sepia":[{"backdrop-sepia":["",ke,ye,ge]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":L()}],"border-spacing-x":[{"border-spacing-x":L()}],"border-spacing-y":[{"border-spacing-y":L()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ye,ge]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ke,"initial",ye,ge]}],ease:[{ease:["linear","initial",_,ye,ge]}],delay:[{delay:[ke,ye,ge]}],animate:[{animate:["none",I,ye,ge]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,ye,ge]}],"perspective-origin":[{"perspective-origin":U()}],rotate:[{rotate:Se()}],"rotate-x":[{"rotate-x":Se()}],"rotate-y":[{"rotate-y":Se()}],"rotate-z":[{"rotate-z":Se()}],scale:[{scale:Ce()}],"scale-x":[{"scale-x":Ce()}],"scale-y":[{"scale-y":Ce()}],"scale-z":[{"scale-z":Ce()}],"scale-3d":["scale-3d"],skew:[{skew:Me()}],"skew-x":[{"skew-x":Me()}],"skew-y":[{"skew-y":Me()}],transform:[{transform:[ye,ge,"","none","gpu","cpu"]}],"transform-origin":[{origin:U()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:st()}],"translate-x":[{"translate-x":st()}],"translate-y":[{"translate-y":st()}],"translate-z":[{"translate-z":st()}],"translate-none":["translate-none"],accent:[{accent:j()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:j()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ye,ge]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ye,ge]}],fill:[{fill:["none",...j()]}],"stroke-w":[{stroke:[ke,_l,ks,qm]}],stroke:[{stroke:["none",...j()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},s6=P4(i6);function fc(...e){return s6(y4(e))}const k1=p4,$1=m4,hy=R.forwardRef(({className:e,sideOffset:t=8,...n},i)=>x.jsx(g4,{children:x.jsx(IT,{ref:i,sideOffset:t,className:fc("z-50 min-w-[180px] rounded-xl border border-[color:var(--line)] bg-[color:var(--surface)] p-2 text-[color:var(--ink)] shadow-[var(--shadow)]",e),...n})}));hy.displayName=IT.displayName;const yn=R.forwardRef(({className:e,...t},n)=>x.jsx(jT,{ref:n,className:fc("flex cursor-pointer select-none items-center gap-2 rounded-lg px-3 py-2 text-sm font-semibold text-[color:var(--ink)] outline-none transition-colors focus:bg-[color:var(--surface-muted)] data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t}));yn.displayName=jT.displayName;const py=R.forwardRef(({className:e,...t},n)=>x.jsx(PT,{ref:n,className:fc("my-1 h-px bg-[color:var(--line)]",e),...t}));py.displayName=PT.displayName;var ZT="Toggle",WT=R.forwardRef((e,t)=>{const{pressed:n,defaultPressed:i,onPressedChange:o,...l}=e,[u,f]=sc({prop:n,onChange:o,defaultProp:i??!1,caller:ZT});return x.jsx(zt.button,{type:"button","aria-pressed":u,"data-state":u?"on":"off","data-disabled":e.disabled?"":void 0,...l,ref:t,onClick:ze(e.onClick,()=>{e.disabled||f(!u)})})});WT.displayName=ZT;var fs="ToggleGroup",[e_]=va(fs,[yd]),t_=yd(),wv=Ke.forwardRef((e,t)=>{const{type:n,...i}=e;if(n==="single"){const o=i;return x.jsx(o6,{...o,ref:t})}if(n==="multiple"){const o=i;return x.jsx(a6,{...o,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${fs}\``)});wv.displayName=fs;var[n_,r_]=e_(fs),o6=Ke.forwardRef((e,t)=>{const{value:n,defaultValue:i,onValueChange:o=()=>{},...l}=e,[u,f]=sc({prop:n,defaultProp:i??"",onChange:o,caller:fs});return x.jsx(n_,{scope:e.__scopeToggleGroup,type:"single",value:Ke.useMemo(()=>u?[u]:[],[u]),onItemActivate:f,onItemDeactivate:Ke.useCallback(()=>f(""),[f]),children:x.jsx(i_,{...l,ref:t})})}),a6=Ke.forwardRef((e,t)=>{const{value:n,defaultValue:i,onValueChange:o=()=>{},...l}=e,[u,f]=sc({prop:n,defaultProp:i??[],onChange:o,caller:fs}),d=Ke.useCallback(g=>f((y=[])=>[...y,g]),[f]),p=Ke.useCallback(g=>f((y=[])=>y.filter(v=>v!==g)),[f]);return x.jsx(n_,{scope:e.__scopeToggleGroup,type:"multiple",value:u,onItemActivate:d,onItemDeactivate:p,children:x.jsx(i_,{...l,ref:t})})});wv.displayName=fs;var[l6,c6]=e_(fs),i_=Ke.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:i=!1,rovingFocus:o=!0,orientation:l,dir:u,loop:f=!0,...d}=e,p=t_(n),g=rv(u),y={role:"group",dir:g,...d};return x.jsx(l6,{scope:n,rovingFocus:o,disabled:i,children:o?x.jsx(GC,{asChild:!0,...p,orientation:l,dir:g,loop:f,children:x.jsx(zt.div,{...y,ref:t})}):x.jsx(zt.div,{...y,ref:t})})}),Vf="ToggleGroupItem",s_=Ke.forwardRef((e,t)=>{const n=r_(Vf,e.__scopeToggleGroup),i=c6(Vf,e.__scopeToggleGroup),o=t_(e.__scopeToggleGroup),l=n.value.includes(e.value),u=i.disabled||e.disabled,f={...e,pressed:l,disabled:u},d=Ke.useRef(null);return i.rovingFocus?x.jsx(QC,{asChild:!0,...o,focusable:!u,active:l,ref:d,children:x.jsx(L1,{...f,ref:t})}):x.jsx(L1,{...f,ref:t})});s_.displayName=Vf;var L1=Ke.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:i,...o}=e,l=r_(Vf,n),u={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},f=l.type==="single"?u:void 0;return x.jsx(WT,{...f,...o,ref:t,onPressedChange:d=>{d?l.onItemActivate(i):l.onItemDeactivate(i)}})}),o_=wv,a_=s_;const l_=R.forwardRef(({className:e,...t},n)=>x.jsx(o_,{ref:n,className:fc("inline-flex items-center gap-1 rounded-full border border-[color:var(--line)] bg-[color:var(--surface)] p-1",e),...t}));l_.displayName=o_.displayName;const wf=R.forwardRef(({className:e,...t},n)=>x.jsx(a_,{ref:n,className:fc("inline-flex h-9 w-9 items-center justify-center rounded-full text-[color:var(--ink-soft)] transition-colors hover:text-[color:var(--ink)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--accent)] data-[state=on]:bg-[color:var(--accent)] data-[state=on]:text-white",e),...t}));wf.displayName=a_.displayName;function u6(){const{isAuthenticated:e,isLoading:t,me:n}=ev(),{signIn:i,signOut:o}=vq(),{mode:l,setMode:u}=e3(),f=R.useRef(null),d=ya(),p=R.useMemo(()=>nv(d),[d]),g=d==="souls",y=tv(),v=n?.image??(n?.email?Xq(n.email):void 0),S=n?.handle??n?.displayName??"user",E=(n?.displayName??n?.name??S).charAt(0).toUpperCase(),w=cC(n),A=f6(),_=I=>{n3({nextTheme:I,currentTheme:l,setTheme:M=>{const k=M;ry(k),u(k)},context:{element:f.current}})};return x.jsx("header",{className:"navbar",children:x.jsxs("div",{className:"navbar-inner",children:[x.jsxs(bt,{to:"/",search:{q:void 0,highlighted:void 0,search:void 0},className:"brand",children:[x.jsx("span",{className:"brand-mark",children:x.jsx("img",{src:"/clawd-logo.png",alt:"","aria-hidden":"true"})}),x.jsx("span",{className:"brand-name",children:p})]}),x.jsxs("nav",{className:"nav-links",children:[g?x.jsx("a",{href:y,children:"ClawHub"}):null,g?x.jsx(bt,{to:"/souls",search:{q:void 0,sort:void 0,dir:void 0,view:void 0,focus:void 0},children:"Souls"}):x.jsx(bt,{to:"/skills",search:{q:void 0,sort:void 0,dir:void 0,highlighted:void 0,nonSuspicious:void 0,view:void 0,focus:void 0},children:"Skills"}),x.jsx(bt,{to:"/upload",search:{updateSlug:void 0},children:"Upload"}),g?null:x.jsx(bt,{to:"/import",children:"Import"}),x.jsx(bt,{to:g?"/souls":"/skills",search:g?{q:void 0,sort:void 0,dir:void 0,view:void 0,focus:"search"}:{q:void 0,sort:void 0,dir:void 0,highlighted:void 0,nonSuspicious:void 0,view:void 0,focus:"search"},children:"Search"}),n?x.jsx(bt,{to:"/stars",children:"Stars"}):null,w?x.jsx(bt,{to:"/management",search:{skill:void 0},children:"Management"}):null]}),x.jsxs("div",{className:"nav-actions",children:[x.jsx("div",{className:"nav-mobile",children:x.jsxs(k1,{children:[x.jsx($1,{asChild:!0,children:x.jsx("button",{className:"nav-mobile-trigger",type:"button","aria-label":"Open menu",children:x.jsx(Uq,{className:"h-4 w-4","aria-hidden":"true"})})}),x.jsxs(hy,{align:"end",children:[g?x.jsx(yn,{asChild:!0,children:x.jsx("a",{href:y,children:"ClawHub"})}):null,x.jsx(yn,{asChild:!0,children:g?x.jsx(bt,{to:"/souls",search:{q:void 0,sort:void 0,dir:void 0,view:void 0,focus:void 0},children:"Souls"}):x.jsx(bt,{to:"/skills",search:{q:void 0,sort:void 0,dir:void 0,highlighted:void 0,nonSuspicious:void 0,view:void 0,focus:void 0},children:"Skills"})}),x.jsx(yn,{asChild:!0,children:x.jsx(bt,{to:"/upload",search:{updateSlug:void 0},children:"Upload"})}),g?null:x.jsx(yn,{asChild:!0,children:x.jsx(bt,{to:"/import",children:"Import"})}),x.jsx(yn,{asChild:!0,children:x.jsx(bt,{to:g?"/souls":"/skills",search:g?{q:void 0,sort:void 0,dir:void 0,view:void 0,focus:"search"}:{q:void 0,sort:void 0,dir:void 0,highlighted:void 0,nonSuspicious:void 0,view:void 0,focus:"search"},children:"Search"})}),n?x.jsx(yn,{asChild:!0,children:x.jsx(bt,{to:"/stars",children:"Stars"})}):null,w?x.jsx(yn,{asChild:!0,children:x.jsx(bt,{to:"/management",search:{skill:void 0},children:"Management"})}):null,x.jsx(py,{}),x.jsxs(yn,{onClick:()=>_("system"),children:[x.jsx(Wx,{className:"h-4 w-4","aria-hidden":"true"}),"System"]}),x.jsxs(yn,{onClick:()=>_("light"),children:[x.jsx(t1,{className:"h-4 w-4","aria-hidden":"true"}),"Light"]}),x.jsxs(yn,{onClick:()=>_("dark"),children:[x.jsx(e1,{className:"h-4 w-4","aria-hidden":"true"}),"Dark"]})]})]})}),x.jsx("div",{className:"theme-toggle",ref:f,children:x.jsxs(l_,{type:"single",value:l,onValueChange:I=>{I&&_(I)},"aria-label":"Theme mode",children:[x.jsxs(wf,{value:"system","aria-label":"System theme",children:[x.jsx(Wx,{className:"h-4 w-4","aria-hidden":"true"}),x.jsx("span",{className:"sr-only",children:"System"})]}),x.jsxs(wf,{value:"light","aria-label":"Light theme",children:[x.jsx(t1,{className:"h-4 w-4","aria-hidden":"true"}),x.jsx("span",{className:"sr-only",children:"Light"})]}),x.jsxs(wf,{value:"dark","aria-label":"Dark theme",children:[x.jsx(e1,{className:"h-4 w-4","aria-hidden":"true"}),x.jsx("span",{className:"sr-only",children:"Dark"})]})]})}),e&&n?x.jsxs(k1,{children:[x.jsx($1,{asChild:!0,children:x.jsxs("button",{className:"user-trigger",type:"button",children:[v?x.jsx("img",{src:v,alt:n.displayName??n.name??"User avatar"}):x.jsx("span",{className:"user-menu-fallback",children:E}),x.jsxs("span",{className:"mono",children:["@",S]}),x.jsx("span",{className:"user-menu-chevron",children:""})]})}),x.jsxs(hy,{align:"end",children:[x.jsx(yn,{asChild:!0,children:x.jsx(bt,{to:"/dashboard",children:"Dashboard"})}),x.jsx(yn,{asChild:!0,children:x.jsx(bt,{to:"/settings",children:"Settings"})}),x.jsx(py,{}),x.jsx(yn,{onClick:()=>{o()},children:"Sign out"})]})]}):x.jsxs("button",{className:"btn btn-primary",type:"button",disabled:t,onClick:()=>{i("github",A?{redirectTo:A}:void 0)},children:[x.jsx("span",{className:"sign-in-label",children:"Sign in"}),x.jsx("span",{className:"sign-in-provider",children:"with GitHub"})]})]})]})})}function f6(){return typeof window>"u"?"/":`${window.location.pathname}${window.location.search}${window.location.hash}`}const d6="/assets/styles-BA50KIvP.css",nn=AI({head:()=>{const e=ya(),t=nv(e),n=kq(e),o=`${$q(e)}/og.png`;return{meta:[{charSet:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1"},{title:t},{name:"description",content:n},{property:"og:site_name",content:t},{property:"og:type",content:"website"},{property:"og:title",content:t},{property:"og:description",content:n},{property:"og:image",content:o},{property:"og:image:width",content:"1200"},{property:"og:image:height",content:"630"},{property:"og:image:alt",content:`${t}  ${n}`},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:t},{name:"twitter:description",content:n},{name:"twitter:image",content:o},{name:"twitter:image:alt",content:`${t}  ${n}`}],links:[{rel:"stylesheet",href:d6}]}},shellComponent:h6});function h6({children:e}){return x.jsxs("html",{lang:"en",children:[x.jsx("head",{children:x.jsx(UI,{})}),x.jsxs("body",{children:[x.jsx(Rq,{children:x.jsxs(Eq,{children:[x.jsxs("div",{className:"app-shell",children:[x.jsx(u6,{}),e,x.jsx(Lq,{})]}),x.jsx(bj,{}),null]})}),x.jsx(BI,{})]})]})}var lf={exports:{}},zm,D1;function xd(){if(D1)return zm;D1=1;const e="2.0.0",t=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,i=16,o=t-6;return zm={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:i,MAX_SAFE_BUILD_LENGTH:o,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},zm}var Um,I1;function Ed(){if(I1)return Um;I1=1;var e={};return Um=typeof process=="object"&&e&&e.NODE_DEBUG&&/\bsemver\b/i.test(e.NODE_DEBUG)?(...n)=>console.error("SEMVER",...n):()=>{},Um}var j1;function dc(){return j1||(j1=1,(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:o}=xd(),l=Ed();t=e.exports={};const u=t.re=[],f=t.safeRe=[],d=t.src=[],p=t.safeSrc=[],g=t.t={};let y=0;const v="[a-zA-Z0-9-]",S=[["\\s",1],["\\d",o],[v,i]],E=A=>{for(const[_,I]of S)A=A.split(`${_}*`).join(`${_}{0,${I}}`).split(`${_}+`).join(`${_}{1,${I}}`);return A},w=(A,_,I)=>{const M=E(_),k=y++;l(A,k,_),g[A]=k,d[k]=_,p[k]=M,u[k]=new RegExp(_,I?"g":void 0),f[k]=new RegExp(M,I?"g":void 0)};w("NUMERICIDENTIFIER","0|[1-9]\\d*"),w("NUMERICIDENTIFIERLOOSE","\\d+"),w("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${v}*`),w("MAINVERSION",`(${d[g.NUMERICIDENTIFIER]})\\.(${d[g.NUMERICIDENTIFIER]})\\.(${d[g.NUMERICIDENTIFIER]})`),w("MAINVERSIONLOOSE",`(${d[g.NUMERICIDENTIFIERLOOSE]})\\.(${d[g.NUMERICIDENTIFIERLOOSE]})\\.(${d[g.NUMERICIDENTIFIERLOOSE]})`),w("PRERELEASEIDENTIFIER",`(?:${d[g.NONNUMERICIDENTIFIER]}|${d[g.NUMERICIDENTIFIER]})`),w("PRERELEASEIDENTIFIERLOOSE",`(?:${d[g.NONNUMERICIDENTIFIER]}|${d[g.NUMERICIDENTIFIERLOOSE]})`),w("PRERELEASE",`(?:-(${d[g.PRERELEASEIDENTIFIER]}(?:\\.${d[g.PRERELEASEIDENTIFIER]})*))`),w("PRERELEASELOOSE",`(?:-?(${d[g.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${d[g.PRERELEASEIDENTIFIERLOOSE]})*))`),w("BUILDIDENTIFIER",`${v}+`),w("BUILD",`(?:\\+(${d[g.BUILDIDENTIFIER]}(?:\\.${d[g.BUILDIDENTIFIER]})*))`),w("FULLPLAIN",`v?${d[g.MAINVERSION]}${d[g.PRERELEASE]}?${d[g.BUILD]}?`),w("FULL",`^${d[g.FULLPLAIN]}$`),w("LOOSEPLAIN",`[v=\\s]*${d[g.MAINVERSIONLOOSE]}${d[g.PRERELEASELOOSE]}?${d[g.BUILD]}?`),w("LOOSE",`^${d[g.LOOSEPLAIN]}$`),w("GTLT","((?:<|>)?=?)"),w("XRANGEIDENTIFIERLOOSE",`${d[g.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),w("XRANGEIDENTIFIER",`${d[g.NUMERICIDENTIFIER]}|x|X|\\*`),w("XRANGEPLAIN",`[v=\\s]*(${d[g.XRANGEIDENTIFIER]})(?:\\.(${d[g.XRANGEIDENTIFIER]})(?:\\.(${d[g.XRANGEIDENTIFIER]})(?:${d[g.PRERELEASE]})?${d[g.BUILD]}?)?)?`),w("XRANGEPLAINLOOSE",`[v=\\s]*(${d[g.XRANGEIDENTIFIERLOOSE]})(?:\\.(${d[g.XRANGEIDENTIFIERLOOSE]})(?:\\.(${d[g.XRANGEIDENTIFIERLOOSE]})(?:${d[g.PRERELEASELOOSE]})?${d[g.BUILD]}?)?)?`),w("XRANGE",`^${d[g.GTLT]}\\s*${d[g.XRANGEPLAIN]}$`),w("XRANGELOOSE",`^${d[g.GTLT]}\\s*${d[g.XRANGEPLAINLOOSE]}$`),w("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),w("COERCE",`${d[g.COERCEPLAIN]}(?:$|[^\\d])`),w("COERCEFULL",d[g.COERCEPLAIN]+`(?:${d[g.PRERELEASE]})?(?:${d[g.BUILD]})?(?:$|[^\\d])`),w("COERCERTL",d[g.COERCE],!0),w("COERCERTLFULL",d[g.COERCEFULL],!0),w("LONETILDE","(?:~>?)"),w("TILDETRIM",`(\\s*)${d[g.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",w("TILDE",`^${d[g.LONETILDE]}${d[g.XRANGEPLAIN]}$`),w("TILDELOOSE",`^${d[g.LONETILDE]}${d[g.XRANGEPLAINLOOSE]}$`),w("LONECARET","(?:\\^)"),w("CARETTRIM",`(\\s*)${d[g.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",w("CARET",`^${d[g.LONECARET]}${d[g.XRANGEPLAIN]}$`),w("CARETLOOSE",`^${d[g.LONECARET]}${d[g.XRANGEPLAINLOOSE]}$`),w("COMPARATORLOOSE",`^${d[g.GTLT]}\\s*(${d[g.LOOSEPLAIN]})$|^$`),w("COMPARATOR",`^${d[g.GTLT]}\\s*(${d[g.FULLPLAIN]})$|^$`),w("COMPARATORTRIM",`(\\s*)${d[g.GTLT]}\\s*(${d[g.LOOSEPLAIN]}|${d[g.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",w("HYPHENRANGE",`^\\s*(${d[g.XRANGEPLAIN]})\\s+-\\s+(${d[g.XRANGEPLAIN]})\\s*$`),w("HYPHENRANGELOOSE",`^\\s*(${d[g.XRANGEPLAINLOOSE]})\\s+-\\s+(${d[g.XRANGEPLAINLOOSE]})\\s*$`),w("STAR","(<|>)?=?\\s*\\*"),w("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),w("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(lf,lf.exports)),lf.exports}var Bm,P1;function Sv(){if(P1)return Bm;P1=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return Bm=i=>i?typeof i!="object"?e:i:t,Bm}var Fm,q1;function c_(){if(q1)return Fm;q1=1;const e=/^[0-9]+$/,t=(i,o)=>{if(typeof i=="number"&&typeof o=="number")return i===o?0:i<o?-1:1;const l=e.test(i),u=e.test(o);return l&&u&&(i=+i,o=+o),i===o?0:l&&!u?-1:u&&!l?1:i<o?-1:1};return Fm={compareIdentifiers:t,rcompareIdentifiers:(i,o)=>t(o,i)},Fm}var Vm,z1;function cn(){if(z1)return Vm;z1=1;const e=Ed(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:n}=xd(),{safeRe:i,t:o}=dc(),l=Sv(),{compareIdentifiers:u}=c_();class f{constructor(p,g){if(g=l(g),p instanceof f){if(p.loose===!!g.loose&&p.includePrerelease===!!g.includePrerelease)return p;p=p.version}else if(typeof p!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof p}".`);if(p.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",p,g),this.options=g,this.loose=!!g.loose,this.includePrerelease=!!g.includePrerelease;const y=p.trim().match(g.loose?i[o.LOOSE]:i[o.FULL]);if(!y)throw new TypeError(`Invalid Version: ${p}`);if(this.raw=p,this.major=+y[1],this.minor=+y[2],this.patch=+y[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");y[4]?this.prerelease=y[4].split(".").map(v=>{if(/^[0-9]+$/.test(v)){const S=+v;if(S>=0&&S<n)return S}return v}):this.prerelease=[],this.build=y[5]?y[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(p){if(e("SemVer.compare",this.version,this.options,p),!(p instanceof f)){if(typeof p=="string"&&p===this.version)return 0;p=new f(p,this.options)}return p.version===this.version?0:this.compareMain(p)||this.comparePre(p)}compareMain(p){return p instanceof f||(p=new f(p,this.options)),this.major<p.major?-1:this.major>p.major?1:this.minor<p.minor?-1:this.minor>p.minor?1:this.patch<p.patch?-1:this.patch>p.patch?1:0}comparePre(p){if(p instanceof f||(p=new f(p,this.options)),this.prerelease.length&&!p.prerelease.length)return-1;if(!this.prerelease.length&&p.prerelease.length)return 1;if(!this.prerelease.length&&!p.prerelease.length)return 0;let g=0;do{const y=this.prerelease[g],v=p.prerelease[g];if(e("prerelease compare",g,y,v),y===void 0&&v===void 0)return 0;if(v===void 0)return 1;if(y===void 0)return-1;if(y===v)continue;return u(y,v)}while(++g)}compareBuild(p){p instanceof f||(p=new f(p,this.options));let g=0;do{const y=this.build[g],v=p.build[g];if(e("build compare",g,y,v),y===void 0&&v===void 0)return 0;if(v===void 0)return 1;if(y===void 0)return-1;if(y===v)continue;return u(y,v)}while(++g)}inc(p,g,y){if(p.startsWith("pre")){if(!g&&y===!1)throw new Error("invalid increment argument: identifier is empty");if(g){const v=`-${g}`.match(this.options.loose?i[o.PRERELEASELOOSE]:i[o.PRERELEASE]);if(!v||v[1]!==g)throw new Error(`invalid identifier: ${g}`)}}switch(p){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",g,y);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",g,y);break;case"prepatch":this.prerelease.length=0,this.inc("patch",g,y),this.inc("pre",g,y);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",g,y),this.inc("pre",g,y);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const v=Number(y)?1:0;if(this.prerelease.length===0)this.prerelease=[v];else{let S=this.prerelease.length;for(;--S>=0;)typeof this.prerelease[S]=="number"&&(this.prerelease[S]++,S=-2);if(S===-1){if(g===this.prerelease.join(".")&&y===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(v)}}if(g){let S=[g,v];y===!1&&(S=[g]),u(this.prerelease[0],g)===0?isNaN(this.prerelease[1])&&(this.prerelease=S):this.prerelease=S}break}default:throw new Error(`invalid increment argument: ${p}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return Vm=f,Vm}var Km,U1;function Ea(){if(U1)return Km;U1=1;const e=cn();return Km=(n,i,o=!1)=>{if(n instanceof e)return n;try{return new e(n,i)}catch(l){if(!o)return null;throw l}},Km}var Hm,B1;function p6(){if(B1)return Hm;B1=1;const e=Ea();return Hm=(n,i)=>{const o=e(n,i);return o?o.version:null},Hm}var Gm,F1;function m6(){if(F1)return Gm;F1=1;const e=Ea();return Gm=(n,i)=>{const o=e(n.trim().replace(/^[=v]+/,""),i);return o?o.version:null},Gm}var Qm,V1;function g6(){if(V1)return Qm;V1=1;const e=cn();return Qm=(n,i,o,l,u)=>{typeof o=="string"&&(u=l,l=o,o=void 0);try{return new e(n instanceof e?n.version:n,o).inc(i,l,u).version}catch{return null}},Qm}var Ym,K1;function y6(){if(K1)return Ym;K1=1;const e=Ea();return Ym=(n,i)=>{const o=e(n,null,!0),l=e(i,null,!0),u=o.compare(l);if(u===0)return null;const f=u>0,d=f?o:l,p=f?l:o,g=!!d.prerelease.length;if(!!p.prerelease.length&&!g){if(!p.patch&&!p.minor)return"major";if(p.compareMain(d)===0)return p.minor&&!p.patch?"minor":"patch"}const v=g?"pre":"";return o.major!==l.major?v+"major":o.minor!==l.minor?v+"minor":o.patch!==l.patch?v+"patch":"prerelease"},Ym}var Xm,H1;function v6(){if(H1)return Xm;H1=1;const e=cn();return Xm=(n,i)=>new e(n,i).major,Xm}var Jm,G1;function b6(){if(G1)return Jm;G1=1;const e=cn();return Jm=(n,i)=>new e(n,i).minor,Jm}var Zm,Q1;function w6(){if(Q1)return Zm;Q1=1;const e=cn();return Zm=(n,i)=>new e(n,i).patch,Zm}var Wm,Y1;function S6(){if(Y1)return Wm;Y1=1;const e=Ea();return Wm=(n,i)=>{const o=e(n,i);return o&&o.prerelease.length?o.prerelease:null},Wm}var eg,X1;function mr(){if(X1)return eg;X1=1;const e=cn();return eg=(n,i,o)=>new e(n,o).compare(new e(i,o)),eg}var tg,J1;function x6(){if(J1)return tg;J1=1;const e=mr();return tg=(n,i,o)=>e(i,n,o),tg}var ng,Z1;function E6(){if(Z1)return ng;Z1=1;const e=mr();return ng=(n,i)=>e(n,i,!0),ng}var rg,W1;function xv(){if(W1)return rg;W1=1;const e=cn();return rg=(n,i,o)=>{const l=new e(n,o),u=new e(i,o);return l.compare(u)||l.compareBuild(u)},rg}var ig,eE;function R6(){if(eE)return ig;eE=1;const e=xv();return ig=(n,i)=>n.sort((o,l)=>e(o,l,i)),ig}var sg,tE;function A6(){if(tE)return sg;tE=1;const e=xv();return sg=(n,i)=>n.sort((o,l)=>e(l,o,i)),sg}var og,nE;function Rd(){if(nE)return og;nE=1;const e=mr();return og=(n,i,o)=>e(n,i,o)>0,og}var ag,rE;function Ev(){if(rE)return ag;rE=1;const e=mr();return ag=(n,i,o)=>e(n,i,o)<0,ag}var lg,iE;function u_(){if(iE)return lg;iE=1;const e=mr();return lg=(n,i,o)=>e(n,i,o)===0,lg}var cg,sE;function f_(){if(sE)return cg;sE=1;const e=mr();return cg=(n,i,o)=>e(n,i,o)!==0,cg}var ug,oE;function Rv(){if(oE)return ug;oE=1;const e=mr();return ug=(n,i,o)=>e(n,i,o)>=0,ug}var fg,aE;function Av(){if(aE)return fg;aE=1;const e=mr();return fg=(n,i,o)=>e(n,i,o)<=0,fg}var dg,lE;function d_(){if(lE)return dg;lE=1;const e=u_(),t=f_(),n=Rd(),i=Rv(),o=Ev(),l=Av();return dg=(f,d,p,g)=>{switch(d){case"===":return typeof f=="object"&&(f=f.version),typeof p=="object"&&(p=p.version),f===p;case"!==":return typeof f=="object"&&(f=f.version),typeof p=="object"&&(p=p.version),f!==p;case"":case"=":case"==":return e(f,p,g);case"!=":return t(f,p,g);case">":return n(f,p,g);case">=":return i(f,p,g);case"<":return o(f,p,g);case"<=":return l(f,p,g);default:throw new TypeError(`Invalid operator: ${d}`)}},dg}var hg,cE;function C6(){if(cE)return hg;cE=1;const e=cn(),t=Ea(),{safeRe:n,t:i}=dc();return hg=(l,u)=>{if(l instanceof e)return l;if(typeof l=="number"&&(l=String(l)),typeof l!="string")return null;u=u||{};let f=null;if(!u.rtl)f=l.match(u.includePrerelease?n[i.COERCEFULL]:n[i.COERCE]);else{const S=u.includePrerelease?n[i.COERCERTLFULL]:n[i.COERCERTL];let E;for(;(E=S.exec(l))&&(!f||f.index+f[0].length!==l.length);)(!f||E.index+E[0].length!==f.index+f[0].length)&&(f=E),S.lastIndex=E.index+E[1].length+E[2].length;S.lastIndex=-1}if(f===null)return null;const d=f[2],p=f[3]||"0",g=f[4]||"0",y=u.includePrerelease&&f[5]?`-${f[5]}`:"",v=u.includePrerelease&&f[6]?`+${f[6]}`:"";return t(`${d}.${p}.${g}${y}${v}`,u)},hg}var pg,uE;function T6(){if(uE)return pg;uE=1;class e{constructor(){this.max=1e3,this.map=new Map}get(n){const i=this.map.get(n);if(i!==void 0)return this.map.delete(n),this.map.set(n,i),i}delete(n){return this.map.delete(n)}set(n,i){if(!this.delete(n)&&i!==void 0){if(this.map.size>=this.max){const l=this.map.keys().next().value;this.delete(l)}this.map.set(n,i)}return this}}return pg=e,pg}var mg,fE;function gr(){if(fE)return mg;fE=1;const e=/\s+/g;class t{constructor(H,N){if(N=o(N),H instanceof t)return H.loose===!!N.loose&&H.includePrerelease===!!N.includePrerelease?H:new t(H.raw,N);if(H instanceof l)return this.raw=H.value,this.set=[[H]],this.formatted=void 0,this;if(this.options=N,this.loose=!!N.loose,this.includePrerelease=!!N.includePrerelease,this.raw=H.trim().replace(e," "),this.set=this.raw.split("||").map(P=>this.parseRange(P.trim())).filter(P=>P.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const P=this.set[0];if(this.set=this.set.filter(j=>!w(j[0])),this.set.length===0)this.set=[P];else if(this.set.length>1){for(const j of this.set)if(j.length===1&&A(j[0])){this.set=[j];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let H=0;H<this.set.length;H++){H>0&&(this.formatted+="||");const N=this.set[H];for(let P=0;P<N.length;P++)P>0&&(this.formatted+=" "),this.formatted+=N[P].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(H){const P=((this.options.includePrerelease&&S)|(this.options.loose&&E))+":"+H,j=i.get(P);if(j)return j;const F=this.options.loose,re=F?d[p.HYPHENRANGELOOSE]:d[p.HYPHENRANGE];H=H.replace(re,ue(this.options.includePrerelease)),u("hyphen replace",H),H=H.replace(d[p.COMPARATORTRIM],g),u("comparator trim",H),H=H.replace(d[p.TILDETRIM],y),u("tilde trim",H),H=H.replace(d[p.CARETTRIM],v),u("caret trim",H);let $=H.split(" ").map(le=>I(le,this.options)).join(" ").split(/\s+/).map(le=>se(le,this.options));F&&($=$.filter(le=>(u("loose invalid filter",le,this.options),!!le.match(d[p.COMPARATORLOOSE])))),u("range list",$);const B=new Map,Z=$.map(le=>new l(le,this.options));for(const le of Z){if(w(le))return[le];B.set(le.value,le)}B.size>1&&B.has("")&&B.delete("");const ne=[...B.values()];return i.set(P,ne),ne}intersects(H,N){if(!(H instanceof t))throw new TypeError("a Range is required");return this.set.some(P=>_(P,N)&&H.set.some(j=>_(j,N)&&P.every(F=>j.every(re=>F.intersects(re,N)))))}test(H){if(!H)return!1;if(typeof H=="string")try{H=new f(H,this.options)}catch{return!1}for(let N=0;N<this.set.length;N++)if(ce(this.set[N],H,this.options))return!0;return!1}}mg=t;const n=T6(),i=new n,o=Sv(),l=Ad(),u=Ed(),f=cn(),{safeRe:d,t:p,comparatorTrimReplace:g,tildeTrimReplace:y,caretTrimReplace:v}=dc(),{FLAG_INCLUDE_PRERELEASE:S,FLAG_LOOSE:E}=xd(),w=X=>X.value==="<0.0.0-0",A=X=>X.value==="",_=(X,H)=>{let N=!0;const P=X.slice();let j=P.pop();for(;N&&P.length;)N=P.every(F=>j.intersects(F,H)),j=P.pop();return N},I=(X,H)=>(X=X.replace(d[p.BUILD],""),u("comp",X,H),X=K(X,H),u("caret",X),X=k(X,H),u("tildes",X),X=L(X,H),u("xrange",X),X=oe(X,H),u("stars",X),X),M=X=>!X||X.toLowerCase()==="x"||X==="*",k=(X,H)=>X.trim().split(/\s+/).map(N=>U(N,H)).join(" "),U=(X,H)=>{const N=H.loose?d[p.TILDELOOSE]:d[p.TILDE];return X.replace(N,(P,j,F,re,$)=>{u("tilde",X,P,j,F,re,$);let B;return M(j)?B="":M(F)?B=`>=${j}.0.0 <${+j+1}.0.0-0`:M(re)?B=`>=${j}.${F}.0 <${j}.${+F+1}.0-0`:$?(u("replaceTilde pr",$),B=`>=${j}.${F}.${re}-${$} <${j}.${+F+1}.0-0`):B=`>=${j}.${F}.${re} <${j}.${+F+1}.0-0`,u("tilde return",B),B})},K=(X,H)=>X.trim().split(/\s+/).map(N=>q(N,H)).join(" "),q=(X,H)=>{u("caret",X,H);const N=H.loose?d[p.CARETLOOSE]:d[p.CARET],P=H.includePrerelease?"-0":"";return X.replace(N,(j,F,re,$,B)=>{u("caret",X,j,F,re,$,B);let Z;return M(F)?Z="":M(re)?Z=`>=${F}.0.0${P} <${+F+1}.0.0-0`:M($)?F==="0"?Z=`>=${F}.${re}.0${P} <${F}.${+re+1}.0-0`:Z=`>=${F}.${re}.0${P} <${+F+1}.0.0-0`:B?(u("replaceCaret pr",B),F==="0"?re==="0"?Z=`>=${F}.${re}.${$}-${B} <${F}.${re}.${+$+1}-0`:Z=`>=${F}.${re}.${$}-${B} <${F}.${+re+1}.0-0`:Z=`>=${F}.${re}.${$}-${B} <${+F+1}.0.0-0`):(u("no pr"),F==="0"?re==="0"?Z=`>=${F}.${re}.${$}${P} <${F}.${re}.${+$+1}-0`:Z=`>=${F}.${re}.${$}${P} <${F}.${+re+1}.0-0`:Z=`>=${F}.${re}.${$} <${+F+1}.0.0-0`),u("caret return",Z),Z})},L=(X,H)=>(u("replaceXRanges",X,H),X.split(/\s+/).map(N=>W(N,H)).join(" ")),W=(X,H)=>{X=X.trim();const N=H.loose?d[p.XRANGELOOSE]:d[p.XRANGE];return X.replace(N,(P,j,F,re,$,B)=>{u("xRange",X,P,j,F,re,$,B);const Z=M(F),ne=Z||M(re),le=ne||M($),pe=le;return j==="="&&pe&&(j=""),B=H.includePrerelease?"-0":"",Z?j===">"||j==="<"?P="<0.0.0-0":P="*":j&&pe?(ne&&(re=0),$=0,j===">"?(j=">=",ne?(F=+F+1,re=0,$=0):(re=+re+1,$=0)):j==="<="&&(j="<",ne?F=+F+1:re=+re+1),j==="<"&&(B="-0"),P=`${j+F}.${re}.${$}${B}`):ne?P=`>=${F}.0.0${B} <${+F+1}.0.0-0`:le&&(P=`>=${F}.${re}.0${B} <${F}.${+re+1}.0-0`),u("xRange return",P),P})},oe=(X,H)=>(u("replaceStars",X,H),X.trim().replace(d[p.STAR],"")),se=(X,H)=>(u("replaceGTE0",X,H),X.trim().replace(d[H.includePrerelease?p.GTE0PRE:p.GTE0],"")),ue=X=>(H,N,P,j,F,re,$,B,Z,ne,le,pe)=>(M(P)?N="":M(j)?N=`>=${P}.0.0${X?"-0":""}`:M(F)?N=`>=${P}.${j}.0${X?"-0":""}`:re?N=`>=${N}`:N=`>=${N}${X?"-0":""}`,M(Z)?B="":M(ne)?B=`<${+Z+1}.0.0-0`:M(le)?B=`<${Z}.${+ne+1}.0-0`:pe?B=`<=${Z}.${ne}.${le}-${pe}`:X?B=`<${Z}.${ne}.${+le+1}-0`:B=`<=${B}`,`${N} ${B}`.trim()),ce=(X,H,N)=>{for(let P=0;P<X.length;P++)if(!X[P].test(H))return!1;if(H.prerelease.length&&!N.includePrerelease){for(let P=0;P<X.length;P++)if(u(X[P].semver),X[P].semver!==l.ANY&&X[P].semver.prerelease.length>0){const j=X[P].semver;if(j.major===H.major&&j.minor===H.minor&&j.patch===H.patch)return!0}return!1}return!0};return mg}var gg,dE;function Ad(){if(dE)return gg;dE=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(g,y){if(y=n(y),g instanceof t){if(g.loose===!!y.loose)return g;g=g.value}g=g.trim().split(/\s+/).join(" "),u("comparator",g,y),this.options=y,this.loose=!!y.loose,this.parse(g),this.semver===e?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(g){const y=this.options.loose?i[o.COMPARATORLOOSE]:i[o.COMPARATOR],v=g.match(y);if(!v)throw new TypeError(`Invalid comparator: ${g}`);this.operator=v[1]!==void 0?v[1]:"",this.operator==="="&&(this.operator=""),v[2]?this.semver=new f(v[2],this.options.loose):this.semver=e}toString(){return this.value}test(g){if(u("Comparator.test",g,this.options.loose),this.semver===e||g===e)return!0;if(typeof g=="string")try{g=new f(g,this.options)}catch{return!1}return l(g,this.operator,this.semver,this.options)}intersects(g,y){if(!(g instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new d(g.value,y).test(this.value):g.operator===""?g.value===""?!0:new d(this.value,y).test(g.semver):(y=n(y),y.includePrerelease&&(this.value==="<0.0.0-0"||g.value==="<0.0.0-0")||!y.includePrerelease&&(this.value.startsWith("<0.0.0")||g.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&g.operator.startsWith(">")||this.operator.startsWith("<")&&g.operator.startsWith("<")||this.semver.version===g.semver.version&&this.operator.includes("=")&&g.operator.includes("=")||l(this.semver,"<",g.semver,y)&&this.operator.startsWith(">")&&g.operator.startsWith("<")||l(this.semver,">",g.semver,y)&&this.operator.startsWith("<")&&g.operator.startsWith(">")))}}gg=t;const n=Sv(),{safeRe:i,t:o}=dc(),l=d_(),u=Ed(),f=cn(),d=gr();return gg}var yg,hE;function Cd(){if(hE)return yg;hE=1;const e=gr();return yg=(n,i,o)=>{try{i=new e(i,o)}catch{return!1}return i.test(n)},yg}var vg,pE;function _6(){if(pE)return vg;pE=1;const e=gr();return vg=(n,i)=>new e(n,i).set.map(o=>o.map(l=>l.value).join(" ").trim().split(" ")),vg}var bg,mE;function O6(){if(mE)return bg;mE=1;const e=cn(),t=gr();return bg=(i,o,l)=>{let u=null,f=null,d=null;try{d=new t(o,l)}catch{return null}return i.forEach(p=>{d.test(p)&&(!u||f.compare(p)===-1)&&(u=p,f=new e(u,l))}),u},bg}var wg,gE;function M6(){if(gE)return wg;gE=1;const e=cn(),t=gr();return wg=(i,o,l)=>{let u=null,f=null,d=null;try{d=new t(o,l)}catch{return null}return i.forEach(p=>{d.test(p)&&(!u||f.compare(p)===1)&&(u=p,f=new e(u,l))}),u},wg}var Sg,yE;function N6(){if(yE)return Sg;yE=1;const e=cn(),t=gr(),n=Rd();return Sg=(o,l)=>{o=new t(o,l);let u=new e("0.0.0");if(o.test(u)||(u=new e("0.0.0-0"),o.test(u)))return u;u=null;for(let f=0;f<o.set.length;++f){const d=o.set[f];let p=null;d.forEach(g=>{const y=new e(g.semver.version);switch(g.operator){case">":y.prerelease.length===0?y.patch++:y.prerelease.push(0),y.raw=y.format();case"":case">=":(!p||n(y,p))&&(p=y);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${g.operator}`)}}),p&&(!u||n(u,p))&&(u=p)}return u&&o.test(u)?u:null},Sg}var xg,vE;function k6(){if(vE)return xg;vE=1;const e=gr();return xg=(n,i)=>{try{return new e(n,i).range||"*"}catch{return null}},xg}var Eg,bE;function Cv(){if(bE)return Eg;bE=1;const e=cn(),t=Ad(),{ANY:n}=t,i=gr(),o=Cd(),l=Rd(),u=Ev(),f=Av(),d=Rv();return Eg=(g,y,v,S)=>{g=new e(g,S),y=new i(y,S);let E,w,A,_,I;switch(v){case">":E=l,w=f,A=u,_=">",I=">=";break;case"<":E=u,w=d,A=l,_="<",I="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(o(g,y,S))return!1;for(let M=0;M<y.set.length;++M){const k=y.set[M];let U=null,K=null;if(k.forEach(q=>{q.semver===n&&(q=new t(">=0.0.0")),U=U||q,K=K||q,E(q.semver,U.semver,S)?U=q:A(q.semver,K.semver,S)&&(K=q)}),U.operator===_||U.operator===I||(!K.operator||K.operator===_)&&w(g,K.semver))return!1;if(K.operator===I&&A(g,K.semver))return!1}return!0},Eg}var Rg,wE;function $6(){if(wE)return Rg;wE=1;const e=Cv();return Rg=(n,i,o)=>e(n,i,">",o),Rg}var Ag,SE;function L6(){if(SE)return Ag;SE=1;const e=Cv();return Ag=(n,i,o)=>e(n,i,"<",o),Ag}var Cg,xE;function D6(){if(xE)return Cg;xE=1;const e=gr();return Cg=(n,i,o)=>(n=new e(n,o),i=new e(i,o),n.intersects(i,o)),Cg}var Tg,EE;function I6(){if(EE)return Tg;EE=1;const e=Cd(),t=mr();return Tg=(n,i,o)=>{const l=[];let u=null,f=null;const d=n.sort((v,S)=>t(v,S,o));for(const v of d)e(v,i,o)?(f=v,u||(u=v)):(f&&l.push([u,f]),f=null,u=null);u&&l.push([u,null]);const p=[];for(const[v,S]of l)v===S?p.push(v):!S&&v===d[0]?p.push("*"):S?v===d[0]?p.push(`<=${S}`):p.push(`${v} - ${S}`):p.push(`>=${v}`);const g=p.join(" || "),y=typeof i.raw=="string"?i.raw:String(i);return g.length<y.length?g:i},Tg}var _g,RE;function j6(){if(RE)return _g;RE=1;const e=gr(),t=Ad(),{ANY:n}=t,i=Cd(),o=mr(),l=(y,v,S={})=>{if(y===v)return!0;y=new e(y,S),v=new e(v,S);let E=!1;e:for(const w of y.set){for(const A of v.set){const _=d(w,A,S);if(E=E||_!==null,_)continue e}if(E)return!1}return!0},u=[new t(">=0.0.0-0")],f=[new t(">=0.0.0")],d=(y,v,S)=>{if(y===v)return!0;if(y.length===1&&y[0].semver===n){if(v.length===1&&v[0].semver===n)return!0;S.includePrerelease?y=u:y=f}if(v.length===1&&v[0].semver===n){if(S.includePrerelease)return!0;v=f}const E=new Set;let w,A;for(const L of y)L.operator===">"||L.operator===">="?w=p(w,L,S):L.operator==="<"||L.operator==="<="?A=g(A,L,S):E.add(L.semver);if(E.size>1)return null;let _;if(w&&A){if(_=o(w.semver,A.semver,S),_>0)return null;if(_===0&&(w.operator!==">="||A.operator!=="<="))return null}for(const L of E){if(w&&!i(L,String(w),S)||A&&!i(L,String(A),S))return null;for(const W of v)if(!i(L,String(W),S))return!1;return!0}let I,M,k,U,K=A&&!S.includePrerelease&&A.semver.prerelease.length?A.semver:!1,q=w&&!S.includePrerelease&&w.semver.prerelease.length?w.semver:!1;K&&K.prerelease.length===1&&A.operator==="<"&&K.prerelease[0]===0&&(K=!1);for(const L of v){if(U=U||L.operator===">"||L.operator===">=",k=k||L.operator==="<"||L.operator==="<=",w){if(q&&L.semver.prerelease&&L.semver.prerelease.length&&L.semver.major===q.major&&L.semver.minor===q.minor&&L.semver.patch===q.patch&&(q=!1),L.operator===">"||L.operator===">="){if(I=p(w,L,S),I===L&&I!==w)return!1}else if(w.operator===">="&&!i(w.semver,String(L),S))return!1}if(A){if(K&&L.semver.prerelease&&L.semver.prerelease.length&&L.semver.major===K.major&&L.semver.minor===K.minor&&L.semver.patch===K.patch&&(K=!1),L.operator==="<"||L.operator==="<="){if(M=g(A,L,S),M===L&&M!==A)return!1}else if(A.operator==="<="&&!i(A.semver,String(L),S))return!1}if(!L.operator&&(A||w)&&_!==0)return!1}return!(w&&k&&!A&&_!==0||A&&U&&!w&&_!==0||q||K)},p=(y,v,S)=>{if(!y)return v;const E=o(y.semver,v.semver,S);return E>0?y:E<0||v.operator===">"&&y.operator===">="?v:y},g=(y,v,S)=>{if(!y)return v;const E=o(y.semver,v.semver,S);return E<0?y:E>0||v.operator==="<"&&y.operator==="<="?v:y};return _g=l,_g}var Og,AE;function P6(){if(AE)return Og;AE=1;const e=dc(),t=xd(),n=cn(),i=c_(),o=Ea(),l=p6(),u=m6(),f=g6(),d=y6(),p=v6(),g=b6(),y=w6(),v=S6(),S=mr(),E=x6(),w=E6(),A=xv(),_=R6(),I=A6(),M=Rd(),k=Ev(),U=u_(),K=f_(),q=Rv(),L=Av(),W=d_(),oe=C6(),se=Ad(),ue=gr(),ce=Cd(),X=_6(),H=O6(),N=M6(),P=N6(),j=k6(),F=Cv(),re=$6(),$=L6(),B=D6(),Z=I6(),ne=j6();return Og={parse:o,valid:l,clean:u,inc:f,diff:d,major:p,minor:g,patch:y,prerelease:v,compare:S,rcompare:E,compareLoose:w,compareBuild:A,sort:_,rsort:I,gt:M,lt:k,eq:U,neq:K,gte:q,lte:L,cmp:W,coerce:oe,Comparator:se,Range:ue,satisfies:ce,toComparators:X,maxSatisfying:H,minSatisfying:N,minVersion:P,validRange:j,outside:F,gtr:re,ltr:$,intersects:B,simplifyRange:Z,subset:ne,SemVer:n,re:e.re,src:e.src,tokens:e.t,SEMVER_SPEC_VERSION:t.SEMVER_SPEC_VERSION,RELEASE_TYPES:t.RELEASE_TYPES,compareIdentifiers:i.compareIdentifiers,rcompareIdentifiers:i.rcompareIdentifiers},Og}var q6=P6();const Mg=Iy(q6),hc=e=>Array.isArray(e)?e:[e],z6=(e,t)=>{const n=[[],[]];for(const i of e)t(i)?n[0].push(i):n[1].push(i);return n},h_=Array,oi=(e,t)=>e.includes(t),U6=(e,t=0)=>[...new Array(e)].map((n,i)=>i+t),tt=(e,t,n)=>e===void 0?t===void 0?[]:Array.isArray(t)?t:[t]:(Array.isArray(t)?e.push(...t):e.push(t),e),js=(e,t)=>t==null?e??[]:e==null?hc(t):e.concat(t),B6=(...e)=>e.reduce(js,[]),Us=(e,t,n)=>{if(e===void 0)return Array.isArray(t)?t:[t];const i=n?.isEqual??((o,l)=>o===l);for(const o of hc(t))e.some(l=>i(l,o))||e.push(o);return e},F6=(e,t)=>e.reduce((n,i)=>{const o=i[t];return n[o]=tt(n[o],i),n},{}),da=(e,t,n)=>e.length===t.length&&e.every(n?.isEqual?(i,o)=>n.isEqual(i,t[o]):(i,o)=>i===t[o]),Zs=(e,t)=>yr(e)===t,yr=e=>{const t=typeof e;return t==="object"?e===null?"null":"object":t==="function"?"object":t},hi={boolean:"boolean",null:"null",undefined:"undefined",bigint:"a bigint",number:"a number",object:"an object",string:"a string",symbol:"a symbol"},V6={...hi,function:"a function"};class K6 extends Error{}const Tt=e=>ha(e,K6),ha=(e,t=Error)=>{throw new t(e)};class H6 extends Error{name="ParseError"}const ae=e=>ha(e,H6),p_=e=>` ${e}`,G6="",rt=(e,t)=>{const n={},i=Array.isArray(e);let o=!1;for(const[l,u]of Object.entries(e).entries()){const f=i?t(l,u[1]):t(...u,l);o||=typeof f[0]=="number";const d=Array.isArray(f[0])||f.length===0?f:[f];for(const[p,g]of d)typeof p=="object"?n[p.group]=tt(n[p.group],g):n[p]=g}return o?Object.values(n):n},m_=Object.entries,Ir=(e,t)=>e in t,Tv=(e,t)=>t in e;class Q6{constructor(t){Object.assign(this,t)}}const Y6=class{};class g_ extends Y6{}const X6=(e,t)=>{const n={},i={};let o;for(o in e)o in t?n[o]=e[o]:i[o]=e[o];return[n,i]},y_=(e,t)=>X6(e,t)[1],pc=e=>Object.keys(e).length===0,Kf=e=>[...Object.entries(e),...Object.getOwnPropertySymbols(e).map(t=>[t,e[t]])],J6=(e,t)=>Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)),Z6=e=>{const t=Object.keys(e).sort(),n={};for(let i=0;i<t.length;i++)n[t[i]]=e[t[i]];return n},Tr=p_(`unset${G6}`),W6=e=>Object.values(e).filter(t=>typeof t=="number"?!0:typeof e[t]!="number"),v_={Array,Boolean,Date,Error,Function,Map,Number,Promise,RegExp,Set,String,WeakMap,WeakSet},b_=globalThis.File??Blob,w_={ArrayBuffer,Blob,File:b_,FormData,Headers,Request,Response,URL},e5={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array},pa={...v_,...w_,...e5,String,Number,Boolean},_v=e=>{let t=Object.getPrototypeOf(e);for(;t?.constructor&&(!Ir(t.constructor.name,pa)||!(e instanceof pa[t.constructor.name]));)t=Object.getPrototypeOf(t);const n=t?.constructor?.name;if(!(n===void 0||n==="Object"))return n},my=e=>typeof e=="object"&&e!==null?_v(e)??"object":yr(e),en=Array.isArray,t5={Array:"an array",Function:"a function",Date:"a Date",RegExp:"a RegExp",Error:"an Error",Map:"a Map",Set:"a Set",String:"a String object",Number:"a Number object",Boolean:"a Boolean object",Promise:"a Promise",WeakMap:"a WeakMap",WeakSet:"a WeakSet"},n5={ArrayBuffer:"an ArrayBuffer instance",Blob:"a Blob instance",File:"a File instance",FormData:"a FormData instance",Headers:"a Headers instance",Request:"a Request instance",Response:"a Response instance",URL:"a URL instance"},r5={Int8Array:"an Int8Array",Uint8Array:"a Uint8Array",Uint8ClampedArray:"a Uint8ClampedArray",Int16Array:"an Int16Array",Uint16Array:"a Uint16Array",Int32Array:"an Int32Array",Uint32Array:"a Uint32Array",Float32Array:"a Float32Array",Float64Array:"a Float64Array",BigInt64Array:"a BigInt64Array",BigUint64Array:"a BigUint64Array"},i5={...t5,...n5,...r5},Ov=e=>{const t=Object(e).name??null;return t&&Ir(t,pa)&&pa[t]===e?t:null},CE=(e,t)=>{let n=e.prototype;for(;n!==null;){if(n===t.prototype)return!0;n=Object.getPrototypeOf(n)}return!1},s5=e=>S_(e,new Map),S_=(e,t)=>{if(typeof e!="object"||e===null)return e;if(t?.has(e))return t.get(e);const n=Ov(e.constructor);if(n==="Date")return new Date(e.getTime());if(n&&n!=="Array")return e;const i=Array.isArray(e)?e.slice():Object.create(Object.getPrototypeOf(e)),o=Object.getOwnPropertyDescriptors(e);if(t){t.set(e,i);for(const l in o){const u=o[l];"get"in u||"set"in u||(u.value=S_(u.value,t))}}return Object.defineProperties(i,o),i},o5=e=>{let t=Tr;return()=>t===Tr?t=e():t},Td=e=>typeof e=="function"&&e.length===0,a5=class extends Function{constructor(...e){const t=e.slice(0,-1),n=e[e.length-1];try{super(...t,n)}catch(i){return Tt(`Encountered an unexpected error while compiling your definition:
                Message: ${i} 
                Source: (${e.slice(0,-1)}) => {
                    ${e[e.length-1]}
                }`)}}};class ds{constructor(t,...[n]){return Object.assign(Object.setPrototypeOf(t.bind(n?.bind??this),this.constructor.prototype),n?.attach)}}const l5=o5(()=>{try{return new Function("return false")()}catch{return!0}});class jr{constructor(){}}var c5={};const u5=()=>{try{return((new Error().stack?.split(`
`)[2]?.trim()||"").match(/\(?(.+?)(?::\d+:\d+)?\)?$/)?.[1]||"unknown").replace(/^file:\/\//,"")}catch{return"unknown"}},f5=c5??{},d5={fileName:u5,env:f5},h5=e=>e[0].toUpperCase()+e.slice(1),p5=e=>e[0].toLowerCase()+e.slice(1),x_=e=>new RegExp(m5(e),typeof e=="string"?"":e.flags),m5=e=>`^(?:${typeof e=="string"?e:e.source})$`,Xi={negativeLookahead:e=>`(?!${e})`,nonCapturingGroup:e=>`(?:${e})`},zl="\\",_d={" ":1,"\n":1,"	":1},g5=/^-0\.?0*$/.source,E_=/[1-9]\d*/.source,y5=/\.\d+/.source,v5=/\.\d*[1-9]/.source,R_=e=>x_(Xi.negativeLookahead(g5)+Xi.nonCapturingGroup("-?"+Xi.nonCapturingGroup(Xi.nonCapturingGroup("0|"+E_)+Xi.nonCapturingGroup(e.decimalPattern)+"?")+(e.allowDecimalOnly?"|"+e.decimalPattern:"")+"?")),TE=R_({decimalPattern:v5,allowDecimalOnly:!1}),b5=TE.test.bind(TE),gy=R_({decimalPattern:y5,allowDecimalOnly:!0});gy.test.bind(gy);const w5=/^-?\d*\.?\d*$/,S5=e=>e.length!==0&&w5.test(e),Hf=x_(Xi.negativeLookahead("^-0$")+"-?"+Xi.nonCapturingGroup(Xi.nonCapturingGroup("0|"+E_))),x5=Hf.test.bind(Hf),yy=/^-?\d+$/,E5=yy.test.bind(yy),A_={number:"a number",bigint:"a bigint",integer:"an integer"},C_=(e,t)=>`'${e}' was parsed as ${A_[t]} but could not be narrowed to a literal value. Avoid unnecessary leading or trailing zeros and other abnormal notation`,R5=(e,t)=>t==="number"?b5(e):x5(e),A5=(e,t)=>t==="number"?Number(e):Number.parseInt(e),C5=(e,t)=>t==="number"?S5(e):E5(e),T5=(e,t)=>Mv(e,"number",t),_5=(e,t)=>Mv(e,"number",{...t,strict:!0}),O5=(e,t)=>Mv(e,"integer",t),Mv=(e,t,n)=>{const i=A5(e,t);return!Number.isNaN(i)&&C5(e,t)?n?.strict?R5(e,t)?i:ae(C_(e,t)):i:n?.errorOnFail?ae(n?.errorOnFail===!0?`Failed to parse ${A_[t]} from '${e}'`:n?.errorOnFail):void 0},M5=e=>{if(e[e.length-1]!=="n")return;const t=e.slice(0,-1);let n;try{n=BigInt(t)}catch{return}if(Hf.test(t))return n;if(yy.test(t))return ae(C_(e,"bigint"))},N5="0.56.0",k5={version:N5,filename:d5.fileName(),FileConstructor:b_},mc=k5,_E=new Map,Ng=Object.create(null),vy=e=>{const t=_E.get(e);if(t)return t;let n=$5(e);return Ng[n]?n=`${n}${Ng[n]++}`:Ng[n]=1,mc[n]=e,_E.set(e,n),n},Wl=e=>/^[$A-Z_a-z][\w$]*$/.test(e),$5=e=>{switch(typeof e){case"object":{if(e===null)break;const t=_v(e)??"object";return t[0].toLowerCase()+t.slice(1)}case"function":return Wl(e.name)?e.name:"fn";case"symbol":return e.description&&Wl(e.description)?e.description:"symbol"}return Tt(`Unexpected attempt to register serializable value of type ${yr(e)}`)},Nv=e=>typeof e=="string"?JSON.stringify(e):typeof e=="bigint"?`${e}n`:`${e}`,L5=(e,t={})=>Ul(e,{onUndefined:"$ark.undefined",onBigInt:n=>`$ark.bigint-${n}`,...t},[]),Ze=(e,t)=>{switch(yr(e)){case"object":const n=e,i=n.constructor?.name??"Object";return i==="Object"||i==="Array"?t?.quoteKeys===!1?Gf(n,t?.indent??0,""):JSON.stringify(Ul(n,ma,[]),null,t?.indent):Gf(n,t?.indent??0,"");case"symbol":return ma.onSymbol(e);default:return Nv(e)}},Gf=(e,t,n)=>{if(typeof e=="function")return ma.onFunction(e);if(typeof e!="object"||e===null)return Nv(e);const i=n+" ".repeat(t);if(Array.isArray(e)){if(e.length===0)return"[]";const l=e.map(u=>Gf(u,t,i)).join(`,
`+i);return t?`[
${i}${l}
${n}]`:`[${l}]`}const o=e.constructor?.name??"Object";if(o==="Object"){const l=Kf(e).map(([u,f])=>{const d=typeof u=="symbol"?ma.onSymbol(u):Wl(u)?u:JSON.stringify(u),p=Gf(f,t,i);return`${i}${d}: ${p}`});return l.length===0?"{}":t?`{
${l.join(`,
`)}
${n}}`:`{${l.join(", ")}}`}return e instanceof Date?gc(e):"expression"in e&&typeof e.expression=="string"?e.expression:o},ma={onCycle:()=>"(cycle)",onSymbol:e=>`Symbol(${vy(e)})`,onFunction:e=>`Function(${vy(e)})`},Ul=(e,t,n)=>{switch(yr(e)){case"object":{const i=e;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();if(typeof i=="function")return ma.onFunction(i);if(n.includes(i))return"(cycle)";const o=[...n,i];if(Array.isArray(i))return i.map(u=>Ul(u,t,o));if(i instanceof Date)return i.toDateString();const l={};for(const u in i)l[u]=Ul(i[u],t,o);for(const u of Object.getOwnPropertySymbols(i))l[t.onSymbol?.(u)??u.toString()]=Ul(i[u],t,o);return l}case"symbol":return ma.onSymbol(e);case"bigint":return t.onBigInt?.(e)??`${e}n`;case"undefined":return t.onUndefined??"undefined";case"string":return e.replace(/\\/g,"\\\\");default:return e}},gc=e=>{const t=e.getFullYear(),n=e.getMonth(),i=e.getDate(),o=e.getHours(),l=e.getMinutes(),u=e.getSeconds(),f=e.getMilliseconds();if(n===0&&i===1&&o===0&&l===0&&u===0&&f===0)return`${t}`;const d=`${D5[n]} ${i}, ${t}`;if(o===0&&l===0&&u===0&&f===0)return d;let p=e.toLocaleTimeString();const g=p.endsWith(" AM")||p.endsWith(" PM")?p.slice(-3):"";return g&&(p=p.slice(0,-g.length)),f?p+=`.${j5(f,3)}`:I5.test(p)&&(p=p.slice(0,-3)),`${p+g}, ${d}`},D5=["January","February","March","April","May","June","July","August","September","October","November","December"],I5=/:\d\d:00$/,j5=(e,t)=>String(e).padStart(t,"0"),T_=(e,t,...[n])=>{const i=n?.stringifySymbol??Ze;let o=e;switch(typeof t){case"string":o=Wl(t)?e===""?t:`${e}.${t}`:`${e}[${JSON.stringify(t)}]`;break;case"number":o=`${e}[${t}]`;break;case"symbol":o=`${e}[${i(t)}]`;break;default:n?.stringifyNonKey?o=`${e}[${n.stringifyNonKey(t)}]`:ae(`${Ze(t)} must be a PropertyKey or stringifyNonKey must be passed to options`)}return o},yc=(e,...t)=>e.reduce((n,i)=>T_(n,i,...t),"");class __ extends h_{cache={};constructor(...t){super(),this.push(...t)}toJSON(){if(this.cache.json)return this.cache.json;this.cache.json=[];for(let t=0;t<this.length;t++)this.cache.json.push(typeof this[t]=="symbol"?Ze(this[t]):this[t]);return this.cache.json}stringify(){return this.cache.stringify?this.cache.stringify:this.cache.stringify=yc(this)}stringifyAncestors(){if(this.cache.stringifyAncestors)return this.cache.stringifyAncestors;let t="";const n=[t];for(const i of this)t=T_(t,i),n.push(t);return this.cache.stringifyAncestors=n}}class O_{chars;i;def;constructor(t){this.def=t,this.chars=[...t],this.i=0}shift(){return this.chars[this.i++]??""}get lookahead(){return this.chars[this.i]??""}get nextLookahead(){return this.chars[this.i+1]??""}get length(){return this.chars.length}shiftUntil(t){let n="";for(;this.lookahead&&!t(this,n);)n+=this.shift();return n}shiftUntilEscapable(t){let n="";for(;this.lookahead;)if(this.lookahead===zl)this.shift(),t(this,n)?n+=this.shift():this.lookahead===zl?n+=this.shift():n+=`${zl}${this.shift()}`;else{if(t(this,n))break;n+=this.shift()}return n}shiftUntilLookahead(t){return typeof t=="string"?this.shiftUntil(n=>n.lookahead===t):this.shiftUntil(n=>n.lookahead in t)}shiftUntilNonWhitespace(){return this.shiftUntil(()=>!(this.lookahead in _d))}jumpToIndex(t){this.i=t<0?this.length+t:t}jumpForward(t){this.i+=t}get location(){return this.i}get unscanned(){return this.chars.slice(this.i,this.length).join("")}get scanned(){return this.chars.slice(0,this.i).join("")}sliceChars(t,n){return this.chars.slice(t,n).join("")}lookaheadIs(t){return this.lookahead===t}lookaheadIsIn(t){return this.lookahead in t}}const P5=(e,t)=>`Unmatched ${e}${t===""?"":` before ${t}`}`,M_=e=>`Missing ${e}`;let by="$ark",q5=2;for(;by in globalThis;)by=`$ark${q5++}`;const N_=by;globalThis[N_]=mc;const he=mc,z5=e=>`${N_}.${e}`,an=e=>z5(vy(e));class k_ extends g_{argNames;body="";constructor(...t){super(),this.argNames=t;for(const n of t){if(n in this)throw new Error(`Arg name '${n}' would overwrite an existing property on FunctionBody`);this[n]=n}}indentation=0;indent(){return this.indentation+=4,this}dedent(){return this.indentation-=4,this}prop(t,n=!1){return $_(t,n)}index(t,n=!1){return L_(`${t}`,n)}line(t){return this.body+=`${" ".repeat(this.indentation)}${t}
`,this}const(t,n){return this.line(`const ${t} = ${n}`),this}let(t,n){return this.line(`let ${t} = ${n}`)}set(t,n){return this.line(`${t} = ${n}`)}if(t,n){return this.block(`if (${t})`,n)}elseIf(t,n){return this.block(`else if (${t})`,n)}else(t){return this.block("else",t)}for(t,n,i=0){return this.block(`for (let i = ${i}; ${t}; i++)`,n)}forIn(t,n){return this.block(`for (const k in ${t})`,n)}block(t,n,i=""){return this.line(`${t} {`),this.indent(),n(this),this.dedent(),this.line(`}${i}`)}return(t=""){return this.line(`return ${t}`)}write(t="anonymous",n=0){return`${t}(${this.argNames.join(", ")}) { ${n?this.body.split(`
`).map(i=>" ".repeat(n)+`${i}`).join(`
`):this.body} }`}compile(){return new a5(...this.argNames,this.body)}}const Ra=e=>Zs(e,"object")||typeof e=="symbol"?an(e):Nv(e),$_=(e,t=!1)=>typeof e=="string"&&Wl(e)?`${t?"?":""}.${e}`:L_(U5(e),t),U5=e=>typeof e=="symbol"?an(e):JSON.stringify(e),L_=(e,t=!1)=>`${t?"?.":""}[${e}]`;class kg extends k_{traversalKind;optimistic;constructor(t){super("data","ctx"),this.traversalKind=t.kind,this.optimistic=t.optimistic===!0}invoke(t,n){const i=n?.arg??this.data,o=typeof t=="string"?!0:this.requiresContextFor(t),l=typeof t=="string"?t:t.id;return o?`${this.referenceToId(l,n)}(${i}, ${this.ctx})`:`${this.referenceToId(l,n)}(${i})`}referenceToId(t,n){const i=n?.kind??this.traversalKind,o=`this.${t}${i}`;return n?.bind?`${o}.bind(${n?.bind})`:o}requiresContextFor(t){return this.traversalKind==="Apply"||t.allowsRequiresContext}initializeErrorCount(){return this.const("errorCount","ctx.currentErrorCount")}returnIfFail(){return this.if("ctx.currentErrorCount > errorCount",()=>this.return())}returnIfFailFast(){return this.if("ctx.failFast && ctx.currentErrorCount > errorCount",()=>this.return())}traverseKey(t,n,i){const o=this.requiresContextFor(i);return o&&this.line(`${this.ctx}.path.push(${t})`),this.check(i,{arg:n}),o&&this.line(`${this.ctx}.path.pop()`),this}check(t,n){return this.traversalKind==="Allows"?this.if(`!${this.invoke(t,n)}`,()=>this.return(!1)):this.line(this.invoke(t,n))}}const D_=e=>rt(e,(t,n)=>[t,en(n)?[...n]:n]),pi=p_("arkKind"),Ae=(e,t)=>e?.[pi]===t,sn=e=>Ae(e,"root")||Ae(e,"constraint"),B5=["unit","proto","domain"],Od=["required","optional","index","sequence"],I_=["pattern","divisor","exactLength","max","min","maxLength","minLength","before","after"],j_=[...I_,"structure","predicate"],kv=[...j_,...Od],Md=["alias","union","morph","unit","intersection","proto","domain"],F5=[...Md,...kv],P_=rt(kv,(e,t)=>[t,1]),V5=rt([...Od,"undeclared"],(e,t)=>[t,1]),q_=rt(F5,(e,t)=>[t,e]),Sf=e=>typeof e=="string"&&e in q_,Qf=e=>q_[e],$v=e=>Md.slice(Qf(e)+1);[...$v("union")];[...$v("morph")];const Gs=e=>typeof e=="string"||typeof e=="boolean"||e===null?e:typeof e=="number"?Number.isNaN(e)?"NaN":e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":e:Ra(e),Nd=e=>{let t="{ ";for(const[n,i]of Object.entries(e))t+=`${n}: ${Ra(i)}, `;return t+" }"},mt=e=>{const t=e;return t.hasAssociatedError&&(t.defaults.expected??=n=>"description"in n?n.description:t.defaults.description(n),t.defaults.actual??=n=>Ze(n),t.defaults.problem??=n=>`must be ${n.expected}${n.actual?` (was ${n.actual})`:""}`,t.defaults.message??=n=>{if(n.path.length===0)return n.problem;const i=`${n.propString} ${n.problem}`;return i[0]==="["?`value at ${i}`:i}),t};class K5 extends Error{name="ToJsonSchemaError";code;context;constructor(t,n){super(Ze(n,{quoteKeys:!1,indent:4})),this.code=t,this.context=n}hasCode(t){return this.code===t}}const H5={target:"draft-2020-12",dialect:"https://json-schema.org/draft/2020-12/schema",useRefs:!1,fallback:{arrayObject:e=>Nt.throw("arrayObject",e),arrayPostfix:e=>Nt.throw("arrayPostfix",e),defaultValue:e=>Nt.throw("defaultValue",e),domain:e=>Nt.throw("domain",e),morph:e=>Nt.throw("morph",e),patternIntersection:e=>Nt.throw("patternIntersection",e),predicate:e=>Nt.throw("predicate",e),proto:e=>Nt.throw("proto",e),symbolKey:e=>Nt.throw("symbolKey",e),unit:e=>Nt.throw("unit",e),date:e=>Nt.throw("date",e)}},Nt={Error:K5,throw:(...e)=>{throw new Nt.Error(...e)},throwInternalOperandError:(e,t)=>Tt(`Unexpected JSON Schema input for ${e}: ${Ze(t)}`),defaultConfig:H5};he.config??={};const wy=(e,t)=>{if(!t)return e;const n={...e};let i;for(i in t){const o={...e.keywords};if(i==="keywords"){for(const l in t[i]){const u=t.keywords[l];u!==void 0&&(o[l]=typeof u=="string"?{description:u}:u)}n.keywords=o}else i==="toJsonSchema"?n[i]=z_(e.toJsonSchema,t.toJsonSchema):Sf(i)?n[i]={...e[i],...t[i]}:n[i]=t[i]}return n},G5={"draft-2020-12":"https://json-schema.org/draft/2020-12/schema","draft-07":"http://json-schema.org/draft-07/schema#"},z_=((e,t)=>{if(!e)return OE(t??{},void 0);if(!t)return e;const n={...e};let i;for(i in t)i==="fallback"?n.fallback=Q5(e.fallback,t.fallback):n[i]=t[i];return OE(n,t)}),OE=(e,t)=>t?.dialect!==void 0?e:t?.target!==void 0?{...e,dialect:G5[t.target]}:e,Q5=(e,t)=>{e=ME(e),t=ME(t);const n={};let i;for(i in Nt.defaultConfig.fallback)n[i]=t[i]??t.default??e[i]??e.default??Nt.defaultConfig.fallback[i];return n},ME=e=>typeof e=="function"?{default:e}:e??{};class ga extends g_{[pi]="error";path;data;nodeConfig;input;ctx;constructor({prefixPath:t,relativePath:n,...i},o){super(),this.input=i,this.ctx=o,J6(this,i);const l=o.data;i.code==="union"&&(i.errors=i.errors.flatMap(f=>{const d=f.hasCode("union")?f.errors:[f];return!t&&!n?d:d.map(p=>p.transform(g=>({...g,path:B6(t,g.path,n)})))})),this.nodeConfig=o.config[this.code];const u=[...i.path??o.path];n&&u.push(...n),t&&u.unshift(...t),this.path=new __(...u),this.data="data"in i?i.data:l}transform(t){return new ga(t({data:this.data,path:this.path,...this.input}),this.ctx)}hasCode(t){return this.code===t}get propString(){return yc(this.path)}get expected(){if(this.input.expected)return this.input.expected;const t=this.meta?.expected??this.nodeConfig.expected;return typeof t=="function"?t(this.input):t}get actual(){if(this.input.actual)return this.input.actual;const t=this.meta?.actual??this.nodeConfig.actual;return typeof t=="function"?t(this.data):t}get problem(){if(this.input.problem)return this.input.problem;const t=this.meta?.problem??this.nodeConfig.problem;return typeof t=="function"?t(this):t}get message(){if(this.input.message)return this.input.message;const t=this.meta?.message??this.nodeConfig.message;return typeof t=="function"?t(this):t}get flat(){return this.hasCode("intersection")?[...this.errors]:[this]}toJSON(){return{data:this.data,path:this.path,...this.input,expected:this.expected,actual:this.actual,problem:this.problem,message:this.message}}toString(){return this.message}throw(){throw this}}class as extends h_{[pi]="errors";ctx;constructor(t){super(),this.ctx=t}byPath=Object.create(null);get flatByPath(){return rt(this.byPath,(t,n)=>[t,n.flat])}get flatProblemsByPath(){return rt(this.byPath,(t,n)=>[t,n.flat.map(i=>i.problem)])}byAncestorPath=Object.create(null);count=0;mutable=this;throw(){throw this.toTraversalError()}toTraversalError(){return new Y5(this)}add(t){const n=this.byPath[t.propString];if(n){if(t===n||n.hasCode("union")&&n.errors.length===0)return;const i=t.hasCode("union")&&t.errors.length===0?t:new ga({code:"intersection",errors:n.hasCode("intersection")?[...n.errors,t]:[n,t]},this.ctx),o=this.indexOf(n);this.mutable[o===-1?this.length:o]=i,this.byPath[t.propString]=i,this.addAncestorPaths(t)}else this.byPath[t.propString]=t,this.addAncestorPaths(t),this.mutable.push(t);this.count++}transform(t){const n=new as(this.ctx);for(const i of this)n.add(t(i));return n}merge(t){for(const n of t)this.add(new ga({...n,path:[...this.ctx.path,...n.path]},this.ctx))}affectsPath(t){return this.length===0?!1:t.stringifyAncestors().some(n=>n in this.byPath)||t.stringify()in this.byAncestorPath}get summary(){return this.toString()}get issues(){return this}toJSON(){return[...this.map(t=>t.toJSON())]}toString(){return this.join(`
`)}addAncestorPaths(t){for(const n of t.path.stringifyAncestors())this.byAncestorPath[n]=tt(this.byAncestorPath[n],t)}}class Y5 extends Error{name="TraversalError";constructor(t){t.length===1?super(t.summary):super(`
`+t.map(n=>`   ${X5(n)}`).join(`
`)),Object.defineProperty(this,"arkErrors",{value:t,enumerable:!1})}}const X5=e=>e.toString().split(`
`).join(`
  `);class Xo{path=[];errors=new as(this);root;config;queuedMorphs=[];branches=[];seen={};constructor(t,n){this.root=t,this.config=n}get data(){let t=this.root;for(const n of this.path)t=t?.[n];return t}get propString(){return yc(this.path)}reject(t){return this.error(t),!1}mustBe(t){return this.error(t),!1}error(t){const n=typeof t=="object"?t.code?t:{...t,code:"predicate"}:{code:"predicate",expected:t};return this.errorFromContext(n)}hasError(){return this.currentErrorCount!==0}get currentBranch(){return this.branches[this.branches.length-1]}queueMorphs(t){const n={path:new __(...this.path),morphs:t};this.currentBranch?this.currentBranch.queuedMorphs.push(n):this.queuedMorphs.push(n)}finalize(t){return this.queuedMorphs.length&&(typeof this.root=="object"&&this.root!==null&&this.config.clone&&(this.root=this.config.clone(this.root)),this.applyQueuedMorphs()),this.hasError()?t?t(this.errors):this.errors:this.root}get currentErrorCount(){return this.currentBranch?this.currentBranch.error?1:0:this.errors.count}get failFast(){return this.branches.length!==0}pushBranch(){this.branches.push({error:void 0,queuedMorphs:[]})}popBranch(){return this.branches.pop()}get external(){return this}errorFromNodeContext(t){return this.errorFromContext(t)}errorFromContext(t){const n=new ga(t,this);return this.currentBranch?this.currentBranch.error=n:this.errors.add(n),n}applyQueuedMorphs(){for(;this.queuedMorphs.length;){const t=this.queuedMorphs;this.queuedMorphs=[];for(const{path:n,morphs:i}of t)this.errors.affectsPath(n)||this.applyMorphsAtPath(n,i)}}applyMorphsAtPath(t,n){const i=t[t.length-1];let o;if(i!==void 0){o=this.root;for(let l=0;l<t.length-1;l++)o=o[t[l]]}for(const l of n){this.path=[...t];const u=sn(l),f=l(o===void 0?this.root:o[i],this);if(f instanceof ga){this.errors.includes(f)||this.errors.add(f);break}if(f instanceof as){u||this.errors.merge(f),this.queuedMorphs=[];break}o===void 0?this.root=f:o[i]=f,this.applyQueuedMorphs()}}}const mi=(e,t,n)=>{if(!n)return t();n.path.push(e);const i=t();return n.path.pop(),i};class U_ extends ds{attachments;$;onFail;includesTransform;includesContextualPredicate;isCyclic;allowsRequiresContext;rootApplyStrategy;contextFreeMorph;rootApply;referencesById;shallowReferences;flatRefs;flatMorphs;allows;get shallowMorphs(){return[]}constructor(t,n){super((o,l,u=this.onFail)=>l?(this.traverseApply(o,l),l.hasError()?l.errors:l.data):this.rootApply(o,u),{attach:t}),this.attachments=t,this.$=n,this.onFail=this.meta.onFail??this.$.resolvedConfig.onFail,this.includesTransform=this.hasKind("morph")||this.hasKind("structure")&&this.structuralMorph!==void 0||this.hasKind("sequence")&&this.inner.defaultables!==void 0,this.includesContextualPredicate=this.hasKind("predicate")&&this.inner.predicate.length!==1,this.isCyclic=this.kind==="alias",this.referencesById={[this.id]:this},this.shallowReferences=this.hasKind("structure")?[this,...this.children]:this.children.reduce((o,l)=>e8(o,l.shallowReferences),[this]);const i=this.isStructural();this.flatRefs=[],this.flatMorphs=[];for(let o=0;o<this.children.length;o++){if(this.includesTransform||=this.children[o].includesTransform,this.includesContextualPredicate||=this.children[o].includesContextualPredicate,this.isCyclic||=this.children[o].isCyclic,!i){const l=this.children[o].flatRefs;for(let u=0;u<l.length;u++){const f=l[u];if(!this.flatRefs.some(d=>B_(d,f))){this.flatRefs.push(f);for(const d of f.node.branches)(d.hasKind("morph")||d.hasKind("intersection")&&d.structure?.structuralMorph!==void 0)&&this.flatMorphs.push({path:f.path,propString:f.propString,node:d})}}}Object.assign(this.referencesById,this.children[o].referencesById)}this.flatRefs.sort((o,l)=>o.path.length>l.path.length?1:o.path.length<l.path.length?-1:o.propString>l.propString?1:o.propString<l.propString||o.node.expression<l.node.expression?-1:1),this.allowsRequiresContext=this.includesContextualPredicate||this.isCyclic,this.rootApplyStrategy=!this.allowsRequiresContext&&this.flatMorphs.length===0?this.shallowMorphs.length===0?"allows":this.shallowMorphs.every(o=>o.length===1||o.name==="$arkStructuralMorph")?this.hasKind("union")?this.branches.some(o=>o.shallowMorphs.length>1)?"contextual":"branchedOptimistic":this.shallowMorphs.length>1?"contextual":"optimistic":"contextual":"contextual",this.rootApply=this.createRootApply(),this.allows=this.allowsRequiresContext?o=>this.traverseAllows(o,new Xo(o,this.$.resolvedConfig)):o=>this.traverseAllows(o)}createRootApply(){switch(this.rootApplyStrategy){case"allows":return(n,i)=>{if(this.allows(n))return n;const o=new Xo(n,this.$.resolvedConfig);return this.traverseApply(n,o),o.finalize(i)};case"contextual":return(n,i)=>{const o=new Xo(n,this.$.resolvedConfig);return this.traverseApply(n,o),o.finalize(i)};case"optimistic":this.contextFreeMorph=this.shallowMorphs[0];const t=this.$.resolvedConfig.clone;return(n,i)=>{if(this.allows(n))return this.contextFreeMorph(t&&(typeof n=="object"&&n!==null||typeof n=="function")?t(n):n);const o=new Xo(n,this.$.resolvedConfig);return this.traverseApply(n,o),o.finalize(i)};case"branchedOptimistic":return this.createBranchedOptimisticRootApply();default:return this.rootApplyStrategy,Tt(`Unexpected rootApplyStrategy ${this.rootApplyStrategy}`)}}compiledMeta=W5(this.metaJson);cacheGetter(t,n){return Object.defineProperty(this,t,{value:n}),n}get description(){return this.cacheGetter("description",this.meta?.description??this.$.resolvedConfig[this.kind].description(this))}get references(){return Object.values(this.referencesById)}precedence=Qf(this.kind);precompilation;assert=(t,n)=>this(t,n,i=>i.throw());traverse(t,n){return this(t,n,null)}get in(){return this.cacheGetter("in",this.rawIn.isRoot()?this.$.finalize(this.rawIn):this.rawIn)}get rawIn(){return this.cacheGetter("rawIn",this.getIo("in"))}get out(){return this.cacheGetter("out",this.rawOut.isRoot()?this.$.finalize(this.rawOut):this.rawOut)}get rawOut(){return this.cacheGetter("rawOut",this.getIo("out"))}getIo(t){if(!this.includesTransform)return this;const n={};for(const[i,o]of this.innerEntries){const l=this.impl.keys[i];if(l.reduceIo)l.reduceIo(t,n,o);else if(l.child){const u=o;n[i]=en(u)?u.map(f=>t==="in"?f.rawIn:f.rawOut):t==="in"?u.rawIn:u.rawOut}else n[i]=o}return this.$.node(this.kind,n)}toJSON(){return this.json}toString(){return`Type<${this.expression}>`}equals(t){const n=sn(t)?t:this.$.parseDefinition(t);return this.innerHash===n.innerHash}ifEquals(t){return this.equals(t)?this:void 0}hasKind(t){return this.kind===t}assertHasKind(t){return this.kind!==t&&ha(`${this.kind} node was not of asserted kind ${t}`),this}hasKindIn(...t){return t.includes(this.kind)}assertHasKindIn(...t){return oi(t,this.kind)||ha(`${this.kind} node was not one of asserted kinds ${t}`),this}isBasis(){return oi(B5,this.kind)}isConstraint(){return oi(kv,this.kind)}isStructural(){return oi(Od,this.kind)}isRefinement(){return oi(j_,this.kind)}isRoot(){return oi(Md,this.kind)}isUnknown(){return this.hasKind("intersection")&&this.children.length===0}isNever(){return this.hasKind("union")&&this.children.length===0}hasUnit(t){return this.hasKind("unit")&&this.allows(t)}hasOpenIntersection(){return this.impl.intersectionIsOpen}get nestableExpression(){return this.expression}select(t){const n=$l.normalize(t);return this._select(n)}_select(t){let n=$l.applyBoundary[t.boundary??"references"](this);return t.kind&&(n=n.filter(i=>i.kind===t.kind)),t.where&&(n=n.filter(t.where)),$l.applyMethod[t.method??"filter"](n,this,t)}transform(t,n){return this._transform(t,this._createTransformContext(n))}_createTransformContext(t){return{root:this,selected:void 0,seen:{},path:[],parseOptions:{prereduced:t?.prereduced??!1},undeclaredKeyHandling:void 0,...t}}_transform(t,n){const i=n.bindScope??this.$;if(n.seen[this.id])return this.$.lazilyResolve(n.seen[this.id]);if(n.shouldTransform?.(this,n)===!1)return this;let o;n.seen[this.id]=()=>o,this.hasKind("structure")&&this.undeclared!==n.undeclaredKeyHandling&&(n={...n,undeclaredKeyHandling:this.undeclared});const l=rt(this.inner,(g,y)=>{if(!this.impl.keys[g].child)return[g,y];const v=y;if(!en(v)){const E=v._transform(t,n);return E?[g,E]:[]}if(v.length===0)return[g,y];const S=v.flatMap(E=>E._transform(t,n)??[]);return S.length?[g,S]:[]});delete n.seen[this.id];const u=Object.assign(l,{meta:this.meta}),f=n.selected&&!n.selected.includes(this)?u:t(this.kind,u,n);if(f===null)return null;if(sn(f))return o=f;const d=Object.keys(f);return(d.length===0||d.length===1&&d[0]==="meta")&&!pc(this.inner)?null:(this.kind==="required"||this.kind==="optional"||this.kind==="index")&&!("value"in f)?n.undeclaredKeyHandling?{...f,value:he.intrinsic.unknown}:null:(this.kind==="morph"&&(f.in??=he.intrinsic.unknown),o=i.node(this.kind,f,n.parseOptions))}configureReferences(t,n="references"){const i=$l.normalize(n),o=typeof t=="string"?(d,p)=>({...p,meta:{...p.meta,description:t}}):typeof t=="function"?(d,p)=>({...p,meta:t(p.meta)}):(d,p)=>({...p,meta:{...p.meta,...t}});if(i.boundary==="self")return this.$.node(this.kind,o(this.kind,{...this.inner,meta:this.meta}));const l=this._select(i),u=l&&hc(l),f=i.boundary==="child"?(d,p)=>p.root.children.includes(d):i.boundary==="shallow"?d=>d.kind!=="structure":()=>!0;return this.$.finalize(this.transform(o,{shouldTransform:f,selected:u}))}}const $l={applyBoundary:{self:e=>[e],child:e=>[...e.children],shallow:e=>[...e.shallowReferences],references:e=>[...e.references]},applyMethod:{filter:e=>e,assertFilter:(e,t,n)=>(e.length===0&&ha(NE(t,n)),e),find:e=>e[0],assertFind:(e,t,n)=>(e.length===0&&ha(NE(t,n)),e[0])},normalize:e=>typeof e=="function"?{boundary:"references",method:"filter",where:e}:typeof e=="string"?Ir(e,$l.applyBoundary)?{method:"filter",boundary:e}:{boundary:"references",method:"filter",kind:e}:{boundary:"references",method:"filter",...e}},NE=(e,t)=>`${e} had no references matching ${Ze(t)}.`,J5=e=>yc(e,{stringifyNonKey:t=>t.expression}),Z5=/"(\$ark\.[^"]+)"/g,W5=e=>JSON.stringify(e).replace(Z5,"$1"),ns=(e,t)=>({path:e,node:t,propString:J5(e)}),B_=(e,t)=>e.propString===t.propString&&e.node.equals(t.node),kE=(e,t)=>Us(e,t,{isEqual:B_}),e8=(e,t)=>Us(e,t,{isEqual:(n,i)=>n.equals(i)});class we extends Array{static init(t,n,i,o){return new we({kind:t,l:n,r:i,path:o?.path??[],optional:o?.optional??!1})}add(t,n,i,o){return this.push({kind:t,l:n,r:i,path:o?.path??[],optional:o?.optional??!1}),this}get summary(){return this.describeReasons()}describeReasons(){if(this.length===1){const{path:t,l:n,r:i}=this[0],o=yc(t);return F_(`Intersection${o&&` at ${o}`} of ${$E(n,i)}`)}return`The following intersections result in unsatisfiable types:
 ${this.map(({path:t,l:n,r:i})=>`${t}: ${$E(n,i)}`).join(`
 `)}`}throw(){return ae(this.describeReasons())}invert(){const t=this.map(n=>({...n,l:n.r,r:n.l}));return t instanceof we?t:new we(...t)}withPrefixKey(t,n){return this.map(i=>({...i,path:[t,...i.path],optional:i.optional||n==="optional"}))}toNeverIfDisjoint(){return he.intrinsic.never}}const $E=(e,t)=>`${Sy(e)} and ${Sy(t)}`,Sy=e=>sn(e)?e.expression:en(e)?e.map(Sy).join(" | ")||"never":String(e),F_=e=>`${e} results in an unsatisfiable type`,Vo={},gi=(e,t,n)=>qt(e,t,{$:n,invert:!1,pipe:!1}),xy=(e,t,n)=>qt(e,t,{$:n,invert:!1,pipe:!0}),qt=((e,t,n)=>{const i=n.pipe?"|>":"&",o=`${e.hash}${i}${t.hash}`;if(Vo[o]!==void 0)return Vo[o];if(!n.pipe){const f=`${t.hash}${i}${e.hash}`;if(Vo[f]!==void 0){const d=Vo[f],p=d instanceof we?d.invert():d;return Vo[o]=p,p}}const l=!n.pipe||!e.includesTransform&&!t.includesTransform;if(l&&e.equals(t))return e;let u=l?Ey(e,t,n):e.hasKindIn(...Md)?t8(e,t,n):Ey(e,t,n);return sn(u)&&(e.equals(u)?u=e:t.equals(u)&&(u=t)),Vo[o]=u,u}),Ey=(e,t,n)=>{const i=e.precedence<t.precedence?e.kind:t.kind,o=e.impl.intersections[t.kind]??t.impl.intersections[e.kind];if(o===void 0)return null;if(i===e.kind)return o(e,t,n);{let l=o(t,e,{...n,invert:!n.invert});return l instanceof we&&(l=l.invert()),l}},t8=(e,t,n)=>e.includesTransform||t.includesTransform?n.invert?LE(t,e,n):LE(e,t,n):Ey(e,t,n),LE=(e,t,n)=>e.distribute(i=>n8(i,t,n),i=>{const o=i.filter(sn);if(o.length===0)return we.init("union",e.branches,t.branches);if(o.length<e.branches.length||!e.branches.every((u,f)=>u.rawIn.equals(o[f].rawIn)))return n.$.parseSchema(o);if(o.length===1)return o[0];const l={branches:o};return n.$.parseSchema(l)}),n8=(e,t,n)=>{if(e.hasKind("morph")){const o=[...e.morphs];if(e.lastMorphIfNode){const l=qt(e.lastMorphIfNode,t,n);if(l instanceof we)return l;o[o.length-1]=l}else o.push(t);return n.$.node("morph",{morphs:o,in:e.inner.in})}if(t.hasKind("morph")){const o=qt(e,t.rawIn,n);return o instanceof we?o:n.$.node("morph",{morphs:[t],in:o})}return n.$.node("morph",{morphs:[t],in:e})};class Aa extends U_{constructor(t,n){super(t,n),Object.defineProperty(this,pi,{value:"constraint",enumerable:!1})}impliedSiblings;intersect(t){return gi(this,t,this.$)}}class kd extends Aa{traverseApply=(t,n)=>{this.traverseAllows(t,n)||n.errorFromNodeContext(this.errorContext)};compile(t){t.traversalKind==="Allows"?t.return(this.compiledCondition):t.if(this.compiledNegation,()=>t.line(`ctx.errorFromNodeContext(${this.compiledErrorContext})`))}get errorContext(){return{code:this.kind,description:this.description,meta:this.meta,...this.inner}}get compiledErrorContext(){return Nd(this.errorContext)}}const bn=e=>(t,n)=>{if(en(t)){if(t.length===0)return;const o=t.map(l=>n.$.node(e,l));return e==="predicate"?o:o.sort((l,u)=>l.hash<u.hash?-1:1)}const i=n.$.node(e,t);return i.hasOpenIntersection()?[i]:i},Yf=e=>{const t=e.r.shift();if(!t){let i=e.l.length===0&&e.kind==="structure"?he.intrinsic.unknown.internal:e.ctx.$.node(e.kind,Object.assign(e.baseInner,r8(e.l)),{prereduced:!0});for(const o of e.roots){if(i instanceof we)return i;i=qt(o,i,e.ctx)}return i}let n=!1;for(let i=0;i<e.l.length;i++){const o=qt(e.l[i],t,e.ctx);if(o!==null){if(o instanceof we)return o;if(o.isRoot())return e.roots.push(o),e.l.splice(i),Yf(e);if(!n)e.l[i]=o,n=!0;else if(!e.l.includes(o))return Tt(`Unexpectedly encountered multiple distinct intersection results for refinement ${t}`)}}if(n||e.l.push(t),e.kind==="intersection"&&t.impliedSiblings)for(const i of t.impliedSiblings)Us(e.r,i);return Yf(e)},Xf=e=>Object.entries(e).flatMap(([n,i])=>n in P_?i:[]).sort((n,i)=>n.precedence<i.precedence?-1:n.precedence>i.precedence?1:n.kind==="predicate"&&i.kind==="predicate"?0:n.hash<i.hash?-1:1),r8=e=>{const t={};for(const n of e)if(n.hasOpenIntersection())t[n.kind]=tt(t[n.kind],n);else{if(t[n.kind])return Tt(`Unexpected intersection of closed refinements of kind ${n.kind}`);t[n.kind]=n}return t},i8=(...e)=>ae(s8(...e)),s8=(e,t,n)=>{const i=n.hasKind("morph")?"a morph":n.isUnknown()?"unknown":n.exclude(t).defaultShortDescription;return`${h5(e)} operand must be ${t.description} (was ${i})`},o8=(e,t,n)=>new Jf(e,t,n,n,null);class V_ extends ds{}class Jf extends ds{[pi]="generic";paramDefs;bodyDef;$;arg$;baseInstantiation;hkt;description;constructor(t,n,i,o,l){super((...u)=>{const f=rt(this.names,(d,p)=>{const g=this.arg$.parse(u[d]);return g.extends(this.constraints[d])||ae(a8(p,this.constraints[d].expression,g.expression)),[p,g]});if(this.defIsLazy()){const d=this.bodyDef(f);return this.$.parse(d)}return this.$.parse(n,{args:f})}),this.paramDefs=t,this.bodyDef=n,this.$=i,this.arg$=o,this.hkt=l,this.description=l?new l().description??`a generic type for ${l.constructor.name}`:"a generic type",this.baseInstantiation=this(...this.constraints)}defIsLazy(){return this.bodyDef instanceof V_}cacheGetter(t,n){return Object.defineProperty(this,t,{value:n}),n}get json(){return this.cacheGetter("json",{params:this.params.map(t=>t[1].isUnknown()?t[0]:[t[0],t[1].json]),body:L5(this.bodyDef)})}get params(){return this.cacheGetter("params",this.paramDefs.map(t=>typeof t=="string"?[t,he.intrinsic.unknown]:[t[0],this.$.parse(t[1])]))}get names(){return this.cacheGetter("names",this.params.map(t=>t[0]))}get constraints(){return this.cacheGetter("constraints",this.params.map(t=>t[1]))}get internal(){return this}get referencesById(){return this.baseInstantiation.internal.referencesById}get references(){return this.baseInstantiation.internal.references}}const a8=(e,t,n)=>`${e} must be assignable to ${t} (was ${n})`,l8=mt({kind:"predicate",hasAssociatedError:!0,collapsibleKey:"predicate",keys:{predicate:{}},normalize:e=>typeof e=="function"?{predicate:e}:e,defaults:{description:e=>`valid according to ${e.predicate.name||"an anonymous predicate"}`},intersectionIsOpen:!0,intersections:{predicate:()=>null}});class c8 extends Aa{serializedPredicate=an(this.predicate);compiledCondition=`${this.serializedPredicate}(data, ctx)`;compiledNegation=`!${this.compiledCondition}`;impliedBasis=null;expression=this.serializedPredicate;traverseAllows=this.predicate;errorContext={code:"predicate",description:this.description,meta:this.meta};compiledErrorContext=Nd(this.errorContext);traverseApply=(t,n)=>{const i=n.currentErrorCount;!this.predicate(t,n.external)&&n.currentErrorCount===i&&n.errorFromNodeContext(this.errorContext)};compile(t){if(t.traversalKind==="Allows"){t.return(this.compiledCondition);return}t.initializeErrorCount(),t.if(`${this.compiledNegation} && ctx.currentErrorCount === errorCount`,()=>t.line(`ctx.errorFromNodeContext(${this.compiledErrorContext})`))}reduceJsonSchema(t,n){return n.fallback.predicate({code:"predicate",base:t,predicate:this.predicate})}}const K_={implementation:l8,Node:c8},u8=mt({kind:"divisor",collapsibleKey:"rule",keys:{rule:{parse:e=>Number.isInteger(e)?e:ae(d8(e))}},normalize:e=>typeof e=="number"?{rule:e}:e,hasAssociatedError:!0,defaults:{description:e=>e.rule===1?"an integer":e.rule===2?"even":`a multiple of ${e.rule}`},intersections:{divisor:(e,t,n)=>n.$.node("divisor",{rule:Math.abs(e.rule*t.rule/h8(e.rule,t.rule))})},obviatesBasisDescription:!0});class f8 extends kd{traverseAllows=t=>t%this.rule===0;compiledCondition=`data % ${this.rule} === 0`;compiledNegation=`data % ${this.rule} !== 0`;impliedBasis=he.intrinsic.number.internal;expression=`% ${this.rule}`;reduceJsonSchema(t){return t.type="integer",this.rule===1||(t.multipleOf=this.rule),t}}const H_={implementation:u8,Node:f8},d8=e=>`divisor must be an integer (was ${e})`,h8=(e,t)=>{let n,i=e,o=t;for(;o!==0;)n=o,o=i%o,i=n;return i};class Ca extends kd{boundOperandKind=y8[this.kind];compiledActual=this.boundOperandKind==="value"?"data":this.boundOperandKind==="length"?"data.length":"data.valueOf()";comparator=v8(this.kind,this.exclusive);numericLimit=this.rule.valueOf();expression=`${this.comparator} ${this.rule}`;compiledCondition=`${this.compiledActual} ${this.comparator} ${this.numericLimit}`;compiledNegation=`${this.compiledActual} ${p8[this.comparator]} ${this.numericLimit}`;stringLimit=this.boundOperandKind==="date"?b8(this.numericLimit):`${this.numericLimit}`;limitKind=this.comparator[0]==="<"?"upper":"lower";isStricterThan(t){return(this.limitKind==="upper"?this.numericLimit<t.numericLimit:this.numericLimit>t.numericLimit)||this.numericLimit===t.numericLimit&&this.exclusive===!0&&!t.exclusive}overlapsRange(t){return!(this.isStricterThan(t)||this.numericLimit===t.numericLimit&&(this.exclusive||t.exclusive))}overlapIsUnit(t){return this.numericLimit===t.numericLimit&&!this.exclusive&&!t.exclusive}}const p8={"<":">=","<=":">",">":"<=",">=":"<"},m8={min:"max",minLength:"maxLength",after:"before"},G_={parse:e=>e||void 0},Q_=e=>t=>{if(typeof t=="number")return{rule:t};const{exclusive:n,...i}=t;return n?{...i,rule:e==="minLength"?i.rule+1:i.rule-1}:i},Y_=e=>t=>{if(typeof t=="number"||typeof t=="string"||t instanceof Date)return{rule:t};const{exclusive:n,...i}=t;if(!n)return i;const o=typeof i.rule=="number"?i.rule:typeof i.rule=="string"?new Date(i.rule).valueOf():i.rule.valueOf();return n?{...i,rule:e==="after"?o+1:o-1}:i},X_=e=>typeof e=="string"||typeof e=="number"?new Date(e):e,g8=(e,t)=>`${e} bound must be a positive integer (was ${t})`,Lv=e=>t=>((!Number.isInteger(t)||t<0)&&ae(g8(e,t)),t),y8={min:"value",max:"value",minLength:"length",maxLength:"length",after:"date",before:"date"},v8=(e,t)=>`${Ir(e,m8)?">":"<"}${t?"":"="}`,b8=e=>typeof e=="string"?e:new Date(e).toLocaleString(),w8=e=>`Bounded expression ${e} must be exactly one of number, string, Array, or Date`,S8=mt({kind:"after",collapsibleKey:"rule",hasAssociatedError:!0,keys:{rule:{parse:X_,serialize:e=>e.toISOString()}},normalize:Y_("after"),defaults:{description:e=>`${e.collapsibleLimitString} or later`,actual:gc},intersections:{after:(e,t)=>e.isStricterThan(t)?e:t}});class x8 extends Ca{impliedBasis=he.intrinsic.Date.internal;collapsibleLimitString=gc(this.rule);traverseAllows=t=>t>=this.rule;reduceJsonSchema(t,n){return n.fallback.date({code:"date",base:t,after:this.rule})}}const J_={implementation:S8,Node:x8},E8=mt({kind:"before",collapsibleKey:"rule",hasAssociatedError:!0,keys:{rule:{parse:X_,serialize:e=>e.toISOString()}},normalize:Y_("before"),defaults:{description:e=>`${e.collapsibleLimitString} or earlier`,actual:gc},intersections:{before:(e,t)=>e.isStricterThan(t)?e:t,after:(e,t,n)=>e.overlapsRange(t)?e.overlapIsUnit(t)?n.$.node("unit",{unit:e.rule}):null:we.init("range",e,t)}});class R8 extends Ca{collapsibleLimitString=gc(this.rule);traverseAllows=t=>t<=this.rule;impliedBasis=he.intrinsic.Date.internal;reduceJsonSchema(t,n){return n.fallback.date({code:"date",base:t,before:this.rule})}}const Z_={implementation:E8,Node:R8},A8=mt({kind:"exactLength",collapsibleKey:"rule",keys:{rule:{parse:Lv("exactLength")}},normalize:e=>typeof e=="number"?{rule:e}:e,hasAssociatedError:!0,defaults:{description:e=>`exactly length ${e.rule}`,actual:e=>`${e.length}`},intersections:{exactLength:(e,t,n)=>we.init("unit",n.$.node("unit",{unit:e.rule}),n.$.node("unit",{unit:t.rule}),{path:["length"]}),minLength:(e,t)=>e.rule>=t.rule?e:we.init("range",e,t),maxLength:(e,t)=>e.rule<=t.rule?e:we.init("range",e,t)}});class C8 extends kd{traverseAllows=t=>t.length===this.rule;compiledCondition=`data.length === ${this.rule}`;compiledNegation=`data.length !== ${this.rule}`;impliedBasis=he.intrinsic.lengthBoundable.internal;expression=`== ${this.rule}`;reduceJsonSchema(t){switch(t.type){case"string":return t.minLength=this.rule,t.maxLength=this.rule,t;case"array":return t.minItems=this.rule,t.maxItems=this.rule,t;default:return Nt.throwInternalOperandError("exactLength",t)}}}const W_={implementation:A8,Node:C8},T8=mt({kind:"max",collapsibleKey:"rule",hasAssociatedError:!0,keys:{rule:{},exclusive:G_},normalize:e=>typeof e=="number"?{rule:e}:e,defaults:{description:e=>e.rule===0?e.exclusive?"negative":"non-positive":`${e.exclusive?"less than":"at most"} ${e.rule}`},intersections:{max:(e,t)=>e.isStricterThan(t)?e:t,min:(e,t,n)=>e.overlapsRange(t)?e.overlapIsUnit(t)?n.$.node("unit",{unit:e.rule}):null:we.init("range",e,t)},obviatesBasisDescription:!0});class _8 extends Ca{impliedBasis=he.intrinsic.number.internal;traverseAllows=this.exclusive?t=>t<this.rule:t=>t<=this.rule;reduceJsonSchema(t){return this.exclusive?t.exclusiveMaximum=this.rule:t.maximum=this.rule,t}}const eO={implementation:T8,Node:_8},O8=mt({kind:"maxLength",collapsibleKey:"rule",hasAssociatedError:!0,keys:{rule:{parse:Lv("maxLength")}},reduce:(e,t)=>e.rule===0?t.node("exactLength",e):void 0,normalize:Q_("maxLength"),defaults:{description:e=>`at most length ${e.rule}`,actual:e=>`${e.length}`},intersections:{maxLength:(e,t)=>e.isStricterThan(t)?e:t,minLength:(e,t,n)=>e.overlapsRange(t)?e.overlapIsUnit(t)?n.$.node("exactLength",{rule:e.rule}):null:we.init("range",e,t)}});class M8 extends Ca{impliedBasis=he.intrinsic.lengthBoundable.internal;traverseAllows=t=>t.length<=this.rule;reduceJsonSchema(t){switch(t.type){case"string":return t.maxLength=this.rule,t;case"array":return t.maxItems=this.rule,t;default:return Nt.throwInternalOperandError("maxLength",t)}}}const tO={implementation:O8,Node:M8},N8=mt({kind:"min",collapsibleKey:"rule",hasAssociatedError:!0,keys:{rule:{},exclusive:G_},normalize:e=>typeof e=="number"?{rule:e}:e,defaults:{description:e=>e.rule===0?e.exclusive?"positive":"non-negative":`${e.exclusive?"more than":"at least"} ${e.rule}`},intersections:{min:(e,t)=>e.isStricterThan(t)?e:t},obviatesBasisDescription:!0});class k8 extends Ca{impliedBasis=he.intrinsic.number.internal;traverseAllows=this.exclusive?t=>t>this.rule:t=>t>=this.rule;reduceJsonSchema(t){return this.exclusive?t.exclusiveMinimum=this.rule:t.minimum=this.rule,t}}const nO={implementation:N8,Node:k8},$8=mt({kind:"minLength",collapsibleKey:"rule",hasAssociatedError:!0,keys:{rule:{parse:Lv("minLength")}},reduce:e=>e.rule===0?he.intrinsic.unknown:void 0,normalize:Q_("minLength"),defaults:{description:e=>e.rule===1?"non-empty":`at least length ${e.rule}`,actual:e=>e.length===0?"":`${e.length}`},intersections:{minLength:(e,t)=>e.isStricterThan(t)?e:t}});class L8 extends Ca{impliedBasis=he.intrinsic.lengthBoundable.internal;traverseAllows=t=>t.length>=this.rule;reduceJsonSchema(t){switch(t.type){case"string":return t.minLength=this.rule,t;case"array":return t.minItems=this.rule,t;default:return Nt.throwInternalOperandError("minLength",t)}}}const rO={implementation:$8,Node:L8},D8={min:nO.implementation,max:eO.implementation,minLength:rO.implementation,maxLength:tO.implementation,exactLength:W_.implementation,after:J_.implementation,before:Z_.implementation},I8={min:nO.Node,max:eO.Node,minLength:rO.Node,maxLength:tO.Node,exactLength:W_.Node,after:J_.Node,before:Z_.Node},j8=mt({kind:"pattern",collapsibleKey:"rule",keys:{rule:{},flags:{}},normalize:e=>typeof e=="string"?{rule:e}:e instanceof RegExp?e.flags?{rule:e.source,flags:e.flags}:{rule:e.source}:e,obviatesBasisDescription:!0,obviatesBasisExpression:!0,hasAssociatedError:!0,intersectionIsOpen:!0,defaults:{description:e=>`matched by ${e.rule}`},intersections:{pattern:()=>null}});class P8 extends kd{instance=new RegExp(this.rule,this.flags);expression=`${this.instance}`;traverseAllows=this.instance.test.bind(this.instance);compiledCondition=`${this.expression}.test(data)`;compiledNegation=`!${this.compiledCondition}`;impliedBasis=he.intrinsic.string.internal;reduceJsonSchema(t,n){return t.pattern?n.fallback.patternIntersection({code:"patternIntersection",base:t,pattern:this.rule}):(t.pattern=this.rule,t)}}const iO={implementation:j8,Node:P8},xf=(e,t)=>{const n=q8(e);return t&&!t.includes(n)?ae(`Root of kind ${n} should be one of ${t}`):n},q8=e=>{if(Ae(e,"root"))return e.kind;if(typeof e=="string")return e[0]==="$"?"alias":e in hi?"domain":"proto";if(typeof e=="function")return"proto";if(typeof e!="object"||e===null)return ae(DE(e));if("morphs"in e)return"morph";if("branches"in e||en(e))return"union";if("unit"in e)return"unit";if("reference"in e)return"alias";const t=Object.keys(e);return t.length===0||t.some(n=>n in P_)?"intersection":"proto"in e?"proto":"domain"in e?"domain":ae(DE(e))},DE=e=>`${Ze(e)} is not a valid type schema`,IE={},z8=e=>en(e)?e.map(t=>t.collapsibleJson):e.collapsibleJson,tr={};he.nodesByRegisteredId=tr;const sO=e=>(IE[e]??=0,`${e}${++IE[e]}`),oO=e=>{const t=$d[e.kind],n=t.applyConfig?.(e.def,e.$.resolvedConfig)??e.def,i={},{meta:o,...l}=n,u=o===void 0?{}:typeof o=="string"?{description:o}:o,f=m_(l).sort(([p],[g])=>Sf(p)?Sf(g)?Qf(p)-Qf(g):1:Sf(g)||p<g?-1:1).filter(([p,g])=>{if(p.startsWith("meta.")){const y=p.slice(5);return u[y]=g,!1}return!0});for(const p of f){const g=p[0],y=t.keys[g];if(!y)return ae(`Key ${g} is not valid on ${e.kind} schema`);const v=y.parse?y.parse(p[1],e):p[1];v!==Tr&&(v!==void 0||y.preserveUndefined)&&(i[g]=v)}if(t.reduce&&!e.prereduced){const p=t.reduce(i,e.$);if(p)return p instanceof we?p.throw():B8(p,u)}return Dv({id:e.id,kind:e.kind,inner:i,meta:u,$:e.$})},Dv=({id:e,kind:t,inner:n,meta:i,$:o,ignoreCache:l})=>{const u=$d[t],f=m_(n),d=[];let p={};for(const[_,I]of f){const M=u.keys[_],k=M.serialize??(M.child?z8:Gs);if(p[_]=k(I),M.child===!0){const U=I;en(U)?d.push(...U):d.push(U)}else typeof M.child=="function"&&d.push(...M.child(I))}u.finalizeInnerJson&&(p=u.finalizeInnerJson(p));let g={...p},y={};pc(i)||(y=rt(i,(_,I)=>[_,_==="examples"?I:Gs(I)]),g.meta=cf(y,"description",!0)),p=cf(p,u.collapsibleKey,!1);const v=JSON.stringify({kind:t,...p});g=cf(g,u.collapsibleKey,!1);const S=cf(g,u.collapsibleKey,!0),E=JSON.stringify({kind:t,...g});if(o.nodesByHash[E]&&!l)return o.nodesByHash[E];const w={id:e,kind:t,impl:u,inner:n,innerEntries:f,innerJson:p,innerHash:v,meta:i,metaJson:y,json:g,hash:E,collapsibleJson:S,children:d};if(t!=="intersection")for(const _ in n)_!=="in"&&_!=="out"&&(w[_]=n[_]);const A=new YF[t](w,o);return o.nodesByHash[E]=A},U8=(e,t)=>e.id===t?e:(sn(tr[t])&&Tt(`Unexpected attempt to overwrite node id ${t}`),Dv({id:t,kind:e.kind,inner:e.inner,meta:e.meta,$:e.$,ignoreCache:!0})),B8=(e,t,n)=>Dv({id:sO(t.alias??e.kind),kind:e.kind,inner:e.inner,meta:t,$:e.$}),cf=(e,t,n)=>{const i=Object.keys(e);if(i.length===1&&i[0]===t){const o=e[t];if(n||Zs(o,"object")&&(Object.keys(o).length===1||Array.isArray(o)))return o}return e},Ry=(e,t,n)=>{if(e.key!==t.key)return null;const i=e.key;let o=qt(e.value,t.value,n);const l=e.required||t.required?"required":"optional";if(o instanceof we)if(l==="optional")o=he.intrinsic.never.internal;else return o.withPrefixKey(e.key,e.required&&t.required?"required":"optional");if(l==="required")return n.$.node("required",{key:i,value:o});const u=e.hasDefault()?t.hasDefault()?e.default===t.default?e.default:ae(lO(e.default,t.default)):e.default:t.hasDefault()?t.default:Tr;return n.$.node("optional",{key:i,value:o,default:u})};class aO extends Aa{required=this.kind==="required";optional=this.kind==="optional";impliedBasis=he.intrinsic.object.internal;serializedKey=Ra(this.key);compiledKey=typeof this.key=="string"?this.key:this.serializedKey;flatRefs=tt(this.value.flatRefs.map(t=>ns([this.key,...t.path],t.node)),ns([this.key],this.value));_transform(t,n){n.path.push(this.key);const i=super._transform(t,n);return n.path.pop(),i}hasDefault(){return"default"in this.inner}traverseAllows=(t,n)=>this.key in t?mi(this.key,()=>this.value.traverseAllows(t[this.key],n),n):this.optional;traverseApply=(t,n)=>{this.key in t?mi(this.key,()=>this.value.traverseApply(t[this.key],n),n):this.hasKind("required")&&n.errorFromNodeContext(this.errorContext)};compile(t){t.if(`${this.serializedKey} in data`,()=>t.traverseKey(this.serializedKey,`data${t.prop(this.key)}`,this.value)),this.hasKind("required")&&t.else(()=>t.traversalKind==="Apply"?t.line(`ctx.errorFromNodeContext(${this.compiledErrorContext})`):t.return(!1)),t.traversalKind==="Allows"&&t.return(!0)}}const lO=(e,t)=>`Invalid intersection of default values ${Ze(e)} & ${Ze(t)}`,F8=mt({kind:"optional",hasAssociatedError:!1,intersectionIsOpen:!0,keys:{key:{},value:{child:!0,parse:(e,t)=>t.$.parseSchema(e)},default:{preserveUndefined:!0}},normalize:e=>e,reduce:(e,t)=>{if(t.resolvedConfig.exactOptionalPropertyTypes===!1&&!e.value.allows(void 0))return t.node("optional",{...e,value:e.value.or(Te.undefined)},{prereduced:!0})},defaults:{description:e=>`${e.compiledKey}?: ${e.value.description}`},intersections:{optional:Ry}});class V8 extends aO{constructor(...t){super(...t),"default"in this.inner&&jv(this.value,this.inner.default,this.key)}get rawIn(){const t=super.rawIn;return this.hasDefault()?this.$.node("optional",y_(t.inner,{default:!0}),{prereduced:!0}):t}get outProp(){if(!this.hasDefault())return this;const{default:t,...n}=this.inner;return this.cacheGetter("outProp",this.$.node("required",n,{prereduced:!0}))}expression=this.hasDefault()?`${this.compiledKey}: ${this.value.expression} = ${Ze(this.inner.default)}`:`${this.compiledKey}?: ${this.value.expression}`;defaultValueMorph=H8(this);defaultValueMorphRef=this.defaultValueMorph&&an(this.defaultValueMorph)}const Iv={implementation:F8,Node:V8},K8={},H8=e=>{if(!e.hasDefault())return;const t=`{${e.compiledKey}: ${e.value.id} = ${Gs(e.default)}}`;return K8[t]??=cO(e.key,e.value,e.default)},cO=(e,t,n)=>{if(typeof n=="function")return t.includesTransform?(o,l)=>(mi(e,()=>t(o[e]=n(),l),l),o):o=>(o[e]=n(),o);const i=t.includesTransform?t.assert(n):n;return Zs(i,"object")?(o,l)=>(mi(e,()=>t(o[e]=n,l),l),o):o=>(o[e]=i,o)},jv=(e,t,n)=>{const i=Td(t);Zs(t,"object")&&!i&&ae(G8(n));const o=e.in(i?t():t);if(o instanceof as){n===null&&ae(`Default ${o.summary}`);const l=o.transform(u=>u.transform(f=>({...f,prefixPath:[n]})));ae(`Default for ${l.summary}`)}return t},G8=e=>`Non-primitive default ${e===null?"":typeof e=="number"?`for value at [${e}] `:`for ${Ra(e)} `}must be specified as a function like () => ({my: 'object'})`;class vc extends U_{constructor(t,n){super(t,n),Object.defineProperty(this,pi,{value:"root",enumerable:!1})}get rawIn(){return super.rawIn}get rawOut(){return super.rawOut}get internal(){return this}get"~standard"(){return{vendor:"arktype",version:1,validate:t=>{const n=this(t);return n instanceof as?n:{value:n}},jsonSchema:{input:t=>this.rawIn.toJsonSchema({target:jE(t.target),...t.libraryOptions}),output:t=>this.rawOut.toJsonSchema({target:jE(t.target),...t.libraryOptions})}}}as(){return this}brand(t){return t===""?ae(Q8):this}readonly(){return this}branches=this.hasKind("union")?this.inner.branches:[this];distribute(t,n){const i=this.branches.map(t);return n?.(i)??i}get shortDescription(){return this.meta.description??this.defaultShortDescription}toJsonSchema(t={}){const n=z_(this.$.resolvedConfig.toJsonSchema,t);n.useRefs||=this.isCyclic;const i=typeof n.dialect=="string"?{$schema:n.dialect}:{};if(Object.assign(i,this.toJsonSchemaRecurse(n)),n.useRefs){const o=rt(this.references,(l,u)=>u.isRoot()&&!u.alwaysExpandJsonSchema?[u.id,u.toResolvedJsonSchema(n)]:[]);n.target==="draft-07"?Object.assign(i,{definitions:o}):i.$defs=o}return i}toJsonSchemaRecurse(t){return t.useRefs&&!this.alwaysExpandJsonSchema?{$ref:`#/${t.target==="draft-07"?"definitions":"$defs"}/${this.id}`}:this.toResolvedJsonSchema(t)}get alwaysExpandJsonSchema(){return this.isBasis()||this.kind==="alias"||this.hasKind("union")&&this.isBoolean}toResolvedJsonSchema(t){const n=this.innerToJsonSchema(t);return Object.assign(n,this.metaJson)}intersect(t){const n=this.$.parseDefinition(t),i=this.rawIntersect(n);return i instanceof we?i:this.$.finalize(i)}rawIntersect(t){return gi(this,t,this.$)}toNeverIfDisjoint(){return this}and(t){const n=this.intersect(t);return n instanceof we?n.throw():n}rawAnd(t){const n=this.rawIntersect(t);return n instanceof we?n.throw():n}or(t){const n=this.$.parseDefinition(t);return this.$.finalize(this.rawOr(n))}rawOr(t){const n=[...this.branches,...t.branches];return this.$.node("union",n)}map(t){return this.$.schema(this.applyStructuralOperation("map",[t]))}pick(...t){return this.$.schema(this.applyStructuralOperation("pick",t))}omit(...t){return this.$.schema(this.applyStructuralOperation("omit",t))}required(){return this.$.schema(this.applyStructuralOperation("required",[]))}partial(){return this.$.schema(this.applyStructuralOperation("partial",[]))}_keyof;keyof(){if(this._keyof)return this._keyof;const t=this.applyStructuralOperation("keyof",[]).reduce((n,i)=>n.intersect(i).toNeverIfDisjoint(),he.intrinsic.unknown.internal);return t.branches.length===0&&ae(F_(`keyof ${this.expression}`)),this._keyof=this.$.finalize(t)}get props(){return this.branches.length!==1?ae(X8(this.expression)):[...this.applyStructuralOperation("props",[])[0]]}merge(t){const n=this.$.parseDefinition(t);return this.$.schema(n.distribute(i=>this.applyStructuralOperation("merge",[PE(i)??ae(qE("merge",i.expression))])))}applyStructuralOperation(t,n){return this.distribute(i=>{if(i.equals(he.intrinsic.object)&&t!=="merge")return i;const o=PE(i);if(o||ae(qE(t,i.expression)),t==="keyof")return o.keyof();if(t==="get")return o.get(...n);if(t==="props")return o.props;const l=t==="required"?"require":t==="partial"?"optionalize":t;return this.$.node("intersection",{domain:"object",structure:o[l](...n)})})}get(...t){return t[0]===void 0?this:this.$.schema(this.applyStructuralOperation("get",t))}extract(t){const n=this.$.parseDefinition(t);return this.$.schema(this.branches.filter(i=>i.extends(n)))}exclude(t){const n=this.$.parseDefinition(t);return this.$.schema(this.branches.filter(i=>!i.extends(n)))}array(){return this.$.schema(this.isUnknown()?{proto:Array}:{proto:Array,sequence:this},{prereduced:!0})}overlaps(t){return!(this.intersect(t)instanceof we)}extends(t){if(this.isNever())return!0;const n=this.intersect(t);return!(n instanceof we)&&this.equals(n)}ifExtends(t){return this.extends(t)?this:void 0}subsumes(t){return this.$.parseDefinition(t).extends(this)}configure(t,n="shallow"){return this.configureReferences(t,n)}describe(t,n="shallow"){return this.configure({description:t},n)}optional(){return[this,"?"]}default(t){return jv(this,t,null),[this,"=",t]}from(t){return this.assert(t)}_pipe(...t){const n=t.reduce((i,o)=>i.rawPipeOnce(o),this);return this.$.finalize(n)}tryPipe(...t){const n=t.reduce((i,o)=>i.rawPipeOnce(Ae(o,"root")?o:((l,u)=>{try{return o(l,u)}catch(f){return u.error({code:"predicate",predicate:o,actual:`aborted due to error:
    ${f}
`})}})),this);return this.$.finalize(n)}pipe=Object.assign(this._pipe.bind(this),{try:this.tryPipe.bind(this)});to(t){return this.$.finalize(this.toNode(this.$.parseDefinition(t)))}toNode(t){const n=xy(this,t,this.$);return n instanceof we?n.throw():n}rawPipeOnce(t){return Ae(t,"root")?this.toNode(t):this.distribute(n=>n.hasKind("morph")?this.$.node("morph",{in:n.inner.in,morphs:[...n.morphs,t]}):this.$.node("morph",{in:n,morphs:[t]}),this.$.parseSchema)}narrow(t){return this.constrainOut("predicate",t)}constrain(t,n){return this._constrain("root",t,n)}constrainIn(t,n){return this._constrain("in",t,n)}constrainOut(t,n){return this._constrain("out",t,n)}_constrain(t,n,i){const o=this.$.node(n,i);if(o.isRoot())return o.isUnknown()?this:Tt(`Unexpected constraint node ${o}`);const l=t==="root"?this:t==="in"?this.rawIn:this.rawOut;if(l.hasKind("morph")||o.impliedBasis&&!l.extends(o.impliedBasis))return i8(n,o.impliedBasis,this);const u=this.$.node("intersection",{[o.kind]:o}),f=t==="out"?xy(this,u,this.$):gi(this,u,this.$);return f instanceof we&&f.throw(),this.$.finalize(f)}onUndeclaredKey(t){const n=typeof t=="string"?t:t.rule,i=typeof t=="string"?!1:t.deep;return this.$.finalize(this.transform((o,l)=>o==="structure"?n==="ignore"?y_(l,{undeclared:1}):{...l,undeclared:n}:l,i?void 0:{shouldTransform:o=>!oi(Od,o.kind)}))}hasEqualMorphs(t){return!this.includesTransform&&!t.includesTransform?!0:!(!da(this.shallowMorphs,t.shallowMorphs)||!da(this.flatMorphs,t.flatMorphs,{isEqual:(n,i)=>n.propString===i.propString&&(n.node.hasKind("morph")&&i.node.hasKind("morph")?n.node.hasEqualMorphs(i.node):n.node.hasKind("intersection")&&i.node.hasKind("intersection")?n.node.structure?.structuralMorphRef===i.node.structure?.structuralMorphRef:!1)}))}onDeepUndeclaredKey(t){return this.onUndeclaredKey({rule:t,deep:!0})}filter(t){return this.constrainIn("predicate",t)}divisibleBy(t){return this.constrain("divisor",t)}matching(t){return this.constrain("pattern",t)}atLeast(t){return this.constrain("min",t)}atMost(t){return this.constrain("max",t)}moreThan(t){return this.constrain("min",Ko(t))}lessThan(t){return this.constrain("max",Ko(t))}atLeastLength(t){return this.constrain("minLength",t)}atMostLength(t){return this.constrain("maxLength",t)}moreThanLength(t){return this.constrain("minLength",Ko(t))}lessThanLength(t){return this.constrain("maxLength",Ko(t))}exactlyLength(t){return this.constrain("exactLength",t)}atOrAfter(t){return this.constrain("after",t)}atOrBefore(t){return this.constrain("before",t)}laterThan(t){return this.constrain("after",Ko(t))}earlierThan(t){return this.constrain("before",Ko(t))}}const Q8="Expected a non-empty brand name after #",uO=["draft-2020-12","draft-07"],Y8=e=>`JSONSchema target '${e}' is not supported (must be ${uO.map(t=>`"${t}"`).join(" or ")})`,jE=e=>(oi(uO,e)||ae(Y8(e)),e),Ko=e=>typeof e=="object"&&!(e instanceof Date)?{...e,exclusive:!0}:{rule:e,exclusive:!0},uf=(e,t)=>Ae(t,"root")?Ae(e,"root")?e.extends(t):t.allows(e):Ae(e,"root")?e.hasUnit(t):t===e,PE=e=>e.hasKind("morph")?null:e.hasKind("intersection")?e.inner.structure??(e.basis?.domain==="object"?e.$.bindReference(he.intrinsic.emptyStructure):null):e.isBasis()&&e.domain==="object"?e.$.bindReference(he.intrinsic.emptyStructure):null,X8=e=>`Props cannot be extracted from a union. Use .distribute to extract props from each branch instead. Received:
${e}`,qE=(e,t)=>`${e} operand must be an object (was ${t})`,bc=(e,t)=>rt($v(e),(n,i)=>[i,t]),J8=e=>typeof e=="string"?{reference:e}:e,zE=e=>e instanceof we?he.intrinsic.never.internal:e,Z8=mt({kind:"alias",hasAssociatedError:!1,collapsibleKey:"reference",keys:{reference:{serialize:e=>e.startsWith("$")?e:`$ark.${e}`},resolve:{}},normalize:J8,defaults:{description:e=>e.reference},intersections:{alias:(e,t,n)=>n.$.lazilyResolve(()=>zE(qt(e.resolution,t.resolution,n)),`${e.reference}${n.pipe?"=>":"&"}${t.reference}`),...bc("alias",(e,t,n)=>t.isUnknown()?e:t.isNever()?t:t.isBasis()&&!t.overlaps(he.intrinsic.object)?we.init("assignability",he.intrinsic.object,t):n.$.lazilyResolve(()=>zE(qt(e.resolution,t,n)),`${e.reference}${n.pipe?"=>":"&"}${t.id}`))}});class W8 extends vc{expression=this.reference;structure=void 0;get resolution(){const t=this._resolve();return tr[this.id]=t}_resolve(){if(this.resolve)return this.resolve();if(this.reference[0]==="$")return this.$.resolveRoot(this.reference.slice(1));const t=this.reference;let n=tr[t];const i=[];for(;Ae(n,"context");){if(i.includes(n.id))return ae(eF(n.id,i));i.push(n.id),n=tr[n.id]}return Ae(n,"root")?n:Tt(`Unexpected resolution for reference ${this.reference}
Seen: [${i.join("->")}] 
Resolution: ${Ze(n)}`)}get resolutionId(){if(this.reference.includes("&")||this.reference.includes("=>"))return this.resolution.id;if(this.reference[0]!=="$")return this.reference;const t=this.reference.slice(1),n=this.$.resolutions[t];return typeof n=="string"?n:Ae(n,"root")?n.id:Tt(`Unexpected resolution for reference ${this.reference}: ${Ze(n)}`)}get defaultShortDescription(){return hi.object}innerToJsonSchema(t){return this.resolution.toJsonSchemaRecurse(t)}traverseAllows=(t,n)=>{const i=n.seen[this.reference];return i?.includes(t)?!0:(n.seen[this.reference]=tt(i,t),this.resolution.traverseAllows(t,n))};traverseApply=(t,n)=>{const i=n.seen[this.reference];i?.includes(t)||(n.seen[this.reference]=tt(i,t),this.resolution.traverseApply(t,n))};compile(t){const n=this.resolutionId;t.if(`ctx.seen.${n} && ctx.seen.${n}.includes(data)`,()=>t.return(!0)),t.if(`!ctx.seen.${n}`,()=>t.line(`ctx.seen.${n} = []`)),t.line(`ctx.seen.${n}.push(data)`),t.return(t.invoke(n))}}const eF=(e,t)=>`Alias '${e}' has a shallow resolution cycle: ${[...t,e].join("->")}`,Pv={implementation:Z8,Node:W8};class qv extends vc{traverseApply=(t,n)=>{this.traverseAllows(t,n)||n.errorFromNodeContext(this.errorContext)};get errorContext(){return{code:this.kind,description:this.description,meta:this.meta,...this.inner}}get compiledErrorContext(){return Nd(this.errorContext)}compile(t){t.traversalKind==="Allows"?t.return(this.compiledCondition):t.if(this.compiledNegation,()=>t.line(`ctx.errorFromNodeContext(${this.compiledErrorContext})`))}}const tF=mt({kind:"domain",hasAssociatedError:!0,collapsibleKey:"domain",keys:{domain:{},numberAllowsNaN:{}},normalize:e=>typeof e=="string"?{domain:e}:Tv(e,"numberAllowsNaN")&&e.domain!=="number"?ae(zv.writeBadAllowNanMessage(e.domain)):e,applyConfig:(e,t)=>e.numberAllowsNaN===void 0&&e.domain==="number"&&t.numberAllowsNaN?{...e,numberAllowsNaN:!0}:e,defaults:{description:e=>hi[e.domain],actual:e=>Number.isNaN(e)?"NaN":hi[yr(e)]},intersections:{domain:(e,t)=>e.domain==="number"&&t.domain==="number"?e.numberAllowsNaN?t:e:we.init("domain",e,t)}});class nF extends qv{requiresNaNCheck=this.domain==="number"&&!this.numberAllowsNaN;traverseAllows=this.requiresNaNCheck?t=>typeof t=="number"&&!Number.isNaN(t):t=>yr(t)===this.domain;compiledCondition=this.domain==="object"?'((typeof data === "object" && data !== null) || typeof data === "function")':`typeof data === "${this.domain}"${this.requiresNaNCheck?" && !Number.isNaN(data)":""}`;compiledNegation=this.domain==="object"?'((typeof data !== "object" || data === null) && typeof data !== "function")':`typeof data !== "${this.domain}"${this.requiresNaNCheck?" || Number.isNaN(data)":""}`;expression=this.numberAllowsNaN?"number | NaN":this.domain;get nestableExpression(){return this.numberAllowsNaN?`(${this.expression})`:this.expression}get defaultShortDescription(){return hi[this.domain]}innerToJsonSchema(t){return this.domain==="bigint"||this.domain==="symbol"?t.fallback.domain({code:"domain",base:{},domain:this.domain}):{type:this.domain}}}const zv={implementation:tF,Node:nF,writeBadAllowNanMessage:e=>`numberAllowsNaN may only be specified with domain "number" (was ${e})`},rF=mt({kind:"intersection",hasAssociatedError:!0,normalize:e=>{if(sn(e))return e;const{structure:t,...n}=e,i=!!t,o=t??{},l=rt(n,(u,f)=>Ir(u,V5)?(i&&ae(`Flattened structure key ${u} cannot be specified alongside a root 'structure' key.`),o[u]=f,[]):[u,f]);return(Ae(o,"constraint")||!pc(o))&&(l.structure=o),l},finalizeInnerJson:({structure:e,...t})=>Zs(e,"object")?{...e,...t}:t,keys:{domain:{child:!0,parse:(e,t)=>t.$.node("domain",e)},proto:{child:!0,parse:(e,t)=>t.$.node("proto",e)},structure:{child:!0,parse:(e,t)=>t.$.node("structure",e),serialize:e=>{if(!e.sequence?.minLength)return e.collapsibleJson;const{sequence:t,...n}=e.collapsibleJson,{minVariadicLength:i,...o}=t,l=o.variadic&&Object.keys(o).length===1?o.variadic:o;return{...n,sequence:l}}},divisor:{child:!0,parse:bn("divisor")},max:{child:!0,parse:bn("max")},min:{child:!0,parse:bn("min")},maxLength:{child:!0,parse:bn("maxLength")},minLength:{child:!0,parse:bn("minLength")},exactLength:{child:!0,parse:bn("exactLength")},before:{child:!0,parse:bn("before")},after:{child:!0,parse:bn("after")},pattern:{child:!0,parse:bn("pattern")},predicate:{child:!0,parse:bn("predicate")}},reduce:(e,t)=>UE({},e,{$:t,invert:!1,pipe:!1}),defaults:{description:e=>{if(e.children.length===0)return"unknown";if(e.structure)return e.structure.description;const t=[];if(e.basis&&!e.prestructurals.some(n=>n.impl.obviatesBasisDescription)&&t.push(e.basis.description),e.prestructurals.length){const n=e.prestructurals.slice().sort((i,o)=>i.kind==="min"&&o.kind==="max"?-1:0).map(i=>i.description);t.push(...n)}return e.inner.predicate&&t.push(...e.inner.predicate.map(n=>n.description)),t.join(" and ")},expected:e=>`   ${e.errors.map(t=>t.expected).join(`
   `)}`,problem:e=>`(${e.actual}) must be...
${e.expected}`},intersections:{intersection:(e,t,n)=>UE(e.inner,t.inner,n),...bc("intersection",(e,t,n)=>{if(e.children.length===0)return t;const{domain:i,proto:o,...l}=e.inner,u=o??i,f=u?qt(u,t,n):t;return f instanceof we?f:e?.basis?.equals(f)?e:e.$.node("intersection",{...l,[f.kind]:f},{prereduced:!0})})}});class iF extends vc{basis=this.inner.domain??this.inner.proto??null;prestructurals=[];refinements=this.children.filter(t=>t.isRefinement()?(oi(I_,t.kind)&&this.prestructurals.push(t),!0):!1);structure=this.inner.structure;expression=sF(this);get shallowMorphs(){return this.inner.structure?.structuralMorph?[this.inner.structure.structuralMorph]:[]}get defaultShortDescription(){return this.basis?.defaultShortDescription??"present"}innerToJsonSchema(t){return this.children.reduce((n,i)=>i.isBasis()?i.toJsonSchemaRecurse(t):i.reduceJsonSchema(n,t),{})}traverseAllows=(t,n)=>this.children.every(i=>i.traverseAllows(t,n));traverseApply=(t,n)=>{const i=n.currentErrorCount;if(!(this.basis&&(this.basis.traverseApply(t,n),n.currentErrorCount>i))){if(this.prestructurals.length){for(let o=0;o<this.prestructurals.length-1;o++)if(this.prestructurals[o].traverseApply(t,n),n.failFast&&n.currentErrorCount>i)return;if(this.prestructurals[this.prestructurals.length-1].traverseApply(t,n),n.currentErrorCount>i)return}if(!(this.structure&&(this.structure.traverseApply(t,n),n.currentErrorCount>i))&&this.inner.predicate){for(let o=0;o<this.inner.predicate.length-1;o++)if(this.inner.predicate[o].traverseApply(t,n),n.failFast&&n.currentErrorCount>i)return;this.inner.predicate[this.inner.predicate.length-1].traverseApply(t,n)}}};compile(t){if(t.traversalKind==="Allows"){for(const n of this.children)t.check(n);t.return(!0);return}if(t.initializeErrorCount(),this.basis&&(t.check(this.basis),this.children.length>1&&t.returnIfFail()),this.prestructurals.length){for(let n=0;n<this.prestructurals.length-1;n++)t.check(this.prestructurals[n]),t.returnIfFailFast();t.check(this.prestructurals[this.prestructurals.length-1]),(this.structure||this.inner.predicate)&&t.returnIfFail()}if(this.structure&&(t.check(this.structure),this.inner.predicate&&t.returnIfFail()),this.inner.predicate){for(let n=0;n<this.inner.predicate.length-1;n++)t.check(this.inner.predicate[n]),t.returnIfFail();t.check(this.inner.predicate[this.inner.predicate.length-1])}}}const fO={implementation:rF,Node:iF},sF=e=>{if(e.structure?.expression)return e.structure.expression;const t=e.basis&&!e.prestructurals.some(o=>o.impl.obviatesBasisExpression)?e.basis.nestableExpression:"",n=e.prestructurals.map(o=>o.expression).join(" & "),i=`${t}${t?" ":""}${n}`;return i==="Array == 0"?"[]":i||"unknown"},UE=(e,t,n)=>{const i={},o=e.proto??e.domain,l=t.proto??t.domain,u=o?l?qt(o,l,n):o:l;return u instanceof we?u:(u&&(i[u.kind]=u),Yf({kind:"intersection",baseInner:i,l:Xf(e),r:Xf(t),roots:[],ctx:n}))},oF=mt({kind:"morph",hasAssociatedError:!1,keys:{in:{child:!0,parse:(e,t)=>t.$.parseSchema(e)},morphs:{parse:hc,serialize:e=>e.map(t=>Ae(t,"root")?t.json:an(t))},declaredIn:{child:!1,serialize:e=>e.json},declaredOut:{child:!1,serialize:e=>e.json}},normalize:e=>e,defaults:{description:e=>`a morph from ${e.rawIn.description} to ${e.rawOut?.description??"unknown"}`},intersections:{morph:(e,t,n)=>{if(!e.hasEqualMorphs(t))return ae(lF(e.expression,t.expression));const i=qt(e.rawIn,t.rawIn,n);if(i instanceof we)return i;const o={morphs:e.morphs};if(e.declaredIn||t.declaredIn){const l=qt(e.rawIn,t.rawIn,n);if(l instanceof we)return l.throw();o.declaredIn=l}if(e.declaredOut||t.declaredOut){const l=qt(e.rawOut,t.rawOut,n);if(l instanceof we)return l.throw();o.declaredOut=l}return i.distribute(l=>n.$.node("morph",{...o,in:l}),n.$.parseSchema)},...bc("morph",(e,t,n)=>{const i=e.inner.in?qt(e.inner.in,t,n):t;return i instanceof we?i:i.equals(e.inner.in)?e:n.$.node("morph",{...e.inner,in:i})})}});class aF extends vc{serializedMorphs=this.morphs.map(an);compiledMorphs=`[${this.serializedMorphs}]`;lastMorph=this.inner.morphs[this.inner.morphs.length-1];lastMorphIfNode=Ae(this.lastMorph,"root")?this.lastMorph:void 0;introspectableIn=this.inner.in;introspectableOut=this.lastMorphIfNode?Object.assign(this.referencesById,this.lastMorphIfNode.referencesById)&&this.lastMorphIfNode.rawOut:void 0;get shallowMorphs(){return Array.isArray(this.inner.in?.shallowMorphs)?[...this.inner.in.shallowMorphs,...this.morphs]:this.morphs}get rawIn(){return this.declaredIn??this.inner.in?.rawIn??he.intrinsic.unknown.internal}get rawOut(){return this.declaredOut??this.introspectableOut??he.intrinsic.unknown.internal}declareIn(t){return this.$.node("morph",{...this.inner,declaredIn:t})}declareOut(t){return this.$.node("morph",{...this.inner,declaredOut:t})}expression=`(In: ${this.rawIn.expression}) => ${this.lastMorphIfNode?"To":"Out"}<${this.rawOut.expression}>`;get defaultShortDescription(){return this.rawIn.meta.description??this.rawIn.defaultShortDescription}innerToJsonSchema(t){return t.fallback.morph({code:"morph",base:this.rawIn.toJsonSchemaRecurse(t),out:this.introspectableOut?.toJsonSchemaRecurse(t)??null})}compile(t){if(t.traversalKind==="Allows"){if(!this.introspectableIn)return;t.return(t.invoke(this.introspectableIn));return}this.introspectableIn&&t.line(t.invoke(this.introspectableIn)),t.line(`ctx.queueMorphs(${this.compiledMorphs})`)}traverseAllows=(t,n)=>!this.introspectableIn||this.introspectableIn.traverseAllows(t,n);traverseApply=(t,n)=>{this.introspectableIn&&this.introspectableIn.traverseApply(t,n),n.queueMorphs(this.morphs)};hasEqualMorphs(t){return da(this.morphs,t.morphs,{isEqual:(n,i)=>n===i||Ae(n,"root")&&Ae(i,"root")&&n.equals(i)})}}const dO={implementation:oF,Node:aF},lF=(e,t)=>`The intersection of distinct morphs at a single path is indeterminate:
Left: ${e}
Right: ${t}`,cF=mt({kind:"proto",hasAssociatedError:!0,collapsibleKey:"proto",keys:{proto:{serialize:e=>Ov(e)??Gs(e)},dateAllowsInvalid:{}},normalize:e=>{const t=typeof e=="string"?{proto:pa[e]}:typeof e=="function"?sn(e)?e:{proto:e}:typeof e.proto=="string"?{...e,proto:pa[e.proto]}:e;return typeof t.proto!="function"&&ae(Zf.writeInvalidSchemaMessage(t.proto)),Tv(t,"dateAllowsInvalid")&&t.proto!==Date&&ae(Zf.writeBadInvalidDateMessage(t.proto)),t},applyConfig:(e,t)=>e.dateAllowsInvalid===void 0&&e.proto===Date&&t.dateAllowsInvalid?{...e,dateAllowsInvalid:!0}:e,defaults:{description:e=>e.builtinName?i5[e.builtinName]:`an instance of ${e.proto.name}`,actual:e=>e instanceof Date&&e.toString()==="Invalid Date"?"an invalid Date":my(e)},intersections:{proto:(e,t)=>e.proto===Date&&t.proto===Date?e.dateAllowsInvalid?t:e:CE(e.proto,t.proto)?e:CE(t.proto,e.proto)?t:we.init("proto",e,t),domain:(e,t)=>t.domain==="object"?e:we.init("domain",he.intrinsic.object.internal,t)}});class uF extends qv{builtinName=Ov(this.proto);serializedConstructor=this.json.proto;requiresInvalidDateCheck=this.proto===Date&&!this.dateAllowsInvalid;traverseAllows=this.requiresInvalidDateCheck?t=>t instanceof Date&&t.toString()!=="Invalid Date":t=>t instanceof this.proto;compiledCondition=`data instanceof ${this.serializedConstructor}${this.requiresInvalidDateCheck?' && data.toString() !== "Invalid Date"':""}`;compiledNegation=`!(${this.compiledCondition})`;innerToJsonSchema(t){switch(this.builtinName){case"Array":return{type:"array"};case"Date":return t.fallback.date?.({code:"date",base:{}})??t.fallback.proto({code:"proto",base:{},proto:this.proto});default:return t.fallback.proto({code:"proto",base:{},proto:this.proto})}}expression=this.dateAllowsInvalid?"Date | InvalidDate":this.proto.name;get nestableExpression(){return this.dateAllowsInvalid?`(${this.expression})`:this.expression}domain="object";get defaultShortDescription(){return this.description}}const Zf={implementation:cF,Node:uF,writeBadInvalidDateMessage:e=>`dateAllowsInvalid may only be specified with constructor Date (was ${e.name})`,writeInvalidSchemaMessage:e=>`instanceOf operand must be a function (was ${yr(e)})`},fF=mt({kind:"union",hasAssociatedError:!0,collapsibleKey:"branches",keys:{ordered:{},branches:{child:!0,parse:(e,t)=>{const n=[];for(const i of e){const o=Ae(i,"root")?i.branches:t.$.parseSchema(i).branches;for(const l of o)if(l.hasKind("morph")){const u=n.findIndex(f=>f.hasKind("morph")&&f.hasEqualMorphs(l));if(u===-1)n.push(l);else{const f=n[u];n[u]=t.$.node("morph",{...f.inner,in:f.rawIn.rawOr(l.rawIn)})}}else n.push(l)}return t.def.ordered||n.sort((i,o)=>i.hash<o.hash?-1:1),n}}},normalize:e=>en(e)?{branches:e}:e,reduce:(e,t)=>{const n=xF(e);if(n.length===1)return n[0];if(n.length!==e.branches.length)return t.node("union",{...e,branches:n},{prereduced:!0})},defaults:{description:e=>e.distribute(t=>t.description,oa),expected:e=>{const t=F6(e.errors,"propString"),n=Object.entries(t).map(([i,o])=>{const l=[];for(const d of o)Us(l,d.expected);const u=oa(l),f=o.every(d=>d.actual===o[0].actual)?o[0].actual:Ze(o[0].data);return`${i&&`${i} `}must be ${u}${f&&` (was ${f})`}`});return oa(n)},problem:e=>e.expected,message:e=>e.problem[0]==="["?`value at ${e.problem}`:e.problem},intersections:{union:(e,t,n)=>{if(e.isNever!==t.isNever)return we.init("presence",e,t);let i;return e.ordered?(t.ordered&&ae(RF(e.expression,t.expression)),i=$g(t.branches,e.branches,n),i instanceof we&&i.invert()):i=$g(e.branches,t.branches,n),i instanceof we?i:n.$.parseSchema(e.ordered||t.ordered?{branches:i,ordered:!0}:{branches:i})},...bc("union",(e,t,n)=>{const i=$g(e.branches,[t],n);return i instanceof we?i:i.length===1?i[0]:n.$.parseSchema(e.ordered?{branches:i,ordered:!0}:{branches:i})})}});class dF extends vc{isBoolean=this.branches.length===2&&this.branches[0].hasUnit(!1)&&this.branches[1].hasUnit(!0);get branchGroups(){const t=[];let n=-1;for(const i of this.branches){if(i.hasKind("unit")&&i.domain==="boolean"){n===-1?(n=t.length,t.push(i)):t[n]=he.intrinsic.boolean;continue}t.push(i)}return t}unitBranches=this.branches.filter(t=>t.rawIn.hasKind("unit"));discriminant=this.discriminate();discriminantJson=this.discriminant?bF(this.discriminant):null;expression=this.distribute(t=>t.nestableExpression,SF);createBranchedOptimisticRootApply(){return(t,n)=>{const i=this.traverseOptimistic(t);if(i!==Tr)return i;const o=new Xo(t,this.$.resolvedConfig);return this.traverseApply(t,o),o.finalize(n)}}get shallowMorphs(){return this.branches.reduce((t,n)=>Us(t,n.shallowMorphs),[])}get defaultShortDescription(){return this.distribute(t=>t.defaultShortDescription,oa)}innerToJsonSchema(t){if(this.branchGroups.length===1&&this.branchGroups[0].equals(he.intrinsic.boolean))return{type:"boolean"};const n=this.branchGroups.map(i=>i.toJsonSchemaRecurse(t));return n.every(i=>Object.keys(i).length===1&&Tv(i,"const"))?{enum:n.map(i=>i.const)}:{anyOf:n}}traverseAllows=(t,n)=>this.branches.some(i=>i.traverseAllows(t,n));traverseApply=(t,n)=>{const i=[];for(let o=0;o<this.branches.length;o++){if(n.pushBranch(),this.branches[o].traverseApply(t,n),!n.hasError())return this.branches[o].includesTransform?n.queuedMorphs.push(...n.popBranch().queuedMorphs):n.popBranch();i.push(n.popBranch().error)}n.errorFromNodeContext({code:"union",errors:i,meta:this.meta})};traverseOptimistic=t=>{for(let n=0;n<this.branches.length;n++){const i=this.branches[n];if(i.traverseAllows(t))return i.contextFreeMorph?i.contextFreeMorph(t):t}return Tr};compile(t){if(!this.discriminant||this.unitBranches.length===this.branches.length&&this.branches.length===2)return this.compileIndiscriminable(t);let n=this.discriminant.optionallyChainedPropString;this.discriminant.kind==="domain"&&(n=`typeof ${n} === "object" ? ${n} === null ? "null" : "object" : typeof ${n} === "function" ? "object" : typeof ${n}`);const i=this.discriminant.cases,o=Object.keys(i),{optimistic:l}=t;if(t.optimistic=!1,t.block(`switch(${n})`,()=>{for(const g in i){const y=i[g],v=g==="default"?g:`case ${g}`;let S;y===!0?S=l?"data":"true":l?y.rootApplyStrategy==="branchedOptimistic"?S=t.invoke(y,{kind:"Optimistic"}):y.contextFreeMorph?S=`${t.invoke(y)} ? ${an(y.contextFreeMorph)}(data) : "${Tr}"`:S=`${t.invoke(y)} ? data : "${Tr}"`:S=t.invoke(y),t.line(`${v}: return ${S}`)}return t}),t.traversalKind==="Allows"){t.return(l?`"${Tr}"`:!1);return}const u=oa(this.discriminant.kind==="domain"?o.map(g=>{const y=g.slice(1,-1);return y==="function"?hi.object:hi[y]}):o),f=this.discriminant.path.map(g=>typeof g=="symbol"?an(g):JSON.stringify(g)),d=JSON.stringify(u),p=this.discriminant.kind==="domain"?`${yF}[${n}]`:`${vF}(${n})`;t.line(`ctx.errorFromNodeContext({
	code: "predicate",
	expected: ${d},
	actual: ${p},
	relativePath: [${f}],
	meta: ${this.compiledMeta}
})`)}compileIndiscriminable(t){if(t.traversalKind==="Apply"){t.const("errors","[]");for(const n of this.branches)t.line("ctx.pushBranch()").line(t.invoke(n)).if("!ctx.hasError()",()=>t.return(n.includesTransform?"ctx.queuedMorphs.push(...ctx.popBranch().queuedMorphs)":"ctx.popBranch()")).line("errors.push(ctx.popBranch().error)");t.line(`ctx.errorFromNodeContext({ code: "union", errors, meta: ${this.compiledMeta} })`)}else{const{optimistic:n}=t;t.optimistic=!1;for(const i of this.branches)t.if(`${t.invoke(i)}`,()=>t.return(n?i.contextFreeMorph?`${an(i.contextFreeMorph)}(data)`:"data":!0));t.return(n?`"${Tr}"`:!1)}}get nestableExpression(){return this.isBoolean?"boolean":`(${this.expression})`}discriminate(){if(this.branches.length<2||this.isCyclic)return null;if(this.unitBranches.length===this.branches.length){const l=rt(this.unitBranches,(u,f)=>[`${f.rawIn.serializedValue}`,f.hasKind("morph")?f:!0]);return{kind:"unit",path:[],optionallyChainedPropString:"data",cases:l}}const t=[];for(let l=0;l<this.branches.length-1;l++){const u=this.branches[l];for(let f=l+1;f<this.branches.length;f++){const d=this.branches[f],p=gi(u.rawIn,d.rawIn,u.$);if(p instanceof we)for(const g of p){if(!g.kind||g.optional)continue;let y,v;if(g.kind==="domain"){const E=g.l,w=g.r;y=`"${typeof E=="string"?E:E.domain}"`,v=`"${typeof w=="string"?w:w.domain}"`}else if(g.kind==="unit")y=g.l.serializedValue,v=g.r.serializedValue;else continue;const S=t.find(E=>da(E.path,g.path)&&E.kind===g.kind);S?(S.cases[y]?S.cases[y].branchIndices=Us(S.cases[y].branchIndices,l):S.cases[y]??={branchIndices:[l],condition:g.l},S.cases[v]?S.cases[v].branchIndices=Us(S.cases[v].branchIndices,f):S.cases[v]??={branchIndices:[f],condition:g.r}):t.push({kind:g.kind,cases:{[y]:{branchIndices:[l],condition:g.l},[v]:{branchIndices:[f],condition:g.r}},path:g.path})}}}const n=this.ordered?mF(t,this.branches):t;if(!n.length)return null;const i=hF(n,this),o={};for(const l in i.best.cases){const u=pF(i,l);if(u===null){o[l]=!0;continue}if(u.length===this.branches.length)return null;this.ordered&&u.sort((p,g)=>p.originalIndex-g.originalIndex);const f=u.map(p=>p.branch),d=f.length===1?f[0]:this.$.node("union",this.ordered?{branches:f,ordered:!0}:f);Object.assign(this.referencesById,d.referencesById),o[l]=d}if(i.defaultEntries.length){const l=i.defaultEntries.map(u=>u.branch);o.default=this.$.node("union",this.ordered?{branches:l,ordered:!0}:l,{prereduced:!0}),Object.assign(this.referencesById,o.default.referencesById)}return Object.assign(i.location,{cases:o})}}const hF=(e,t)=>{const i=e.sort((u,f)=>u.path.length===f.path.length?Object.keys(f.cases).length-Object.keys(u.cases).length:u.path.length-f.path.length)[0],o={kind:i.kind,path:i.path,optionallyChainedPropString:hO(i.path)},l=t.branches.map((u,f)=>({originalIndex:f,branch:u}));return{best:i,location:o,defaultEntries:l,node:t}},pF=(e,t)=>{const n=e.best.cases[t],i=gF(n.condition,e.location.path,e.node.$);let o=[];const l=[];for(let u=0;u<e.defaultEntries.length;u++){const f=e.defaultEntries[u];if(n.branchIndices.includes(f.originalIndex)){const d=BE(e.node.branches[f.originalIndex],e.location);d===null?o=null:o?.push({originalIndex:f.originalIndex,branch:d})}else if(f.branch.hasKind("alias")&&i.hasKind("domain")&&i.domain==="object")o?.push(f);else{if(f.branch.rawIn.overlaps(i)){const d=BE(f.branch,e.location);o?.push({originalIndex:f.originalIndex,branch:d})}l.push(f)}}return e.defaultEntries=l,o},mF=(e,t)=>e.filter(i=>{const o=Object.values(i.cases).map(l=>l.branchIndices);for(let l=0;l<o.length-1;l++){const u=o[l];for(let f=l+1;f<o.length;f++){const d=o[f];for(const p of u)for(const g of d)if(p>g&&t[p].overlaps(t[g]))return!1}}return!0}),gF=(e,t,n)=>{let i=e==="undefined"?n.node("unit",{unit:void 0}):e==="null"?n.node("unit",{unit:null}):e==="boolean"?n.units([!0,!1]):e;for(let o=t.length-1;o>=0;o--){const l=t[o];i=n.node("intersection",typeof l=="number"?{proto:"Array",sequence:[...U6(l).map(u=>({})),i]}:{domain:"object",required:[{key:l,value:i}]})}return i},hO=e=>e.reduce((t,n)=>t+$_(n,!0),"data"),yF=an(V6),vF=an(Ze),pO={implementation:fF,Node:dF},bF=e=>({kind:e.kind,path:e.path.map(t=>typeof t=="string"?t:Ra(t)),cases:rt(e.cases,(t,n)=>[t,n===!0?n:n.hasKind("union")&&n.discriminantJson?n.discriminantJson:n.json])}),wF={delimiter:" | ",finalDelimiter:" | "},SF=e=>oa(e,wF),oa=(e,t)=>{const n=t?.delimiter??", ",i=t?.finalDelimiter??" or ";if(e.length===0)return"never";if(e.length===1)return e[0];if(e.length===2&&e[0]==="false"&&e[1]==="true"||e[0]==="true"&&e[1]==="false")return"boolean";const o={},l=e.filter(f=>o[f]?!1:o[f]=!0),u=l.pop();return`${l.join(n)}${l.length?i:""}${u}`},$g=(e,t,n)=>{const i=t.map(()=>[]);for(let l=0;l<e.length;l++){let u={};for(let f=0;f<t.length;f++){if(i[f]===null)continue;if(e[l].equals(t[f])){i[f]=null,u={};break}const d=qt(e[l],t[f],n);if(!(d instanceof we)){if(d.equals(e[l])){i[f].push(e[l]),u={};break}d.equals(t[f])?i[f]=null:u[f]=d}}for(const f in u)i[f][l]=u[f]}const o=i.flatMap((l,u)=>l?.flatMap(f=>f.branches)??t[u]);return o.length===0?we.init("union",e,t):o},xF=({branches:e,ordered:t})=>{if(e.length<2)return e;const n=e.map(()=>!0);for(let i=0;i<e.length;i++)for(let o=i+1;o<e.length&&n[i]&&n[o];o++){if(e[i].equals(e[o])){n[o]=!1;continue}const l=gi(e[i].rawIn,e[o].rawIn,e[0].$);l instanceof we||(t||EF(e[i],e[o]),l.equals(e[i].rawIn)?n[i]=!!t:l.equals(e[o].rawIn)&&(n[o]=!1))}return e.filter((i,o)=>n[o])},EF=(e,t)=>{!e.includesTransform&&!t.includesTransform||(da(e.shallowMorphs,t.shallowMorphs)||ae(FE(e.expression,t.expression)),da(e.flatMorphs,t.flatMorphs,{isEqual:(n,i)=>n.propString===i.propString&&(n.node.hasKind("morph")&&i.node.hasKind("morph")?n.node.hasEqualMorphs(i.node):n.node.hasKind("intersection")&&i.node.hasKind("intersection")?n.node.structure?.structuralMorphRef===i.node.structure?.structuralMorphRef:!1)})||ae(FE(e.expression,t.expression)))},BE=(e,t)=>e.transform((n,i)=>n==="domain"||n==="unit"?null:i,{shouldTransform:(n,i)=>{const o=hO(i.path);return t.optionallyChainedPropString.startsWith(o)?n.hasKind("domain")&&n.domain==="object"||(n.hasKind("domain")||t.kind==="unit")&&o===t.optionallyChainedPropString?!0:n.children.length!==0&&n.kind!=="index":!1}}),FE=(e,t)=>`An unordered union of a type including a morph and a type with overlapping input is indeterminate:
Left: ${e}
Right: ${t}`,RF=(e,t)=>`The intersection of two ordered unions is indeterminate:
Left: ${e}
Right: ${t}`,AF=mt({kind:"unit",hasAssociatedError:!0,keys:{unit:{preserveUndefined:!0,serialize:e=>e instanceof Date?e.toISOString():Gs(e)}},normalize:e=>e,defaults:{description:e=>Ze(e.unit),problem:({expected:e,actual:t})=>`${e===t?`must be reference equal to ${e} (serialized to the same value)`:`must be ${e} (was ${t})`}`},intersections:{unit:(e,t)=>we.init("unit",e,t),...bc("unit",(e,t)=>{if(t.allows(e.unit))return e;const n=t.hasKind("intersection")?t.basis:t;if(n){const i=n.hasKind("domain")?n:he.intrinsic.object;if(e.domain!==i.domain){const o=e.domain==="undefined"||e.domain==="null"||e.domain==="boolean"?e.domain:he.intrinsic[e.domain];return we.init("domain",o,i)}}return we.init("assignability",e,t.hasKind("intersection")?t.children.find(i=>!i.allows(e.unit)):t)})}});class CF extends qv{compiledValue=this.json.unit;serializedValue=typeof this.unit=="string"||this.unit instanceof Date?JSON.stringify(this.compiledValue):`${this.compiledValue}`;compiledCondition=VE(this.unit,this.serializedValue);compiledNegation=VE(this.unit,this.serializedValue,"negated");expression=Ze(this.unit);domain=yr(this.unit);get defaultShortDescription(){return this.domain==="object"?hi.object:this.description}innerToJsonSchema(t){return this.unit===null?{type:"null"}:he.intrinsic.jsonPrimitive.allows(this.unit)?{const:this.unit}:t.fallback.unit({code:"unit",base:{},unit:this.unit})}traverseAllows=this.unit instanceof Date?t=>t instanceof Date&&t.toISOString()===this.compiledValue:Number.isNaN(this.unit)?t=>Number.isNaN(t):t=>t===this.unit}const mO={implementation:AF,Node:CF},VE=(e,t,n)=>{if(e instanceof Date){const i=`data instanceof Date && data.toISOString() === ${t}`;return n?`!(${i})`:i}return Number.isNaN(e)?`${n?"!":""}Number.isNaN(data)`:`data ${n?"!":"="}== ${t}`},TF=mt({kind:"index",hasAssociatedError:!1,intersectionIsOpen:!0,keys:{signature:{child:!0,parse:(e,t)=>{const n=t.$.parseSchema(e);if(!n.extends(he.intrinsic.key))return ae(MF(n.expression));const i=n.branches.filter(o=>o.hasKind("unit"));return i.length?ae(OF(i.map(o=>Ze(o.unit)))):n}},value:{child:!0,parse:(e,t)=>t.$.parseSchema(e)}},normalize:e=>e,defaults:{description:e=>`[${e.signature.expression}]: ${e.value.description}`},intersections:{index:(e,t,n)=>{if(e.signature.equals(t.signature)){const i=qt(e.value,t.value,n),o=i instanceof we?he.intrinsic.never.internal:i;return n.$.node("index",{signature:e.signature,value:o})}return e.signature.extends(t.signature)&&e.value.subsumes(t.value)?t:t.signature.extends(e.signature)&&t.value.subsumes(e.value)?e:null}}});class _F extends Aa{impliedBasis=he.intrinsic.object.internal;expression=`[${this.signature.expression}]: ${this.value.expression}`;flatRefs=tt(this.value.flatRefs.map(t=>ns([this.signature,...t.path],t.node)),ns([this.signature],this.value));traverseAllows=(t,n)=>Kf(t).every(i=>this.signature.traverseAllows(i[0],n)?mi(i[0],()=>this.value.traverseAllows(i[1],n),n):!0);traverseApply=(t,n)=>{for(const i of Kf(t))this.signature.traverseAllows(i[0],n)&&mi(i[0],()=>this.value.traverseApply(i[1],n),n)};_transform(t,n){n.path.push(this.signature);const i=super._transform(t,n);return n.path.pop(),i}compile(){}}const gO={implementation:TF,Node:_F},OF=e=>`Index keys ${e.join(", ")} should be specified as named props.`,MF=e=>`Indexed key definition '${e}' must be a string or symbol`,NF=mt({kind:"required",hasAssociatedError:!0,intersectionIsOpen:!0,keys:{key:{},value:{child:!0,parse:(e,t)=>t.$.parseSchema(e)}},normalize:e=>e,defaults:{description:e=>`${e.compiledKey}: ${e.value.description}`,expected:e=>e.missingValueDescription,actual:()=>"missing"},intersections:{required:Ry,optional:Ry}});class kF extends aO{expression=`${this.compiledKey}: ${this.value.expression}`;errorContext=Object.freeze({code:"required",missingValueDescription:this.value.defaultShortDescription,relativePath:[this.key],meta:this.meta});compiledErrorContext=Nd(this.errorContext)}const yO={implementation:NF,Node:kF},$F=mt({kind:"sequence",hasAssociatedError:!1,collapsibleKey:"variadic",keys:{prefix:{child:!0,parse:(e,t)=>{if(e.length!==0)return e.map(n=>t.$.parseSchema(n))}},optionals:{child:!0,parse:(e,t)=>{if(e.length!==0)return e.map(n=>t.$.parseSchema(n))}},defaultables:{child:e=>e.map(t=>t[0]),parse:(e,t)=>{if(e.length!==0)return e.map(n=>{const i=t.$.parseSchema(n[0]);return jv(i,n[1],null),[i,n[1]]})},serialize:e=>e.map(t=>[t[0].collapsibleJson,Gs(t[1])]),reduceIo:(e,t,n)=>{if(e==="in"){t.optionals=n.map(i=>i[0].rawIn);return}t.prefix=n.map(i=>i[0].rawOut)}},variadic:{child:!0,parse:(e,t)=>t.$.parseSchema(e,t)},minVariadicLength:{parse:e=>e===0?void 0:e},postfix:{child:!0,parse:(e,t)=>{if(e.length!==0)return e.map(n=>t.$.parseSchema(n))}}},normalize:e=>{if(typeof e=="string")return{variadic:e};if("variadic"in e||"prefix"in e||"defaultables"in e||"optionals"in e||"postfix"in e||"minVariadicLength"in e){if(e.postfix?.length){if(!e.variadic)return ae(PF);if(e.optionals?.length||e.defaultables?.length)return ae(bO)}return e.minVariadicLength&&!e.variadic?ae("minVariadicLength may not be specified without a variadic element"):e}return{variadic:e}},reduce:(e,t)=>{let n=e.minVariadicLength??0;const i=e.prefix?.slice()??[],o=e.defaultables?.slice()??[],l=e.optionals?.slice()??[],u=e.postfix?.slice()??[];if(e.variadic){for(;l[l.length-1]?.equals(e.variadic);)l.pop();if(l.length===0&&o.length===0)for(;i[i.length-1]?.equals(e.variadic);)i.pop(),n++;for(;u[0]?.equals(e.variadic);)u.shift(),n++}else l.length===0&&o.length===0&&i.push(...u.splice(0));if(n!==e.minVariadicLength||e.prefix&&e.prefix.length!==i.length)return t.node("sequence",{...e,prefix:i,defaultables:o,optionals:l,postfix:u,minVariadicLength:n},{prereduced:!0})},defaults:{description:e=>e.isVariadicOnly?`${e.variadic.nestableExpression}[]`:`[${e.tuple.map(n=>n.kind==="defaultables"?`${n.node.nestableExpression} = ${Ze(n.default)}`:n.kind==="optionals"?`${n.node.nestableExpression}?`:n.kind==="variadic"?`...${n.node.nestableExpression}[]`:n.node.expression).join(", ")}]`},intersections:{sequence:(e,t,n)=>{const i=Ll({l:e.tuple,r:t.tuple,disjoint:new we,result:[],fixedVariants:[],ctx:n}),o=i.disjoint.length===0?[i,...i.fixedVariants]:i.fixedVariants;return o.length===0?i.disjoint:o.length===1?n.$.node("sequence",KE(o[0].result)):n.$.node("union",o.map(l=>({proto:Array,sequence:KE(l.result)})))}}});class LF extends Aa{impliedBasis=he.intrinsic.Array.internal;tuple=jF(this.inner);prefixLength=this.prefix?.length??0;defaultablesLength=this.defaultables?.length??0;optionalsLength=this.optionals?.length??0;postfixLength=this.postfix?.length??0;defaultablesAndOptionals=[];prevariadic=this.tuple.filter(t=>t.kind==="defaultables"||t.kind==="optionals"?(this.defaultablesAndOptionals.push(t.node),!0):t.kind==="prefix");variadicOrPostfix=js(this.variadic&&[this.variadic],this.postfix);flatRefs=this.addFlatRefs();addFlatRefs(){return kE(this.flatRefs,this.prevariadic.flatMap((t,n)=>tt(t.node.flatRefs.map(i=>ns([`${n}`,...i.path],i.node)),ns([`${n}`],t.node)))),kE(this.flatRefs,this.variadicOrPostfix.flatMap(t=>tt(t.flatRefs.map(n=>ns([he.intrinsic.nonNegativeIntegerString.internal,...n.path],n.node)),ns([he.intrinsic.nonNegativeIntegerString.internal],t)))),this.flatRefs}isVariadicOnly=this.prevariadic.length+this.postfixLength===0;minVariadicLength=this.inner.minVariadicLength??0;minLength=this.prefixLength+this.minVariadicLength+this.postfixLength;minLengthNode=this.minLength===0?null:this.$.node("minLength",this.minLength);maxLength=this.variadic?null:this.tuple.length;maxLengthNode=this.maxLength===null?null:this.$.node("maxLength",this.maxLength);impliedSiblings=this.minLengthNode?this.maxLengthNode?[this.minLengthNode,this.maxLengthNode]:[this.minLengthNode]:this.maxLengthNode?[this.maxLengthNode]:[];defaultValueMorphs=IF(this);defaultValueMorphsReference=this.defaultValueMorphs.length?an(this.defaultValueMorphs):void 0;elementAtIndex(t,n){if(n<this.prevariadic.length)return this.tuple[n];const i=t.length-this.postfixLength;return n>=i?{kind:"postfix",node:this.postfix[n-i]}:{kind:"variadic",node:this.variadic??Tt(`Unexpected attempt to access index ${n} on ${this}`)}}traverseAllows=(t,n)=>{for(let i=0;i<t.length;i++)if(!this.elementAtIndex(t,i).node.traverseAllows(t[i],n))return!1;return!0};traverseApply=(t,n)=>{let i=0;for(;i<t.length;i++)mi(i,()=>this.elementAtIndex(t,i).node.traverseApply(t[i],n),n)};get element(){return this.cacheGetter("element",this.$.node("union",this.children))}compile(t){if(this.prefix)for(const[n,i]of this.prefix.entries())t.traverseKey(`${n}`,`data[${n}]`,i);for(const[n,i]of this.defaultablesAndOptionals.entries()){const o=`${n+this.prefixLength}`;t.if(`${o} >= data.length`,()=>t.traversalKind==="Allows"?t.return(!0):t.return()),t.traverseKey(o,`data[${o}]`,i)}if(this.variadic&&(this.postfix&&t.const("firstPostfixIndex",`data.length${this.postfix?`- ${this.postfix.length}`:""}`),t.for(`i < ${this.postfix?"firstPostfixIndex":"data.length"}`,()=>t.traverseKey("i","data[i]",this.variadic),this.prevariadic.length),this.postfix))for(const[n,i]of this.postfix.entries()){const o=`firstPostfixIndex + ${n}`;t.traverseKey(o,`data[${o}]`,i)}t.traversalKind==="Allows"&&t.return(!0)}_transform(t,n){n.path.push(he.intrinsic.nonNegativeIntegerString.internal);const i=super._transform(t,n);return n.path.pop(),i}expression=this.description;reduceJsonSchema(t,n){const i=n.target==="draft-07";if(this.prevariadic.length){const o=this.prevariadic.map(l=>{const u=l.node.toJsonSchemaRecurse(n);if(l.kind==="defaultables"){const f=typeof l.default=="function"?l.default():l.default;u.default=he.intrinsic.jsonData.allows(f)?f:n.fallback.defaultValue({code:"defaultValue",base:u,value:f})}return u});i?t.items=o:t.prefixItems=o}if(this.minLength&&(t.minItems=this.minLength),this.variadic){const o=this.variadic.toJsonSchemaRecurse(n);if(i&&this.prevariadic.length?t.additionalItems=o:t.items=o,this.maxLength&&(t.maxItems=this.maxLength),this.postfix){const l=this.postfix.map(u=>u.toJsonSchemaRecurse(n));t=n.fallback.arrayPostfix({code:"arrayPostfix",base:t,elements:l})}}else i?t.additionalItems=!1:t.items=!1,delete t.maxItems;return t}}const DF={},IF=e=>{if(!e.defaultables)return[];const t=[];let n="[";const i=e.prefixLength+e.defaultablesLength-1;for(let o=e.prefixLength;o<=i;o++){const[l,u]=e.defaultables[o-e.prefixLength];t.push(cO(o,l,u)),n+=`${o}: ${l.id} = ${Gs(u)}, `}return n+="]",DF[n]??=t},vO={implementation:$F,Node:LF},jF=e=>{const t=[];if(e.prefix)for(const n of e.prefix)t.push({kind:"prefix",node:n});if(e.defaultables)for(const[n,i]of e.defaultables)t.push({kind:"defaultables",node:n,default:i});if(e.optionals)for(const n of e.optionals)t.push({kind:"optionals",node:n});if(e.variadic&&t.push({kind:"variadic",node:e.variadic}),e.postfix)for(const n of e.postfix)t.push({kind:"postfix",node:n});return t},KE=e=>e.reduce((t,n)=>(n.kind==="variadic"?t.variadic=n.node:n.kind==="defaultables"?t.defaultables=tt(t.defaultables,[[n.node,n.default]]):t[n.kind]=tt(t[n.kind],n.node),t),{}),bO="A postfix required element cannot follow an optional or defaultable element",PF="A postfix element requires a variadic element",Ll=e=>{const[t,...n]=e.l,[i,...o]=e.r;if(!t||!i)return e;const l=n[n.length-1]?.kind==="postfix",u=o[o.length-1]?.kind==="postfix",f=t.kind==="prefix"||i.kind==="prefix"?"prefix":t.kind==="postfix"||i.kind==="postfix"?"postfix":t.kind==="variadic"&&i.kind==="variadic"?"variadic":l||u?"prefix":t.kind==="defaultables"||i.kind==="defaultables"?"defaultables":"optionals";if(t.kind==="prefix"&&i.kind==="variadic"&&u){const y=Ll({...e,fixedVariants:[],r:o.map(v=>({...v,kind:"prefix"}))});y.disjoint.length===0&&e.fixedVariants.push(y)}else if(i.kind==="prefix"&&t.kind==="variadic"&&l){const y=Ll({...e,fixedVariants:[],l:n.map(v=>({...v,kind:"prefix"}))});y.disjoint.length===0&&e.fixedVariants.push(y)}const d=qt(t.node,i.node,e.ctx);if(d instanceof we)if(f==="prefix"||f==="postfix")e.disjoint.push(...d.withPrefixKey(f==="prefix"?e.result.length:`-${n.length+1}`,HE(t)&&HE(i)?"required":"optional")),e.result=[...e.result,{kind:f,node:he.intrinsic.never.internal}];else return f==="optionals"||f==="defaultables"?e:Ll({...e,fixedVariants:[],l:n.map(y=>({...y,kind:"prefix"})),r:n.map(y=>({...y,kind:"prefix"}))});else f==="defaultables"?(t.kind==="defaultables"&&i.kind==="defaultables"&&t.default!==i.default&&ae(lO(t.default,i.default)),e.result=[...e.result,{kind:f,node:d,default:t.kind==="defaultables"?t.default:i.kind==="defaultables"?i.default:Tt(`Unexpected defaultable intersection from ${t.kind} and ${i.kind} elements.`)}]):e.result=[...e.result,{kind:f,node:d}];const p=e.l.length,g=e.r.length;return(t.kind!=="variadic"||p>=g&&(i.kind==="variadic"||g===1))&&(e.l=n),(i.kind!=="variadic"||g>=p&&(t.kind==="variadic"||p===1))&&(e.r=o),Ll(e)},HE=e=>e.kind==="prefix"||e.kind==="postfix",wO=e=>t=>{if(t.props.length||t.index){const n=t.index?.map(o=>o[e])??[];for(const o of t.props)n.push(o[e]);t.undeclared&&n.push(`+ (undeclared): ${t.undeclared}`);const i=`{ ${n.join(", ")} }`;return t.sequence?`${i} & ${t.sequence.description}`:i}return t.sequence?.description??"{}"},qF=wO("description"),zF=wO("expression"),GE=(e,t,n)=>{const i=e.required?"required":"optional";if(!t.signature.allows(e.key))return null;const o=gi(e.value,t.value,n);return o instanceof we?i==="optional"?n.node("optional",{key:e.key,value:he.intrinsic.never.internal}):o.withPrefixKey(e.key,e.kind):null},UF=mt({kind:"structure",hasAssociatedError:!1,normalize:e=>e,applyConfig:(e,t)=>!e.undeclared&&t.onUndeclaredKey!=="ignore"?{...e,undeclared:t.onUndeclaredKey}:e,keys:{required:{child:!0,parse:bn("required"),reduceIo:(e,t,n)=>{t.required=tt(t.required,n.map(i=>e==="in"?i.rawIn:i.rawOut))}},optional:{child:!0,parse:bn("optional"),reduceIo:(e,t,n)=>{if(e==="in"){t.optional=n.map(i=>i.rawIn);return}for(const i of n)t[i.outProp.kind]=tt(t[i.outProp.kind],i.outProp.rawOut)}},index:{child:!0,parse:bn("index")},sequence:{child:!0,parse:bn("sequence")},undeclared:{parse:e=>e==="ignore"?void 0:e,reduceIo:(e,t,n)=>{if(n==="reject"){t.undeclared="reject";return}e==="in"?delete t.undeclared:t.undeclared="reject"}}},defaults:{description:qF},intersections:{structure:(e,t,n)=>{const i={...e.inner},o={...t.inner},l=new we;if(e.undeclared){const d=e.keyof();for(const p of t.requiredKeys)d.allows(p)||l.add("presence",he.intrinsic.never.internal,t.propsByKey[p].value,{path:[p]});o.optional&&(o.optional=o.optional.filter(p=>d.allows(p.key))),o.index&&(o.index=o.index.flatMap(p=>{if(p.signature.extends(d))return p;const g=gi(d,p.signature,n.$);if(g instanceof we)return[];const y=Ay(g,p.value,n.$);return y.required&&(o.required=js(o.required,y.required)),y.optional&&(o.optional=js(o.optional,y.optional)),y.index??[]}))}if(t.undeclared){const d=t.keyof();for(const p of e.requiredKeys)d.allows(p)||l.add("presence",e.propsByKey[p].value,he.intrinsic.never.internal,{path:[p]});i.optional&&(i.optional=i.optional.filter(p=>d.allows(p.key))),i.index&&(i.index=i.index.flatMap(p=>{if(p.signature.extends(d))return p;const g=gi(d,p.signature,n.$);if(g instanceof we)return[];const y=Ay(g,p.value,n.$);return y.required&&(i.required=js(i.required,y.required)),y.optional&&(i.optional=js(i.optional,y.optional)),y.index??[]}))}const u={};(e.undeclared||t.undeclared)&&(u.undeclared=e.undeclared==="reject"||t.undeclared==="reject"?"reject":"delete");const f=Yf({kind:"structure",baseInner:u,l:Xf(i),r:Xf(o),roots:[],ctx:n});return f instanceof we&&l.push(...f),l.length?l:f}},reduce:(e,t)=>{if(!e.required&&!e.optional)return;const n={};let i=!1;const o=e.optional?[...e.optional]:[];if(e.required)for(let l=0;l<e.required.length;l++){const u=e.required[l];if(u.key in n&&ae(YE(u.key)),n[u.key]=!0,e.index)for(const f of e.index){const d=GE(u,f,t);if(d instanceof we)return d}}if(e.optional)for(let l=0;l<e.optional.length;l++){const u=e.optional[l];if(u.key in n&&ae(YE(u.key)),n[u.key]=!0,e.index)for(const f of e.index){const d=GE(u,f,t);if(d instanceof we)return d;d!==null&&(o[l]=d,i=!0)}}if(i)return t.node("structure",{...e,optional:o},{prereduced:!0})}});class BF extends Aa{impliedBasis=he.intrinsic.object.internal;impliedSiblings=this.children.flatMap(t=>t.impliedSiblings??[]);props=js(this.required,this.optional);propsByKey=rt(this.props,(t,n)=>[n.key,n]);propsByKeyReference=an(this.propsByKey);expression=zF(this);requiredKeys=this.required?.map(t=>t.key)??[];optionalKeys=this.optional?.map(t=>t.key)??[];literalKeys=[...this.requiredKeys,...this.optionalKeys];_keyof;keyof(){if(this._keyof)return this._keyof;let t=this.$.units(this.literalKeys).branches;if(this.index)for(const{signature:n}of this.index)t=t.concat(n.branches);return this._keyof=this.$.node("union",t)}map(t){return this.$.node("structure",this.props.flatMap(t).reduce((n,i)=>{const o=this.propsByKey[i.key];if(sn(i))return i.kind!=="required"&&i.kind!=="optional"?ae(`Map result must have kind "required" or "optional" (was ${i.kind})`):(n[i.kind]=tt(n[i.kind],i),n);const l=i.kind??o?.kind??"required",u=rt(i,(f,d)=>f in Iv.implementation.keys?[f,d]:[]);return n[l]=tt(n[l],this.$.node(l,u)),n},{}))}assertHasKeys(t){const n=t.filter(i=>!uf(i,this.keyof()));if(n.length)return ae(QE(this.expression,n))}get(t,...n){let i,o=!1;const l=HF(t);if((typeof l=="string"||typeof l=="symbol")&&this.propsByKey[l]&&(i=this.propsByKey[l].value,o=this.propsByKey[l].required),this.index)for(const f of this.index)uf(l,f.signature)&&(i=i?.and(f.value)??f.value);if(this.sequence&&uf(l,he.intrinsic.nonNegativeIntegerString))if(Ae(l,"root"))this.sequence.variadic&&(i=i?.and(this.sequence.element)??this.sequence.element);else{const f=Number.parseInt(l);if(f<this.sequence.prevariadic.length){const d=this.sequence.prevariadic[f].node;i=i?.and(d)??d,o||=f<this.sequence.prefixLength}else if(this.sequence.variadic){const d=this.$.node("union",this.sequence.variadicOrPostfix);i=i?.and(d)??d}}if(!i)return this.sequence?.variadic&&Ae(l,"root")&&l.extends(he.intrinsic.number)?ae(GF(l.expression,this.sequence.expression)):ae(QE(this.expression,[l]));const u=i.get(...n);return o?u:u.or(he.intrinsic.undefined)}pick(...t){return this.assertHasKeys(t),this.$.node("structure",this.filterKeys("pick",t))}omit(...t){return this.assertHasKeys(t),this.$.node("structure",this.filterKeys("omit",t))}optionalize(){const{required:t,...n}=this.inner;return this.$.node("structure",{...n,optional:this.props.map(i=>i.hasKind("required")?this.$.node("optional",i.inner):i)})}require(){const{optional:t,...n}=this.inner;return this.$.node("structure",{...n,required:this.props.map(i=>i.hasKind("optional")?{key:i.key,value:i.value}:i)})}merge(t){const n=this.filterKeys("omit",[t.keyof()]);return t.required&&(n.required=tt(n.required,t.required)),t.optional&&(n.optional=tt(n.optional,t.optional)),t.index&&(n.index=tt(n.index,t.index)),t.sequence&&(n.sequence=t.sequence),t.undeclared?n.undeclared=t.undeclared:delete n.undeclared,this.$.node("structure",n)}filterKeys(t,n){const i=D_(this.inner),o=l=>{const u=n.some(f=>uf(l,f));return t==="pick"?u:!u};return i.required&&(i.required=i.required.filter(l=>o(l.key))),i.optional&&(i.optional=i.optional.filter(l=>o(l.key))),i.index&&(i.index=i.index.filter(l=>o(l.signature))),i}traverseAllows=(t,n)=>this._traverse("Allows",t,n);traverseApply=(t,n)=>this._traverse("Apply",t,n);_traverse=(t,n,i)=>{const o=i?.currentErrorCount??0;for(let l=0;l<this.props.length;l++)if(t==="Allows"){if(!this.props[l].traverseAllows(n,i))return!1}else if(this.props[l].traverseApply(n,i),i.failFast&&i.currentErrorCount>o)return!1;if(this.sequence){if(t==="Allows"){if(!this.sequence.traverseAllows(n,i))return!1}else if(this.sequence.traverseApply(n,i),i.failFast&&i.currentErrorCount>o)return!1}if(this.index||this.undeclared==="reject"){const l=Object.keys(n);l.push(...Object.getOwnPropertySymbols(n));for(let u=0;u<l.length;u++){const f=l[u];if(this.index){for(const d of this.index)if(d.signature.traverseAllows(f,i)){if(t==="Allows"){if(!mi(f,()=>d.value.traverseAllows(n[f],i),i))return!1}else if(mi(f,()=>d.value.traverseApply(n[f],i),i),i.failFast&&i.currentErrorCount>o)return!1}}if(this.undeclared==="reject"&&!this.declaresKey(f)&&(t==="Allows"||(i.errorFromNodeContext({code:"predicate",expected:"removed",actual:"",relativePath:[f],meta:this.meta}),i.failFast)))return!1}}return this.structuralMorph&&i&&!i.hasError()&&i.queueMorphs([this.structuralMorph]),!0};get defaultable(){return this.cacheGetter("defaultable",this.optional?.filter(t=>t.hasDefault())??[])}declaresKey=t=>t in this.propsByKey||this.index?.some(n=>n.signature.allows(t))||this.sequence!==void 0&&he.intrinsic.nonNegativeIntegerString.allows(t);_compileDeclaresKey(t){const n=[];if(this.props.length&&n.push(`k in ${this.propsByKeyReference}`),this.index)for(const i of this.index)n.push(t.invoke(i.signature,{kind:"Allows",arg:"k"}));return this.sequence&&n.push("$ark.intrinsic.nonNegativeIntegerString.allows(k)"),n.join(" || ")||"false"}get structuralMorph(){return this.cacheGetter("structuralMorph",VF(this))}structuralMorphRef=this.structuralMorph&&an(this.structuralMorph);compile(t){t.traversalKind==="Apply"&&t.initializeErrorCount();for(const n of this.props)t.check(n),t.traversalKind==="Apply"&&t.returnIfFailFast();if(this.sequence&&(t.check(this.sequence),t.traversalKind==="Apply"&&t.returnIfFailFast()),(this.index||this.undeclared==="reject")&&(t.const("keys","Object.keys(data)"),t.line("keys.push(...Object.getOwnPropertySymbols(data))"),t.for("i < keys.length",()=>this.compileExhaustiveEntry(t))),t.traversalKind==="Allows")return t.return(!0);this.structuralMorphRef&&t.if("ctx && !ctx.hasError()",()=>(t.line("ctx.queueMorphs(["),KF(t,this),t.line("])")))}compileExhaustiveEntry(t){if(t.const("k","keys[i]"),this.index)for(const n of this.index)t.if(`${t.invoke(n.signature,{arg:"k",kind:"Allows"})}`,()=>t.traverseKey("k","data[k]",n.value));return this.undeclared==="reject"&&t.if(`!(${this._compileDeclaresKey(t)})`,()=>t.traversalKind==="Allows"?t.return(!1):t.line(`ctx.errorFromNodeContext({ code: "predicate", expected: "removed", actual: "", relativePath: [k], meta: ${this.compiledMeta} })`).if("ctx.failFast",()=>t.return())),t}reduceJsonSchema(t,n){switch(t.type){case"object":return this.reduceObjectJsonSchema(t,n);case"array":const i=this.sequence?.reduceJsonSchema(t,n)??t;return this.props.length||this.index?n.fallback.arrayObject({code:"arrayObject",base:i,object:this.reduceObjectJsonSchema({type:"object"},n)}):i;default:return Nt.throwInternalOperandError("structure",t)}}reduceObjectJsonSchema(t,n){if(this.props.length){t.properties={};for(const i of this.props){const o=i.value.toJsonSchemaRecurse(n);if(typeof i.key=="symbol"){n.fallback.symbolKey({code:"symbolKey",base:t,key:i.key,value:o,optional:i.optional});continue}if(i.hasDefault()){const l=typeof i.default=="function"?i.default():i.default;o.default=he.intrinsic.jsonData.allows(l)?l:n.fallback.defaultValue({code:"defaultValue",base:o,value:l})}t.properties[i.key]=o}this.requiredKeys.length&&t.properties&&(t.required=this.requiredKeys.filter(i=>typeof i=="string"&&i in t.properties))}if(this.index)for(const i of this.index){const o=i.value.toJsonSchemaRecurse(n);if(i.signature.equals(he.intrinsic.string)){t.additionalProperties=o;continue}for(const l of i.signature.branches){if(!l.extends(he.intrinsic.string)){t=n.fallback.symbolKey({code:"symbolKey",base:t,key:null,value:o,optional:!1});continue}let u={type:"string"};if(l.hasKind("morph")&&(u=n.fallback.morph({code:"morph",base:l.rawIn.toJsonSchemaRecurse(n),out:l.rawOut.toJsonSchemaRecurse(n)})),!l.hasKind("intersection"))return Tt(`Unexpected index branch kind ${l.kind}.`);const{pattern:f}=l.inner;if(f){const d=Object.assign(u,{pattern:f[0].rule});for(let p=1;p<f.length;p++)u=n.fallback.patternIntersection({code:"patternIntersection",base:d,pattern:f[p].rule});t.patternProperties??={},t.patternProperties[d.pattern]=o}}}return this.undeclared&&!t.additionalProperties&&(t.additionalProperties=!1),t}}const Lg={},FF=e=>{let t="";for(let n=0;n<e.defaultable.length;n++)t+=e.defaultable[n].defaultValueMorphRef;if(e.sequence?.defaultValueMorphsReference&&(t+=e.sequence?.defaultValueMorphsReference),e.undeclared==="delete"){if(t+="delete !(",e.required)for(const n of e.required)t+=n.compiledKey+" | ";if(e.optional)for(const n of e.optional)t+=n.compiledKey+" | ";if(e.index)for(const n of e.index)t+=n.signature.id+" | ";if(e.sequence)if(e.sequence.maxLength===null)t+=Te.nonNegativeIntegerString.id;else for(let n=0;n<e.sequence.tuple.length;n++)t+=n+" | ";t+=")"}return t},VF=e=>{const t=FF(e);if(!t)return;if(Lg[t])return Lg[t];const n=(i,o)=>{for(let l=0;l<e.defaultable.length;l++)e.defaultable[l].key in i||e.defaultable[l].defaultValueMorph(i,o);if(e.sequence?.defaultables)for(let l=i.length-e.sequence.prefixLength;l<e.sequence.defaultables.length;l++)e.sequence.defaultValueMorphs[l](i,o);if(e.undeclared==="delete")for(const l in i)e.declaresKey(l)||delete i[l];return i};return Lg[t]=n},KF=(e,t)=>{const i=`(data${t.defaultable.some(o=>o.defaultValueMorph.length===2)||t.sequence?.defaultValueMorphs.some(o=>o.length===2)?", ctx":""})`;return e.block(`${i} => `,o=>{for(let l=0;l<t.defaultable.length;l++){const{serializedKey:u,defaultValueMorphRef:f}=t.defaultable[l];o.if(`!(${u} in data)`,d=>d.line(`${f}${i}`))}return t.sequence?.defaultables&&o.for(`i < ${t.sequence.defaultables.length}`,l=>l.set("data[i]",5),`data.length - ${t.sequence.prefixLength}`),t.undeclared==="delete"&&o.forIn("data",l=>l.if(`!(${t._compileDeclaresKey(l)})`,u=>u.line("delete data[k]"))),o.return("data")})},SO={implementation:UF,Node:BF},HF=e=>(Ae(e,"root")&&e.hasKind("unit")&&(e=e.unit),typeof e=="number"&&(e=`${e}`),e),GF=(e,t)=>`${e} is not allowed as an array index on ${t}. Use the 'nonNegativeIntegerString' keyword instead.`,Ay=(e,t,n)=>{const[i,o]=z6(e.branches,u=>u.hasKind("unit"));if(!i.length)return{index:n.node("index",{signature:e,value:t})};const l={};for(const u of i){const f=n.node("required",{key:u.unit,value:t});l[f.kind]=tt(l[f.kind],f)}return o.length&&(l.index=n.node("index",{signature:o,value:t})),l},QF=e=>Ae(e,"root")?e.expression:Ze(e),QE=(e,t)=>`Key${t.length===1?"":"s"} ${t.map(QF).join(", ")} ${t.length===1?"does":"do"} not exist on ${e}`,YE=e=>`Duplicate key ${Ra(e)}`,$d={...D8,alias:Pv.implementation,domain:zv.implementation,unit:mO.implementation,proto:Zf.implementation,union:pO.implementation,morph:dO.implementation,intersection:fO.implementation,divisor:H_.implementation,pattern:iO.implementation,predicate:K_.implementation,required:yO.implementation,optional:Iv.implementation,index:gO.implementation,sequence:vO.implementation,structure:SO.implementation};he.defaultConfig=Z6(Object.assign(rt($d,(e,t)=>[e,t.defaults]),{jitless:l5(),clone:s5,onUndeclaredKey:"ignore",exactOptionalPropertyTypes:!0,numberAllowsNaN:!1,dateAllowsInvalid:!1,onFail:null,keywords:{},toJsonSchema:Nt.defaultConfig}));he.resolvedConfig=wy(he.defaultConfig,he.config);const YF={...I8,alias:Pv.Node,domain:zv.Node,unit:mO.Node,proto:Zf.Node,union:pO.Node,morph:dO.Node,intersection:fO.Node,divisor:H_.Node,pattern:iO.Node,predicate:K_.Node,required:yO.Node,optional:Iv.Node,index:gO.Node,sequence:vO.Node,structure:SO.Node};class Cy extends Q6{get[pi](){return"module"}}const xO=(e,t)=>new Cy(rt(e,(n,i)=>[n,Ae(i,"module")?xO(i,t):t.bindReference(i)])),XF=e=>en(e)?e:"branches"in e&&en(e.branches)?e.branches:void 0,JF=(e,t)=>ae(`Node of kind ${t} is not valid as a ${e} definition`),XE=e=>`#${e} duplicates public alias ${e}`,Dg={};he.ambient??={};let JE;const EO="function $",ZF=e=>RO(e,AO(e)),RO=(e,t)=>{const n=t.write(EO,4),i=t.compile()();for(const o of e)o.precompilation||(o.traverseAllows=i[`${o.id}Allows`].bind(i),o.isRoot()&&!o.allowsRequiresContext&&(o.allows=o.traverseAllows),o.traverseApply=i[`${o.id}Apply`].bind(i),i[`${o.id}Optimistic`]&&(o.traverseOptimistic=i[`${o.id}Optimistic`].bind(i)),o.precompilation=n)},AO=e=>new k_().return(e.reduce((t,n)=>{const i=new kg({kind:"Allows"}).indent();n.compile(i);const o=i.write(`${n.id}Allows`),l=new kg({kind:"Apply"}).indent();n.compile(l);const u=l.write(`${n.id}Apply`),f=`${t}${o},
${u},
`;if(!n.hasKind("union"))return f;const d=new kg({kind:"Allows",optimistic:!0}).indent();n.compile(d);const p=d.write(`${n.id}Optimistic`);return`${f}${p},
`},`{
`)+"}");class CO{config;resolvedConfig;name;get[pi](){return"scope"}referencesById={};references=[];resolutions={};exportedNames=[];aliases={};resolved=!1;nodesByHash={};intrinsic;constructor(t,n){this.config=wy(he.config,n),this.resolvedConfig=wy(he.resolvedConfig,n),this.name=this.resolvedConfig.name??`anonymousScope${Object.keys(Dg).length}`,this.name in Dg&&ae(`A Scope already named ${this.name} already exists`),Dg[this.name]=this;const i=Object.entries(t).map(o=>this.preparseOwnAliasEntry(...o));for(const[o,l]of i){let u=o;if(o[0]==="#"?(u=o.slice(1),u in this.aliases&&ae(XE(u)),this.aliases[u]=l):(u in this.aliases&&ae(XE(o)),this.aliases[u]=l,this.exportedNames.push(u)),!Ae(l,"module")&&!Ae(l,"generic")&&!Td(l)){const f=this.preparseOwnDefinitionFormat(l,{alias:u});this.resolutions[u]=Ae(f,"root")?this.bindReference(f):this.createParseContext(f).id}}JE??=this.node("union",{branches:["string","number","object","bigint","symbol",{unit:!0},{unit:!1},{unit:void 0},{unit:null}]},{prereduced:!0}),this.nodesByHash[JE.hash]=this.node("intersection",{},{prereduced:!0}),this.intrinsic=he.intrinsic?rt(he.intrinsic,(o,l)=>o.startsWith("json")?[]:[o,this.bindReference(l)]):{}}cacheGetter(t,n){return Object.defineProperty(this,t,{value:n}),n}get internal(){return this}_json;get json(){return this._json||this.export(),this._json}defineSchema(t){return t}generic=(...t)=>{const n=this;return(i,o)=>new Jf(t,o?new V_(i):i,n,n,o??null)};units=(t,n)=>{const i=[];for(const l of t)i.includes(l)||i.push(l);const o=i.map(l=>this.node("unit",{unit:l},n));return this.node("union",o,{...n,prereduced:!0})};lazyResolutions=[];lazilyResolve(t,n){const i=this.node("alias",{reference:n??"synthetic",resolve:t},{prereduced:!0});return this.resolved||this.lazyResolutions.push(i),i}schema=(t,n)=>this.finalize(this.parseSchema(t,n));parseSchema=(t,n)=>this.node(xf(t),t,n);preparseNode(t,n,i){let o=typeof t=="string"?t:xf(n,t);if(sn(n)&&n.kind===o)return n;if(o==="alias"&&!i?.prereduced){const{reference:f}=Pv.implementation.normalize(n,this);if(f.startsWith("$")){const d=this.resolveRoot(f.slice(1));n=d,o=d.kind}}else if(o==="union"&&Zs(n,"object")){const f=XF(n);f?.length===1&&(n=f[0],o=xf(n))}if(sn(n)&&n.kind===o)return n;const u=$d[o].normalize?.(n,this)??n;return sn(u)?u.kind===o?u:JF(o,u.kind):{...i,$:this,kind:o,def:u,prefix:i.alias??o}}bindReference(t){let n;return sn(t)?n=t.$===this?t:new t.constructor(t.attachments,this):n=t.$===this?t:new Jf(t.params,t.bodyDef,t.$,this,t.hkt),this.resolved||Object.assign(this.referencesById,n.referencesById),n}resolveRoot(t){return this.maybeResolveRoot(t)??ae(MO(t))}maybeResolveRoot(t){const n=this.maybeResolve(t);if(!Ae(n,"generic"))return n}maybeResolveSubalias(t){return Ty(this.aliases,t)??Ty(this.ambient,t)}get ambient(){return he.ambient}maybeResolve(t){const n=this.resolutions[t];if(n){if(typeof n!="string")return this.bindReference(n);const o=tr[n];if(Ae(o,"root"))return this.resolutions[t]=o;if(Ae(o,"context")){if(o.phase==="resolving")return this.node("alias",{reference:`$${t}`},{prereduced:!0});if(o.phase==="resolved")return Tt(`Unexpected resolved context for was uncached by its scope: ${Ze(o)}`);o.phase="resolving";const l=this.bindReference(this.parseOwnDefinitionFormat(o.def,o));return o.phase="resolved",tr[l.id]=l,tr[o.id]=l,this.resolutions[t]=l}return Tt(`Unexpected nodesById entry for ${n}: ${Ze(o)}`)}let i=this.aliases[t]??this.ambient?.[t];return i?(i=this.normalizeRootScopeValue(i),Ae(i,"generic")?this.resolutions[t]=this.bindReference(i):Ae(i,"module")?(i.root||ae(NO(t)),this.resolutions[t]=this.bindReference(i.root)):this.resolutions[t]=this.parse(i,{alias:t})):this.maybeResolveSubalias(t)}createParseContext(t){const n=t.id??sO(t.prefix);return tr[n]=Object.assign(t,{[pi]:"context",$:this,id:n,phase:"unresolved"})}traversal(t){return new Xo(t,this.resolvedConfig)}import(...t){return new Cy(rt(this.export(...t),(n,i)=>[`#${n}`,i]))}precompilation;_exportedResolutions;_exports;export(...t){if(!this._exports){this._exports={};for(const i of this.exportedNames){const o=this.aliases[i];this._exports[i]=Ae(o,"module")?xO(o,this):ZE(this.maybeResolve(i))}for(const i of this.lazyResolutions)i.resolution;if(this._exportedResolutions=OO(this,this._exports),this._json=_O(this._exportedResolutions),Object.assign(this.resolutions,this._exportedResolutions),this.references=Object.values(this.referencesById),!this.resolvedConfig.jitless){const i=AO(this.references);this.precompilation=i.write(EO,4),RO(this.references,i)}this.resolved=!0}const n=t.length?t:this.exportedNames;return new Cy(rt(n,(i,o)=>[o,this._exports[o]]))}resolve(t){return this.export()[t]}node=(t,n,i={})=>{const o=this.preparseNode(t,n,i);if(sn(o))return this.bindReference(o);const l=this.createParseContext(o),u=oO(l),f=this.bindReference(u);return tr[l.id]=f};parse=(t,n={})=>this.finalize(this.parseDefinition(t,n));parseDefinition(t,n={}){if(Ae(t,"root"))return this.bindReference(t);const i=this.preparseOwnDefinitionFormat(t,n);if(Ae(i,"root"))return this.bindReference(i);const o=this.createParseContext(i);tr[o.id]=o;let l=this.bindReference(this.parseOwnDefinitionFormat(t,o));return l.isCyclic&&(l=U8(l,o.id)),tr[o.id]=l,l}finalize(t){return ZE(t),!t.precompilation&&!this.resolvedConfig.jitless&&ZF(t.references),t}}class TO extends CO{parseOwnDefinitionFormat(t,n){return oO(n)}preparseOwnDefinitionFormat(t,n){return this.preparseNode(xf(t),t,n)}preparseOwnAliasEntry(t,n){return[t,n]}normalizeRootScopeValue(t){return t}}const ZE=e=>{const t=e.references.filter(n=>n.hasKind("alias"));for(const n of t){Object.assign(n.referencesById,n.resolution.referencesById);for(const i of e.references)n.id in i.referencesById&&Object.assign(i.referencesById,n.referencesById)}return e},_O=e=>rt(e,(t,n)=>[t,Ae(n,"root")||Ae(n,"generic")?n.json:Ae(n,"module")?_O(n):Tt(`Unexpected resolution ${Ze(n)}`)]),Ty=(e,t)=>{const n=t.indexOf(".");if(n===-1)return;const i=t.slice(0,n),o=e[i];if(o===void 0)return;if(!Ae(o,"module"))return ae(WF(i));const l=t.slice(n+1),u=o[l];if(u===void 0)return Ty(o,l);if(Ae(u,"root")||Ae(u,"generic"))return u;if(Ae(u,"module"))return u.root??ae(NO(t));Tt(`Unexpected resolution for alias '${t}': ${Ze(u)}`)},Uv=(e,t)=>new TO(e,t),wc=new TO({}),OO=(e,t)=>{const n={};for(const i in t){const o=t[i];if(Ae(o,"module")){const l=OO(e,o),u=rt(l,(f,d)=>[`${i}.${f}`,d]);Object.assign(n,u)}else Ae(o,"root")||Ae(o,"generic")?n[i]=o:Tt(`Unexpected scope resolution ${Ze(o)}`)}return n},MO=e=>`'${e}' is unresolvable`,WF=e=>`'${e}' must reference a module to be accessed using dot syntax`,NO=e=>`Reference to submodule '${e}' must specify an alias`;wc.export();const it=wc.schema,Bv=wc.node;wc.defineSchema;const vi=wc.generic,kO="^(?:0|[1-9]\\d*)$",eV=new RegExp(kO);an(eV);const $O=Uv({bigint:"bigint",boolean:[{unit:!1},{unit:!0}],false:{unit:!1},never:[],null:{unit:null},number:"number",object:"object",string:"string",symbol:"symbol",true:{unit:!0},unknown:{},undefined:{unit:void 0},Array,Date},{prereducedAliases:!0}).export();he.intrinsic={...$O};const LO=Uv({integer:{domain:"number",divisor:1},lengthBoundable:["string",Array],key:["string","symbol"],nonNegativeIntegerString:{domain:"string",pattern:kO}},{prereducedAliases:!0}).export();Object.assign(he.intrinsic,LO);const tV=Uv({jsonPrimitive:["string","number",{unit:!0},{unit:!1},{unit:null}],jsonObject:{domain:"object",index:{signature:"string",value:"$jsonData"}},jsonData:["$jsonPrimitive","$jsonObject"]},{prereducedAliases:!0}).export(),Te={...$O,...LO,...tV,emptyStructure:Bv("structure",{},{prereduced:!0})};he.intrinsic={...Te};const WE=((e,t)=>new RegExp(e,t));Object.assign(WE,{as:WE});const nV=e=>typeof e=="string"&&e[0]==="d"&&(e[1]==="'"||e[1]==='"')&&e[e.length-1]===e[1],eR=e=>e.toString()!=="Invalid Date",rV=e=>e.slice(2,-1),DO=e=>`'${e}' could not be parsed by the Date constructor`,iV=(e,t)=>sV(e,t),sV=(e,t)=>{const n=new Date(e);if(eR(n))return n;const i=T5(e);if(i!==void 0){const o=new Date(i);if(eR(o))return o}return t?ae(t===!0?DO(e):t):void 0},oV=it({proto:"Array",sequence:"string",required:{key:"groups",value:["object",{unit:void 0}]}}),Ig=(e,t)=>{const n=e.scanner.shiftUntilEscapable(cV[PO[t]]);if(e.scanner.lookahead==="")return e.error(fV(n,t));if(e.scanner.shift(),t in jO){let i;try{i=new RegExp(n)}catch(o){ae(String(o))}e.root=e.ctx.$.node("intersection",{domain:"string",pattern:n},{prereduced:!0}),t==="x/"&&(e.root=e.ctx.$.node("morph",{in:e.root,morphs:o=>i.exec(o),declaredOut:oV}))}else if(Ir(t,IO))e.root=e.ctx.$.node("unit",{unit:n});else{const i=iV(n,DO(n));e.root=e.ctx.$.node("unit",{meta:n,unit:i})}},IO={"'":1,'"':1},aV={"/":1,"'":1,'"':1},lV={"d'":"'",'d"':'"',"'":"'",'"':'"'},jO={"/":"/","x/":"/"},PO={...lV,...jO},cV={"'":e=>e.lookahead==="'",'"':e=>e.lookahead==='"',"/":e=>e.lookahead==="/"},uV={'"':"double-quote","'":"single-quote","/":"forward slash"},fV=(e,t)=>`${t}${e} requires a closing ${uV[PO[t]]}`,dV=e=>`Private type references should not include '#'. Use '${e}' instead.`,qO="Optional definitions like 'string?' are only valid as properties in an object or tuple",zO="Defaultable definitions like 'number = 0' are only valid as properties in an object or tuple",Ta={"<":1,">":1,"=":1,"|":1,"&":1,")":1,"[":1,"%":1,",":1,":":1,"?":1,"#":1,..._d},hV=(e,t)=>e===">"?t[0]==="="?t[1]==="=":t.trimStart()===""||Ir(t.trimStart()[0],Ta):e==="="?t[0]!=="=":e===","||e==="?",pV=(e,t,n)=>UO(e,t,n,[]),UO=(e,t,n,i)=>{const o=n.parseUntilFinalizer();return i.push(o.root),o.finalizer===">"?i.length!==t.params.length?n.error(BO(e,t.names,i.map(l=>l.expression))):i:o.finalizer===","?UO(e,t,n,i):o.error(M_(">"))},BO=(e,t,n)=>`${e}<${t.join(", ")}> requires exactly ${t.length} args (got ${n.length}${n.length===0?"":`: ${n.join(", ")}`})`,jg=e=>{const t=e.scanner.shiftUntilLookahead(Ta);t==="keyof"?e.addPrefix("keyof"):e.root=gV(e,t)},mV=(e,t,n)=>{if(n.scanner.shiftUntilNonWhitespace(),n.scanner.shift()!=="<")return n.error(BO(e,t.names,[]));const o=pV(e,t,n);return t(...o)},gV=(e,t)=>yV(e,t)??vV(e,t)??e.error(t===""?e.scanner.lookahead==="#"?dV(e.shiftedBy(1).scanner.shiftUntilLookahead(Ta)):FO(e):MO(t)),yV=(e,t)=>{if(e.ctx.args?.[t]){const i=e.ctx.args[t];return typeof i!="string"?i:e.ctx.$.node("alias",{reference:i},{prereduced:!0})}const n=e.ctx.$.maybeResolve(t);if(Ae(n,"root"))return n;if(n!==void 0)return Ae(n,"generic")?mV(t,n,e):ae(`Unexpected resolution ${Ze(n)}`)},vV=(e,t)=>{const n=_5(t);if(n!==void 0)return e.ctx.$.node("unit",{unit:n});const i=M5(t);if(i!==void 0)return e.ctx.$.node("unit",{unit:i})},FO=e=>{const t=e.previousOperator();return t?VO(t,e.scanner.unscanned):bV(e.scanner.unscanned)},VO=(e,t="")=>`Token '${e}' requires a right operand${t?` before '${t}'`:""}`,bV=e=>`Expected an expression${e?` before '${e}'`:""}`,KO=e=>e.scanner.lookahead===""?e.error(FO(e)):e.scanner.lookahead==="("?e.shiftedBy(1).reduceGroupOpen():e.scanner.lookaheadIsIn(aV)?Ig(e,e.scanner.shift()):e.scanner.lookaheadIsIn(_d)?KO(e.shiftedBy(1)):e.scanner.lookahead==="d"?e.scanner.nextLookahead in IO?Ig(e,`${e.scanner.shift()}${e.scanner.shift()}`):jg(e):e.scanner.lookahead==="x"&&e.scanner.nextLookahead==="/"?e.shiftedBy(2)&&Ig(e,"x/"):jg(e),wV={">":!0,">=":!0},SV={"<":!0,"<=":!0},Wf={"<":">",">":"<","<=":">=",">=":"<=","==":"=="},xV=(e,t)=>`Left bounds are only valid when paired with right bounds (try ...${t}${e})`,HO=e=>`Left-bounded expressions must specify their limits using < or <= (was ${e})`,EV=(e,t,n,i)=>`An expression may have at most one left bound (parsed ${e}${Wf[t]}, ${n}${Wf[i]})`,RV=(e,t)=>{const n=CV(e,t);if(e.root.hasKind("unit")){if(typeof e.root.unit=="number"){e.reduceLeftBound(e.root.unit,n),e.unsetRoot();return}if(e.root.unit instanceof Date){const i=`d'${e.root.description??e.root.unit.toISOString()}'`;e.unsetRoot(),e.reduceLeftBound(i,n);return}}return _V(e,n)},AV={"<":1,">":1,"=":1},CV=(e,t)=>e.scanner.lookaheadIs("=")?`${t}${e.scanner.shift()}`:t,tR=(e,t,n,i)=>n.extends(he.intrinsic.number)?typeof t!="number"?ae(_y(e,t,i)):e==="=="?["min","max"]:e[0]===">"?["min"]:["max"]:n.extends(he.intrinsic.lengthBoundable)?typeof t!="number"?ae(_y(e,t,i)):e==="=="?["exactLength"]:e[0]===">"?["minLength"]:["maxLength"]:n.extends(he.intrinsic.Date)?e==="=="?["after","before"]:e[0]===">"?["after"]:["before"]:ae(w8(n.expression)),TV=e=>({rule:nV(e.limit)?rV(e.limit):e.limit,exclusive:e.comparator.length===1}),_V=(e,t)=>{const n=e.unsetRoot(),i=e.scanner.location;e.parseOperand();const o=e.unsetRoot(),l=e.scanner.sliceChars(i,e.scanner.location);if(e.root=n,!o.hasKind("unit")||typeof o.unit!="number"&&!(o.unit instanceof Date))return e.error(_y(t,l,"right"));const u=o.unit,f=t.length===1,d=tR(t,typeof u=="number"?u:l,n,"right");for(const g of d)e.constrainRoot(g,t==="=="?{rule:u}:{rule:u,exclusive:f});if(!e.branches.leftBound)return;if(!Ir(t,SV))return e.error(HO(t));const p=tR(e.branches.leftBound.comparator,e.branches.leftBound.limit,n,"left");e.constrainRoot(p[0],TV(e.branches.leftBound)),e.branches.leftBound=null},_y=(e,t,n)=>`Comparator ${n==="left"?Wf[e]:e} must be ${n==="left"?"preceded":"followed"} by a corresponding literal (was ${t})`,OV=e=>{e.scanner.shiftUntilNonWhitespace();const t=e.scanner.shiftUntilLookahead(Ta);e.root=e.root.brand(t)},MV=e=>{e.scanner.shiftUntilNonWhitespace();const t=e.scanner.shiftUntilLookahead(Ta),n=O5(t,{errorOnFail:nR(t)});n===0&&e.error(nR(0)),e.root=e.root.constrain("divisor",n)},nR=e=>`% operator must be followed by a non-zero integer literal (was ${e})`,GO=e=>{const t=e.scanner.shift();return t===""?e.finalize(""):t==="["?e.scanner.shift()==="]"?e.setRoot(e.root.array()):e.error(NV):t==="|"?e.scanner.lookahead===">"?e.shiftedBy(1).pushRootToBranch("|>"):e.pushRootToBranch(t):t==="&"?e.pushRootToBranch(t):t===")"?e.finalizeGroup():hV(t,e.scanner.unscanned)?e.finalize(t):Ir(t,AV)?RV(e,t):t==="%"?MV(e):t==="#"?OV(e):t in _d?GO(e):e.error(Fv(t))},Fv=(e,t="")=>`'${e}' is not allowed here${t&&` (should be ${t})`}`,NV="Missing expected ']'",kV=e=>{const t=e.unsetRoot();e.parseOperand();const n=e.unsetRoot();if(!n.hasKind("unit"))return e.error($V(n.expression));const i=n.unit instanceof Date?()=>new Date(n.unit):n.unit;return[t,"=",i]},$V=e=>`Default value '${e}' must be a literal value`,rR=(e,t)=>{const n=t.$.maybeResolveRoot(e);if(n)return n;if(e.endsWith("[]")){const l=t.$.maybeResolveRoot(e.slice(0,-2));if(l)return l.array()}const i=new Ld(new O_(e),t),o=LV(i);return i.finalizer===">"&&ae(Fv(">")),o},LV=e=>{e.parseOperand();let t=Vv(e).root;return t?(e.finalizer==="="?t=kV(e):e.finalizer==="?"&&(t=[t,"?"]),e.scanner.shiftUntilNonWhitespace(),e.scanner.lookahead&&ae(Fv(e.scanner.lookahead)),t):Tt(`Root was unexpectedly unset after parsing string '${e.scanner.scanned}'`)},Vv=e=>{for(;e.finalizer===void 0;)DV(e);return e},DV=e=>e.hasRoot()?e.parseOperator():e.parseOperand();class Ld{root;branches={prefixes:[],leftBound:null,intersection:null,union:null,pipe:null};finalizer;groups=[];scanner;ctx;constructor(t,n){this.scanner=t,this.ctx=n}error(t){return ae(t)}hasRoot(){return this.root!==void 0}setRoot(t){this.root=t}unsetRoot(){const t=this.root;return this.root=void 0,t}constrainRoot(...t){this.root=this.root.constrain(t[0],t[1])}finalize(t){if(this.groups.length)return this.error(M_(")"));this.finalizeBranches(),this.finalizer=t}reduceLeftBound(t,n){const i=Wf[n];if(!Ir(i,wV))return this.error(HO(n));if(this.branches.leftBound)return this.error(EV(this.branches.leftBound.limit,this.branches.leftBound.comparator,t,i));this.branches.leftBound={comparator:i,limit:t}}finalizeBranches(){if(this.assertRangeUnset(),this.branches.pipe){this.pushRootToBranch("|>"),this.root=this.branches.pipe;return}if(this.branches.union){this.pushRootToBranch("|"),this.root=this.branches.union;return}if(this.branches.intersection){this.pushRootToBranch("&"),this.root=this.branches.intersection;return}this.applyPrefixes()}finalizeGroup(){this.finalizeBranches();const t=this.groups.pop();if(!t)return this.error(P5(")",this.scanner.unscanned));this.branches=t}addPrefix(t){this.branches.prefixes.push(t)}applyPrefixes(){for(;this.branches.prefixes.length;){const t=this.branches.prefixes.pop();this.root=t==="keyof"?this.root.keyof():Tt(`Unexpected prefix '${t}'`)}}pushRootToBranch(t){this.assertRangeUnset(),this.applyPrefixes();const n=this.root;this.root=void 0,this.branches.intersection=this.branches.intersection?.rawAnd(n)??n,t!=="&"&&(this.branches.union=this.branches.union?.rawOr(this.branches.intersection)??this.branches.intersection,this.branches.intersection=null,t!=="|"&&(this.branches.pipe=this.branches.pipe?.rawPipeOnce(this.branches.union)??this.branches.union,this.branches.union=null))}parseUntilFinalizer(){return Vv(new Ld(this.scanner,this.ctx))}parseOperator(){return GO(this)}parseOperand(){return KO(this)}assertRangeUnset(){if(this.branches.leftBound)return this.error(xV(this.branches.leftBound.limit,this.branches.leftBound.comparator))}reduceGroupOpen(){this.groups.push(this.branches),this.branches={prefixes:[],leftBound:null,union:null,intersection:null,pipe:null}}previousOperator(){return this.branches.leftBound?.comparator??this.branches.prefixes[this.branches.prefixes.length-1]??(this.branches.intersection?"&":this.branches.union?"|":this.branches.pipe?"|>":void 0)}shiftedBy(t){return this.scanner.jumpForward(t),this}}const IV="An empty string is not a valid generic parameter name",Oy=(e,t,n)=>{e.shiftUntilNonWhitespace();const i=e.shiftUntilLookahead(Ta);return i===""?e.lookahead===""&&t.length?t:ae(IV):(e.shiftUntilNonWhitespace(),jV(e,i,t,n))},iR="extends ",jV=(e,t,n,i)=>{if(e.shiftUntilNonWhitespace(),e.unscanned.startsWith(iR))e.jumpForward(iR.length);else return e.lookahead===","&&e.shift(),n.push(t),Oy(e,n,i);const o=Vv(new Ld(e,i));return n.push([t,o.root]),Oy(e,n,i)};class PV extends ds{constructor(t){const n={$:t,raw:t.fn};super((...i)=>{const o=i.indexOf(":"),l=o===-1?i.length-1:o-1,u=i.slice(0,l+1),f=t.parse(u).assertHasKind("intersection");let d=t.intrinsic.unknown;if(o!==-1){if(o!==i.length-2)return ae(zV);d=t.parse(i[o+1])}return p=>new qV(p,f,d)},{attach:n})}}class qV extends ds{raw;params;returns;expression;constructor(t,n,i){const o=`typed ${t.name}`,l={[o]:(...f)=>{const d=n.assert(f),p=t(...d);return i.assert(p)}}[o];super(l),this.raw=t,this.params=n,this.returns=i;let u=n.expression;u[0]==="["&&u[u.length-1]==="]"?u=u.slice(1,-1):u.endsWith("[]")&&(u=`...${u}`),this.expression=`(${u}) => ${i?.expression??"unknown"}`}}const zV=`":" must be followed by exactly one return type e.g:
fn("string", ":", "number")(s => s.length)`;class UV extends ds{$;constructor(t){super((...n)=>new ff(t)(...n),{bind:t}),this.$=t}in(t){return new ff(this.$,t===void 0?void 0:this.$.parse(t))}at(t,n){return new ff(this.$).at(t,n)}case(t,n){return new ff(this.$).case(t,n)}}class ff extends ds{$;in;key;branches=[];constructor(t,n){super(i=>this.caseEntries(Object.entries(i).map(([o,l])=>o==="default"?[o,l]:[this.$.parse(o),l]))),this.$=t,this.in=n}at(t,n){return this.key&&ae(FV),this.branches.length&&ae(BV),this.key=t,n?this.match(n):this}case(t,n){return this.caseEntry(this.$.parse(t),n)}caseEntry(t,n){const o=(this.key?this.$.parse({[this.key]:t}):t).pipe(n);return this.branches.push(o),this}match(t){return this(t)}strings(t){return this.caseEntries(Object.entries(t).map(([n,i])=>n==="default"?[n,i]:[this.$.node("unit",{unit:n}),i]))}caseEntries(t){for(let n=0;n<t.length;n++){const[i,o]=t[n];if(i==="default")return n!==t.length-1&&ae("default may only be specified as the last key of a switch definition"),this.default(o);if(typeof o!="function")return ae(`Value for case "${i}" must be a function (was ${yr(o)})`);this.caseEntry(i,o)}return this}default(t){typeof t=="function"&&this.case(Te.unknown,t);const n={branches:this.branches,ordered:!0};(t==="never"||t==="assert")&&(n.meta={onFail:sR});const i=this.$.node("union",n);if(!this.in)return this.$.finalize(i);let o=this.in.pipe(i);return(t==="never"||t==="assert")&&(o=o.configureReferences({onFail:sR},"self")),this.$.finalize(o)}}const sR=e=>e.throw(),BV="A key matcher must be specified before the first case i.e. match.at('foo') or match.in<object>().at('bar')",FV="At most one key matcher may be specified per expression",QO=(e,t)=>{if(en(e)){if(e[1]==="=")return[t.$.parseOwnDefinitionFormat(e[0],t),"=",e[2]];if(e[1]==="?")return[t.$.parseOwnDefinitionFormat(e[0],t),"?"]}return tM(e,t)},VV="Only required keys may make their values optional, e.g. { [mySymbol]: ['number', '?'] }",KV="Only required keys may specify default values, e.g. { value: 'number = 0' }",HV=(e,t)=>{let n;const i={},o=Kf(e);for(const[u,f]of o){const d=YV(u);if(d.kind==="spread"){if(!pc(i))return ae(QV);const S=t.$.parseOwnDefinitionFormat(f,t);if(S.equals(Te.object))continue;if(!S.hasKind("intersection")||!S.basis?.equals(Te.object))return ae(XV(S.expression));n=S.structure;continue}if(d.kind==="undeclared"){f!=="reject"&&f!=="delete"&&f!=="ignore"&&ae(GV(f)),i.undeclared=f;continue}const p=QO(f,t),g=d;if(d.kind==="required"){en(p)?Pg(i,"optional",p[1]==="="?{key:d.normalized,value:p[0],default:p[2]}:{key:d.normalized,value:p[0]},t):Pg(i,"required",{key:d.normalized,value:p},t);continue}if(en(p)&&(p[1]==="?"&&ae(VV),p[1]==="="&&ae(KV)),d.kind==="optional"){Pg(i,"optional",{key:d.normalized,value:p},t);continue}const y=t.$.parseOwnDefinitionFormat(g.normalized,t),v=Ay(y,p,t.$);v.index&&(i.index=tt(i.index,v.index)),v.required&&(i.required=tt(i.required,v.required))}const l=t.$.node("structure",i);return t.$.parseSchema({domain:"object",structure:n?.merge(l)??l})},Pg=(e,t,n,i)=>{e[t]=tt(e[t],i.$.node(t,n))},GV=e=>`Value of '+' key must be 'reject', 'delete', or 'ignore' (was ${Ze(e)})`,QV="Spread operator may only be used as the first key in an object",YV=e=>typeof e=="symbol"?{kind:"required",normalized:e}:e[e.length-1]==="?"?e[e.length-2]===zl?{kind:"required",normalized:`${e.slice(0,-2)}?`}:{kind:"optional",normalized:e.slice(0,-1)}:e[0]==="["&&e[e.length-1]==="]"?{kind:"index",normalized:e.slice(1,-1)}:e[0]===zl&&e[1]==="["&&e[e.length-1]==="]"?{kind:"required",normalized:e.slice(1)}:e==="..."?{kind:"spread"}:e==="+"?{kind:"undeclared"}:{kind:"required",normalized:e==="\\..."?"...":e==="\\+"?"+":e},XV=e=>`Spread operand must resolve to an object literal type (was ${e})`,JV=(e,t)=>aK(e)?ZO[e[0]](e,t):sK(e)?JO[e[1]](e,t):null,ZV=(e,t)=>t.$.parseOwnDefinitionFormat(e[1],t).keyof(),qg=(e,t)=>{if(e[2]===void 0)return ae(VO(e[1],""));const n=t.$.parseOwnDefinitionFormat(e[0],t),i=t.$.parseOwnDefinitionFormat(e[2],t);if(e[1]==="|")return t.$.node("union",{branches:[n,i]});const o=e[1]==="&"?gi(n,i,t.$):xy(n,i,t.$);return o instanceof we?o.throw():o},WV=(e,t)=>t.$.parseOwnDefinitionFormat(e[0],t).array(),eK=(e,t)=>typeof e[2]!="function"?ae(YO("=>",e[2])):t.$.parseOwnDefinitionFormat(e[0],t).pipe(e[2]),YO=(e,t)=>`${e===":"?"Narrow":"Morph"} expression requires a function following '${e}' (was ${typeof t})`,tK=(e,t)=>typeof e[2]!="function"?ae(YO(":",e[2])):t.$.parseOwnDefinitionFormat(e[0],t).constrain("predicate",e[2]),nK=(e,t)=>t.$.parseOwnDefinitionFormat(e[0],t).configure(e[2],e[3]),XO=e=>e,rK=XO({"[]":WV,"?":()=>ae(qO)}),iK=XO({"|":qg,"&":qg,":":tK,"=>":eK,"|>":qg,"@":nK,"=":()=>ae(zO)}),JO={...rK,...iK},sK=e=>JO[e[1]]!==void 0,oK=e=>e,ZO=oK({keyof:ZV,instanceof:(e,t)=>{if(typeof e[1]!="function")return ae(oR(my(e[1])));const n=e.slice(1).map(i=>typeof i=="function"?t.$.node("proto",{proto:i}):ae(oR(my(i))));return n.length===1?n[0]:t.$.node("union",{branches:n})},"===":(e,t)=>t.$.units(e.slice(1))}),aK=e=>ZO[e[0]]!==void 0,oR=e=>`Expected a constructor following 'instanceof' operator (was ${e})`,lK=(e,t)=>{let n=[{}],i=0;for(;i<e.length;){let o=!1;e[i]==="..."&&i<e.length-1&&(o=!0,i++);const l=QO(e[i],t),[u,f,d]=en(l)?l:[l];if(i++,o){if(!u.extends(he.intrinsic.Array))return ae(fK(u.expression));n=n.flatMap(p=>u.distribute(g=>uK(D_(p),g)))}else n=n.map(p=>f==="?"?WO(p,u):f==="="?cK(p,u,d):My(p,u))}return t.$.parseSchema(n.map(o=>pc(o)?{proto:Array,exactLength:0}:{proto:Array,sequence:o}))},My=(e,t)=>e.defaultables||e.optionals?ae(e.variadic?bO:dK):(e.variadic?e.postfix=tt(e.postfix,t):e.prefix=tt(e.prefix,t),e),WO=(e,t)=>e.variadic?ae(eM):(e.optionals=tt(e.optionals,t),e),cK=(e,t,n)=>e.variadic?ae(eM):e.optionals?ae(hK):(e.defaultables=tt(e.defaultables,[[t,n]]),e),aR=(e,t)=>(e.postfix&&ae(lR),e.variadic?e.variadic.equals(t)||ae(lR):e.variadic=t.internal,e),uK=(e,t)=>{const n=t.select({method:"find",kind:"sequence"});if(!n)return aR(e,he.intrinsic.unknown);if(n.prefix)for(const i of n.prefix)My(e,i);if(n.optionals)for(const i of n.optionals)WO(e,i);if(n.variadic&&aR(e,n.variadic),n.postfix)for(const i of n.postfix)My(e,i);return e},fK=e=>`Spread element must be an array (was ${e})`,lR="A tuple may have at most one variadic element",dK="A required element may not follow an optional element",eM="An optional element may not follow a variadic element",hK="A defaultable element may not follow an optional element without a default",pK={},tM=(e,t)=>{if(typeof e=="string"){if(t.args&&Object.keys(t.args).some(i=>e.includes(i)))return rR(e,t);const n=pK[t.$.name]??={};return n[e]??=rR(e,t)}return Zs(e,"object")?mK(e,t):ae(Ny(yr(e)))},mK=(e,t)=>{const n=_v(e);switch(n){case void 0:return Ae(e,"root")?e:"~standard"in e?gK(e,t):HV(e,t);case"Array":return yK(e,t);case"RegExp":return t.$.node("intersection",{domain:"string",pattern:e},{prereduced:!0});case"Function":{const i=Td(e)?e():e;return Ae(i,"root")?i:ae(Ny("Function"))}default:return ae(Ny(n??Ze(e)))}},gK=(e,t)=>t.$.intrinsic.unknown.pipe((n,i)=>{const o=e["~standard"].validate(n);if(!o.issues)return o.value;for(const{message:l,path:u}of o.issues)u?u.length?i.error({problem:p5(l),relativePath:u.map(f=>typeof f=="object"?f.key:f)}):i.error({message:l}):i.error({message:l})}),yK=(e,t)=>JV(e,t)??lK(e,t),Ny=e=>`Type definitions must be strings or objects (was ${e})`;class vK extends ds{constructor(t){const n=Object.assign({errors:as,hkt:jr,$:t,raw:t.parse,module:t.constructor.module,scope:t.constructor.scope,declare:t.declare,define:t.define,match:t.match,generic:t.generic,schema:t.schema,keywords:t.ambient,unit:t.unit,enumerated:t.enumerated,instanceOf:t.instanceOf,valueOf:t.valueOf,or:t.or,and:t.and,merge:t.merge,pipe:t.pipe,fn:t.fn},t.ambientAttachments);super((...i)=>{if(i.length===1)return t.parse(i[0]);if(i.length===2&&typeof i[0]=="string"&&i[0][0]==="<"&&i[0][i[0].length-1]===">"){const o=i[0].slice(1,-1),l=t.parseGenericParams(o,{});return new Jf(l,i[1],t,t,null)}return t.parse(i)},{attach:n})}}const ec=he;class Dd extends CO{get ambientAttachments(){if(ec.typeAttachments)return this.cacheGetter("ambientAttachments",rt(ec.typeAttachments,(t,n)=>[t,this.bindReference(n)]))}preparseOwnAliasEntry(t,n){const i=t.indexOf("<");if(i===-1){if(Ae(n,"module")||Ae(n,"generic"))return[t,n];const u=this.name==="ark"?t:t==="root"?this.name:`${this.name}.${t}`,f=this.resolvedConfig.keywords?.[u];return f&&(n=[n,"@",f]),[t,n]}t[t.length-1]!==">"&&ae("'>' must be the last character of a generic declaration in a scope");const o=t.slice(0,i),l=t.slice(i+1,-1);return[o,()=>{const u=this.parseGenericParams(l,{alias:o});return o8(u,n,this)}]}parseGenericParams(t,n){return Oy(new O_(t),[],this.createParseContext({...n,def:t,prefix:"generic"}))}normalizeRootScopeValue(t){return Td(t)&&!Ae(t,"generic")?t():t}preparseOwnDefinitionFormat(t,n){return{...n,def:t,prefix:n.alias??"type"}}parseOwnDefinitionFormat(t,n){!(n.alias&&n.alias in this.aliases)&&!n.args&&(n.args={this:n.id});const o=tM(t,n);if(en(o)){if(o[1]==="=")return ae(zO);if(o[1]==="?")return ae(qO)}return o}unit=t=>this.units([t]);valueOf=t=>this.units(W6(t));enumerated=(...t)=>this.units(t);instanceOf=t=>this.node("proto",{proto:t},{prereduced:!0});or=(...t)=>this.schema(t.map(n=>this.parse(n)));and=(...t)=>t.reduce((n,i)=>n.and(this.parse(i)),this.intrinsic.unknown);merge=(...t)=>t.reduce((n,i)=>n.merge(this.parse(i)),this.intrinsic.object);pipe=(...t)=>this.intrinsic.unknown.pipe(...t);fn=new PV(this);match=new UV(this);declare=()=>({type:this.type});define(t){return t}type=new vK(this);static scope=((t,n={})=>new Dd(t,n));static module=((t,n={})=>this.scope(t,n).export())}const bK=Object.assign(Dd.scope,{define:e=>e}),He=Dd;class wK extends jr{description='merge an object\'s properties onto another like `Merge(User, { isAdmin: "true" })`'}const SK=vi(["base",Te.object],["props",Te.object])(e=>e.base.merge(e.props),wK),xK=He.module({Key:Te.key,Merge:SK});class EK extends jr{}const RK=vi("element")(e=>{const t=e.element.exclude(Te.Array),n=t.array();return t.rawOr(n).pipe(hc).distribute(i=>i.assertHasKind("morph").declareOut(n),it)},EK),AK=He.module({root:Te.Array,readonly:"root",index:Te.nonNegativeIntegerString,liftFrom:RK},{name:"Array"}),ky=it(["string",mc.FileConstructor]),CK=ky.rawOr(ky.array()),cR=it({meta:"an object representing parsed form data",domain:"object",index:{signature:"string",value:CK}}),TK=He.module({root:["instanceof",FormData],value:ky,parsed:cR,parse:it({in:FormData,morphs:e=>{const t={};for(const[n,i]of e)if(n in t){const o=t[n];typeof o=="string"||o instanceof mc.FileConstructor?t[n]=[o,i]:o.push(i)}else t[n]=i;return t},declaredOut:cR})},{name:"FormData"}),_K=He.module({Int8:["instanceof",Int8Array],Uint8:["instanceof",Uint8Array],Uint8Clamped:["instanceof",Uint8ClampedArray],Int16:["instanceof",Int16Array],Uint16:["instanceof",Uint16Array],Int32:["instanceof",Int32Array],Uint32:["instanceof",Uint32Array],Float32:["instanceof",Float32Array],Float64:["instanceof",Float64Array],BigInt64:["instanceof",BigInt64Array],BigUint64:["instanceof",BigUint64Array]},{name:"TypedArray"}),OK={Boolean:1,Number:1,String:1},MK=He.module({...rt({...v_,...w_},(e,t)=>e in OK?[]:[e,["instanceof",t]]),Array:AK,TypedArray:_K,FormData:TK}),NK=it({domain:{domain:"number",meta:"a number representing a Unix timestamp"},divisor:{rule:1,meta:"an integer representing a Unix timestamp"},min:{rule:-864e13,meta:"a Unix timestamp after -8640000000000000"},max:{rule:864e13,meta:"a Unix timestamp before 8640000000000000"},meta:"an integer representing a safe Unix timestamp"}),kK=it({domain:"number",divisor:1}),nM=He.module({root:Te.number,integer:kK,epoch:NK,safe:it({domain:{domain:"number",numberAllowsNaN:!1},min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER}),NaN:["===",Number.NaN],Infinity:["===",Number.POSITIVE_INFINITY],NegativeInfinity:["===",Number.NEGATIVE_INFINITY]},{name:"number"}),ct=(e,t,n)=>{const i={domain:"string",pattern:{rule:e.source,flags:e.flags,meta:t}};return n&&(i.meta={format:n}),Bv("intersection",i)},uR=ct(Hf,"a well-formed integer string"),rM=He.module({root:uR,parse:it({in:uR,morphs:(e,t)=>{const n=Number.parseInt(e);return Number.isSafeInteger(n)?n:t.error("an integer in the range Number.MIN_SAFE_INTEGER to Number.MAX_SAFE_INTEGER")},declaredOut:Te.integer})},{name:"string.integer"}),$K=ct(/^[\dA-Fa-f]+$/,"hex characters only"),LK=He.module({root:ct(/^(?:[\d+/A-Za-z]{4})*(?:[\d+/A-Za-z]{2}==|[\d+/A-Za-z]{3}=)?$/,"base64-encoded"),url:ct(/^(?:[\w-]{4})*(?:[\w-]{2}(?:==|%3D%3D)?|[\w-]{3}(?:=|%3D)?)?$/,"base64url-encoded")},{name:"string.base64"}),fR=ct(/^[A-Z].*$/,"capitalized"),DK=He.module({root:it({in:"string",morphs:e=>e.charAt(0).toUpperCase()+e.slice(1),declaredOut:fR}),preformatted:fR},{name:"string.capitalize"}),IK=e=>{const t=e.replace(/[ -]+/g,"");let n=0,i,o,l=!1;for(let u=t.length-1;u>=0;u--)i=t.substring(u,u+1),o=Number.parseInt(i,10),l?(o*=2,n+=o>=10?o%10+1:o):n+=o,l=!l;return!!(n%10===0&&t)},jK=/^(?:4\d{12}(?:\d{3,6})?|5[1-5]\d{14}|(222[1-9]|22[3-9]\d|2[3-6]\d{2}|27[01]\d|2720)\d{12}|6(?:011|5\d\d)\d{12,15}|3[47]\d{13}|3(?:0[0-5]|[68]\d)\d{11}|(?:2131|1800|35\d{3})\d{11}|6[27]\d{14}|^(81\d{14,17}))$/,PK=it({domain:"string",pattern:{meta:"a credit card number",rule:jK.source},predicate:{meta:"a credit card number",predicate:IK}}),qK=/^([+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))(T((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([,.]\d+(?!:))?)?(\17[0-5]\d([,.]\d+)?)?([Zz]|([+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,zK=e=>!Number.isNaN(new Date(e).valueOf()),dR=it({domain:"string",predicate:{meta:"a parsable date",predicate:zK}}).assertHasKind("intersection"),hR=rM.root.internal.narrow((e,t)=>{const n=Number.parseInt(e),i=nM.epoch(n);return i instanceof as?(t.errors.merge(i),!1):!0}).configure({description:"an integer string representing a safe Unix timestamp"},"self").assertHasKind("intersection"),UK=He.module({root:hR,parse:it({in:hR,morphs:e=>new Date(e),declaredOut:Te.Date})},{name:"string.date.epoch"}),pR=ct(qK,"an ISO 8601 (YYYY-MM-DDTHH:mm:ss.sssZ) date").internal.assertHasKind("intersection"),BK=He.module({root:pR,parse:it({in:pR,morphs:e=>new Date(e),declaredOut:Te.Date})},{name:"string.date.iso"}),FK=He.module({root:dR,parse:it({declaredIn:dR,in:"string",morphs:(e,t)=>{const n=new Date(e);return Number.isNaN(n.valueOf())?t.error("a parsable date"):n},declaredOut:Te.Date}),iso:BK,epoch:UK},{name:"string.date"}),VK=ct(/^[\w%+.-]+@[\d.A-Za-z-]+\.[A-Za-z]{2,}$/,"an email address","email"),mR="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",Gi=`(${mR}[.]){3}${mR}`,KK=new RegExp(`^${Gi}$`),Ct="(?:[0-9a-fA-F]{1,4})",HK=new RegExp(`^((?:${Ct}:){7}(?:${Ct}|:)|(?:${Ct}:){6}(?:${Gi}|:${Ct}|:)|(?:${Ct}:){5}(?::${Gi}|(:${Ct}){1,2}|:)|(?:${Ct}:){4}(?:(:${Ct}){0,1}:${Gi}|(:${Ct}){1,3}|:)|(?:${Ct}:){3}(?:(:${Ct}){0,2}:${Gi}|(:${Ct}){1,4}|:)|(?:${Ct}:){2}(?:(:${Ct}){0,3}:${Gi}|(:${Ct}){1,5}|:)|(?:${Ct}:){1}(?:(:${Ct}){0,4}:${Gi}|(:${Ct}){1,6}|:)|(?::((?::${Ct}){0,5}:${Gi}|(?::${Ct}){1,7}|:)))(%[0-9a-zA-Z.]{1,})?$`),GK=He.module({root:["v4 | v6","@","an IP address"],v4:ct(KK,"an IPv4 address","ipv4"),v6:ct(HK,"an IPv6 address","ipv6")},{name:"string.ip"}),aa="a JSON string",iM=e=>{if(!(e instanceof SyntaxError))throw e;return`must be ${aa} (${e})`},QK=it({meta:aa,domain:"string",predicate:{meta:aa,predicate:(e,t)=>{try{return JSON.parse(e),!0}catch(n){return t.reject({code:"predicate",expected:aa,problem:iM(n)})}}}}),YK=(e,t)=>{if(e.length===0)return t.error({code:"predicate",expected:aa,actual:"empty"});try{return JSON.parse(e)}catch(n){return t.error({code:"predicate",expected:aa,problem:iM(n)})}},XK=He.module({root:QK,parse:it({meta:"safe JSON string parser",in:"string",morphs:YK,declaredOut:Te.jsonObject})},{name:"string.json"}),gR=ct(/^[a-z]*$/,"only lowercase letters"),JK=He.module({root:it({in:"string",morphs:e=>e.toLowerCase(),declaredOut:gR}),preformatted:gR},{name:"string.lower"}),sM=["NFC","NFD","NFKC","NFKD"],Sc=rt(sM,(e,t)=>[t,it({domain:"string",predicate:n=>n.normalize(t)===n,meta:`${t}-normalized unicode`})]),Id=rt(sM,(e,t)=>[t,it({in:"string",morphs:n=>n.normalize(t),declaredOut:Sc[t]})]),ZK=He.module({root:Id.NFC,preformatted:Sc.NFC},{name:"string.normalize.NFC"}),WK=He.module({root:Id.NFD,preformatted:Sc.NFD},{name:"string.normalize.NFD"}),eH=He.module({root:Id.NFKC,preformatted:Sc.NFKC},{name:"string.normalize.NFKC"}),tH=He.module({root:Id.NFKD,preformatted:Sc.NFKD},{name:"string.normalize.NFKD"}),nH=He.module({root:"NFC",NFC:ZK,NFD:WK,NFKC:eH,NFKD:tH},{name:"string.normalize"}),yR=ct(gy,"a well-formed numeric string"),rH=He.module({root:yR,parse:it({in:yR,morphs:e=>Number.parseFloat(e),declaredOut:Te.number})},{name:"string.numeric"}),vR="a regex pattern",iH=it({domain:"string",predicate:{meta:vR,predicate:(e,t)=>{try{return new RegExp(e),!0}catch(n){return t.reject({code:"predicate",expected:vR,problem:String(n)})}}},meta:{format:"regex"}}),sH=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[A-Za-z-][\dA-Za-z-]*)(?:\.(?:0|[1-9]\d*|\d*[A-Za-z-][\dA-Za-z-]*))*))?(?:\+([\dA-Za-z-]+(?:\.[\dA-Za-z-]+)*))?$/,oH=ct(sH,"a semantic version (see https://semver.org/)"),bR=ct(/^\S.*\S$|^\S?$/,"trimmed"),aH=He.module({root:it({in:"string",morphs:e=>e.trim(),declaredOut:bR}),preformatted:bR},{name:"string.trim"}),wR=ct(/^[A-Z]*$/,"only uppercase letters"),lH=He.module({root:it({in:"string",morphs:e=>e.toUpperCase(),declaredOut:wR}),preformatted:wR},{name:"string.upper"}),cH=e=>URL.canParse(e),SR=it({domain:"string",predicate:{meta:"a URL string",predicate:cH},meta:{format:"uri"}}),uH=He.module({root:SR,parse:it({declaredIn:SR,in:"string",morphs:(e,t)=>{try{return new URL(e)}catch{return t.error("a URL string")}},declaredOut:it(URL)})},{name:"string.url"}),fH=He.module({root:["versioned | nil | max","@",{description:"a UUID",format:"uuid"}],"#nil":"'00000000-0000-0000-0000-000000000000'","#max":"'ffffffff-ffff-ffff-ffff-ffffffffffff'","#versioned":/[\da-f]{8}-[\da-f]{4}-[1-8][\da-f]{3}-[89ab][\da-f]{3}-[\da-f]{12}/i,v1:ct(/^[\da-f]{8}-[\da-f]{4}-1[\da-f]{3}-[89ab][\da-f]{3}-[\da-f]{12}$/i,"a UUIDv1"),v2:ct(/^[\da-f]{8}-[\da-f]{4}-2[\da-f]{3}-[89ab][\da-f]{3}-[\da-f]{12}$/i,"a UUIDv2"),v3:ct(/^[\da-f]{8}-[\da-f]{4}-3[\da-f]{3}-[89ab][\da-f]{3}-[\da-f]{12}$/i,"a UUIDv3"),v4:ct(/^[\da-f]{8}-[\da-f]{4}-4[\da-f]{3}-[89ab][\da-f]{3}-[\da-f]{12}$/i,"a UUIDv4"),v5:ct(/^[\da-f]{8}-[\da-f]{4}-5[\da-f]{3}-[89ab][\da-f]{3}-[\da-f]{12}$/i,"a UUIDv5"),v6:ct(/^[\da-f]{8}-[\da-f]{4}-6[\da-f]{3}-[89ab][\da-f]{3}-[\da-f]{12}$/i,"a UUIDv6"),v7:ct(/^[\da-f]{8}-[\da-f]{4}-7[\da-f]{3}-[89ab][\da-f]{3}-[\da-f]{12}$/i,"a UUIDv7"),v8:ct(/^[\da-f]{8}-[\da-f]{4}-8[\da-f]{3}-[89ab][\da-f]{3}-[\da-f]{12}$/i,"a UUIDv8")},{name:"string.uuid"}),dH=He.module({root:Te.string,alpha:ct(/^[A-Za-z]*$/,"only letters"),alphanumeric:ct(/^[\dA-Za-z]*$/,"only letters and digits 0-9"),hex:$K,base64:LK,capitalize:DK,creditCard:PK,date:FK,digits:ct(/^\d*$/,"only digits 0-9"),email:VK,integer:rM,ip:GK,json:XK,lower:JK,normalize:nH,numeric:rH,regex:iH,semver:oH,trim:aH,upper:lH,url:uH,uuid:fH},{name:"string"}),hH=He.module({bigint:Te.bigint,boolean:Te.boolean,false:Te.false,never:Te.never,null:Te.null,number:Te.number,object:Te.object,string:Te.string,symbol:Te.symbol,true:Te.true,unknown:Te.unknown,undefined:Te.undefined}),pH=He.module({root:Te.unknown,any:Te.unknown},{name:"unknown"}),mH=He.module({root:Te.jsonObject,stringify:Bv("morph",{in:Te.jsonObject,morphs:e=>JSON.stringify(e),declaredOut:Te.string})},{name:"object.json"}),gH=He.module({root:Te.object,json:mH},{name:"object"});class yH extends jr{description='instantiate an object from an index signature and corresponding value type like `Record("string", "number")`'}const vH=vi(["K",Te.key],"V")(e=>({domain:"object",index:{signature:e.K,value:e.V}}),yH);class bH extends jr{description='pick a set of properties from an object like `Pick(User, "name | age")`'}const wH=vi(["T",Te.object],["K",Te.key])(e=>e.T.pick(e.K),bH);class SH extends jr{description='omit a set of properties from an object like `Omit(User, "age")`'}const xH=vi(["T",Te.object],["K",Te.key])(e=>e.T.omit(e.K),SH);class EH extends jr{description="make all named properties of an object optional like `Partial(User)`"}const RH=vi(["T",Te.object])(e=>e.T.partial(),EH);class AH extends jr{description="make all named properties of an object required like `Required(User)`"}const CH=vi(["T",Te.object])(e=>e.T.required(),AH);class TH extends jr{description='exclude branches of a union like `Exclude("boolean", "true")`'}const _H=vi("T","U")(e=>e.T.exclude(e.U),TH);class OH extends jr{description='extract branches of a union like `Extract("0 | false | 1", "number")`'}const MH=vi("T","U")(e=>e.T.extract(e.U),OH),NH=He.module({Exclude:_H,Extract:MH,Omit:xH,Partial:RH,Pick:wH,Record:vH,Required:CH}),hs=bK({...hH,...NH,...MK,...xK,string:dH,number:nM,object:gH,unknown:pH},{prereducedAliases:!0,name:"ark"}),Pt=hs.export();Object.assign(ec.ambient,Pt);ec.typeAttachments={string:Pt.string.root,number:Pt.number.root,bigint:Pt.bigint,boolean:Pt.boolean,symbol:Pt.symbol,undefined:Pt.undefined,null:Pt.null,object:Pt.object.root,unknown:Pt.unknown.root,false:Pt.false,true:Pt.true,never:Pt.never,arrayIndex:Pt.Array.index,Key:Pt.Key,Record:Pt.Record,Array:Pt.Array.root,Date:Pt.Date};const Ee=Object.assign(hs.type,ec.typeAttachments);hs.match;hs.fn;hs.generic;hs.schema;hs.define;hs.declare;Ee({registry:"string",token:"string?"});Ee({apiBase:"string",authBase:"string?",minCliVersion:"string?"}).or({registry:"string",authBase:"string?",minCliVersion:"string?"});Ee({version:"1",skills:{"[string]":{version:"string|null",installedAt:"number"}}});Ee({user:{handle:"string|null"}});Ee({results:Ee({slug:"string?",displayName:"string?",version:"string|null?",score:"number"}).array()});Ee({latestVersion:Ee({version:"string"}).optional(),skill:"unknown|null?"});Ee({uploadUrl:"string"});Ee({storageId:"string"});const kH=Ee({path:"string",size:"number",storageId:"string",sha256:"string",contentType:"string?"}),$H=Ee({kind:'"github"',url:"string",repo:"string",ref:"string",commit:"string",path:"string",importedAt:"number"});Ee({slug:"string",displayName:"string",version:"string",changelog:"string",tags:"string[]?",source:$H.optional(),forkOf:Ee({slug:"string",version:"string?"}).optional(),files:kH.array()});Ee({ok:"true",skillId:"string",versionId:"string"});Ee({slug:"string"});Ee({ok:"true"});Ee({match:Ee({version:"string"}).or("null"),latestVersion:Ee({version:"string"}).or("null")});Ee({roots:Ee({rootId:"string",label:"string",skills:Ee({slug:"string",version:"string|null?"}).array()}).array()});Ee({ok:"true"});Ee({user:{handle:"string|null",displayName:"string|null?",image:"string|null?"}});Ee({results:Ee({slug:"string?",displayName:"string?",summary:"string|null?",version:"string|null?",score:"number",updatedAt:"number?"}).array()});Ee({items:Ee({slug:"string",displayName:"string",summary:"string|null?",tags:"unknown",stats:"unknown",createdAt:"number",updatedAt:"number",latestVersion:Ee({version:"string",createdAt:"number",changelog:"string"}).optional()}).array(),nextCursor:"string|null"});Ee({skill:Ee({slug:"string",displayName:"string",summary:"string|null?",tags:"unknown",stats:"unknown",createdAt:"number",updatedAt:"number"}).or("null"),latestVersion:Ee({version:"string",createdAt:"number",changelog:"string"}).or("null"),owner:Ee({handle:"string|null",displayName:"string|null?",image:"string|null?"}).or("null")});Ee({items:Ee({version:"string",createdAt:"number",changelog:"string",changelogSource:'"auto"|"user"|null?'}).array(),nextCursor:"string|null"});Ee({version:Ee({version:"string",createdAt:"number",changelog:"string",changelogSource:'"auto"|"user"|null?',files:"unknown?"}).or("null"),skill:Ee({slug:"string",displayName:"string"}).or("null")});Ee({match:Ee({version:"string"}).or("null"),latestVersion:Ee({version:"string"}).or("null")});Ee({ok:"true",skillId:"string",versionId:"string"});Ee({ok:"true"});Ee({ok:"true",role:'"admin"|"moderator"|"user"'});Ee({ok:"true",starred:"boolean",alreadyStarred:"boolean"});Ee({ok:"true",unstarred:"boolean",alreadyUnstarred:"boolean"});const LH=Ee({id:"string?",kind:'"brew"|"node"|"go"|"uv"',label:"string?",bins:"string[]?",formula:"string?",tap:"string?",package:"string?",module:"string?"}),DH=Ee({plugin:"string",systems:"string[]?"}),IH=Ee({requiredEnv:"string[]?",stateDirs:"string[]?",example:"string?"}),jH=Ee({bins:"string[]?",anyBins:"string[]?",env:"string[]?",config:"string[]?"});Ee({always:"boolean?",skillKey:"string?",primaryEnv:"string?",emoji:"string?",homepage:"string?",os:"string[]?",cliHelp:"string?",requires:jH.optional(),install:LH.array().optional(),nix:DH.optional(),config:IH.optional()});const PH=["md","mdx","txt","json","json5","yaml","yml","toml","js","cjs","mjs","ts","tsx","jsx","py","sh","rb","go","rs","swift","kt","java","cs","cpp","c","h","hpp","sql","csv","ini","cfg","env","xml","html","css","scss","sass","svg"],qH=PH,Kv=new Set(qH),zH=["application/json","application/xml","application/yaml","application/x-yaml","application/toml","application/javascript","application/typescript","application/markdown","image/svg+xml"],UH=zH,BH=new Set(UH);function FH(e){if(!e)return!1;const t=e.split(";",1)[0]?.trim().toLowerCase()??"";return t?t.startsWith("text/")?!0:BH.has(t):!1}var En=Uint8Array,Jo=Uint16Array,VH=Int32Array,oM=new En([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),aM=new En([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),KH=new En([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lM=function(e,t){for(var n=new Jo(31),i=0;i<31;++i)n[i]=t+=1<<e[i-1];for(var o=new VH(n[30]),i=1;i<30;++i)for(var l=n[i];l<n[i+1];++l)o[l]=l-n[i]<<5|i;return{b:n,r:o}},cM=lM(oM,2),uM=cM.b,HH=cM.r;uM[28]=258,HH[258]=28;var GH=lM(aM,0),QH=GH.b,$y=new Jo(32768);for(var ut=0;ut<32768;++ut){var Ki=(ut&43690)>>1|(ut&21845)<<1;Ki=(Ki&52428)>>2|(Ki&13107)<<2,Ki=(Ki&61680)>>4|(Ki&3855)<<4,$y[ut]=((Ki&65280)>>8|(Ki&255)<<8)>>1}var Bl=(function(e,t,n){for(var i=e.length,o=0,l=new Jo(t);o<i;++o)e[o]&&++l[e[o]-1];var u=new Jo(t);for(o=1;o<t;++o)u[o]=u[o-1]+l[o-1]<<1;var f;if(n){f=new Jo(1<<t);var d=15-t;for(o=0;o<i;++o)if(e[o])for(var p=o<<4|e[o],g=t-e[o],y=u[e[o]-1]++<<g,v=y|(1<<g)-1;y<=v;++y)f[$y[y]>>d]=p}else for(f=new Jo(i),o=0;o<i;++o)e[o]&&(f[o]=$y[u[e[o]-1]++]>>15-e[o]);return f}),xc=new En(288);for(var ut=0;ut<144;++ut)xc[ut]=8;for(var ut=144;ut<256;++ut)xc[ut]=9;for(var ut=256;ut<280;++ut)xc[ut]=7;for(var ut=280;ut<288;++ut)xc[ut]=8;var fM=new En(32);for(var ut=0;ut<32;++ut)fM[ut]=5;var YH=Bl(xc,9,1),XH=Bl(fM,5,1),zg=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},ar=function(e,t,n){var i=t/8|0;return(e[i]|e[i+1]<<8)>>(t&7)&n},Ug=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},JH=function(e){return(e+7)/8|0},Hv=function(e,t,n){return(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length),new En(e.subarray(t,n))},ZH=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Sn=function(e,t,n){var i=new Error(t||ZH[e]);if(i.code=e,Error.captureStackTrace&&Error.captureStackTrace(i,Sn),!n)throw i;return i},dM=function(e,t,n,i){var o=e.length,l=i?i.length:0;if(!o||t.f&&!t.l)return n||new En(0);var u=!n,f=u||t.i!=2,d=t.i;u&&(n=new En(o*3));var p=function(Me){var st=n.length;if(Me>st){var Dt=new En(Math.max(st*2,Me));Dt.set(n),n=Dt}},g=t.f||0,y=t.p||0,v=t.b||0,S=t.l,E=t.d,w=t.m,A=t.n,_=o*8;do{if(!S){g=ar(e,y,1);var I=ar(e,y+1,3);if(y+=3,I)if(I==1)S=YH,E=XH,w=9,A=5;else if(I==2){var K=ar(e,y,31)+257,q=ar(e,y+10,15)+4,L=K+ar(e,y+5,31)+1;y+=14;for(var W=new En(L),oe=new En(19),se=0;se<q;++se)oe[KH[se]]=ar(e,y+se*3,7);y+=q*3;for(var ue=zg(oe),ce=(1<<ue)-1,X=Bl(oe,ue,1),se=0;se<L;){var H=X[ar(e,y,ce)];y+=H&15;var M=H>>4;if(M<16)W[se++]=M;else{var N=0,P=0;for(M==16?(P=3+ar(e,y,3),y+=2,N=W[se-1]):M==17?(P=3+ar(e,y,7),y+=3):M==18&&(P=11+ar(e,y,127),y+=7);P--;)W[se++]=N}}var j=W.subarray(0,K),F=W.subarray(K);w=zg(j),A=zg(F),S=Bl(j,w,1),E=Bl(F,A,1)}else Sn(1);else{var M=JH(y)+4,k=e[M-4]|e[M-3]<<8,U=M+k;if(U>o){d&&Sn(0);break}f&&p(v+k),n.set(e.subarray(M,U),v),t.b=v+=k,t.p=y=U*8,t.f=g;continue}if(y>_){d&&Sn(0);break}}f&&p(v+131072);for(var re=(1<<w)-1,$=(1<<A)-1,B=y;;B=y){var N=S[Ug(e,y)&re],Z=N>>4;if(y+=N&15,y>_){d&&Sn(0);break}if(N||Sn(2),Z<256)n[v++]=Z;else if(Z==256){B=y,S=null;break}else{var ne=Z-254;if(Z>264){var se=Z-257,le=oM[se];ne=ar(e,y,(1<<le)-1)+uM[se],y+=le}var pe=E[Ug(e,y)&$],fe=pe>>4;pe||Sn(3),y+=pe&15;var F=QH[fe];if(fe>3){var le=aM[fe];F+=Ug(e,y)&(1<<le)-1,y+=le}if(y>_){d&&Sn(0);break}f&&p(v+131072);var de=v+ne;if(v<F){var Se=l-F,Ce=Math.min(F,de);for(Se+v<0&&Sn(3);v<Ce;++v)n[v]=i[Se+v]}for(;v<de;++v)n[v]=n[v-F]}}t.l=S,t.p=B,t.b=v,t.f=g,S&&(g=1,t.m=w,t.d=E,t.n=A)}while(!g);return v!=n.length&&u?Hv(n,0,v):n.subarray(0,v)},WH=new En(0),Mr=function(e,t){return e[t]|e[t+1]<<8},lr=function(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0},Bg=function(e,t){return lr(e,t)+lr(e,t+4)*4294967296},e9=function(e){(e[0]!=31||e[1]!=139||e[2]!=8)&&Sn(6,"invalid gzip data");var t=e[3],n=10;t&4&&(n+=(e[10]|e[11]<<8)+2);for(var i=(t>>3&1)+(t>>4&1);i>0;i-=!e[n++]);return n+(t&2)},t9=function(e){var t=e.length;return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0};function n9(e,t){return dM(e,{i:2},t&&t.out,t&&t.dictionary)}function xR(e,t){var n=e9(e);return n+8>e.length&&Sn(6,"invalid gzip data"),dM(e.subarray(n,-8),{i:2},new En(t9(e)),t)}var Ly=typeof TextDecoder<"u"&&new TextDecoder,r9=0;try{Ly.decode(WH,{stream:!0}),r9=1}catch{}var i9=function(e){for(var t="",n=0;;){var i=e[n++],o=(i>127)+(i>223)+(i>239);if(n+o>e.length)return{s:t,r:Hv(e,n-1)};o?o==3?(i=((i&15)<<18|(e[n++]&63)<<12|(e[n++]&63)<<6|e[n++]&63)-65536,t+=String.fromCharCode(55296|i>>10,56320|i&1023)):o&1?t+=String.fromCharCode((i&31)<<6|e[n++]&63):t+=String.fromCharCode((i&15)<<12|(e[n++]&63)<<6|e[n++]&63):t+=String.fromCharCode(i)}};function s9(e,t){if(t){for(var n="",i=0;i<e.length;i+=16384)n+=String.fromCharCode.apply(null,e.subarray(i,i+16384));return n}else{if(Ly)return Ly.decode(e);var o=i9(e),l=o.s,n=o.r;return n.length&&Sn(8),l}}var o9=function(e,t){return t+30+Mr(e,t+26)+Mr(e,t+28)},a9=function(e,t,n){var i=Mr(e,t+28),o=s9(e.subarray(t+46,t+46+i),!(Mr(e,t+8)&2048)),l=t+46+i,u=lr(e,t+20),f=n&&u==4294967295?l9(e,l):[u,lr(e,t+24),lr(e,t+42)],d=f[0],p=f[1],g=f[2];return[Mr(e,t+10),d,p,o,l+Mr(e,t+30)+Mr(e,t+32),g]},l9=function(e,t){for(;Mr(e,t)!=1;t+=4+Mr(e,t+2));return[Bg(e,t+12),Bg(e,t+4),Bg(e,t+20)]};function c9(e,t){for(var n={},i=e.length-22;lr(e,i)!=101010256;--i)(!i||e.length-i>65558)&&Sn(13);var o=Mr(e,i+8);if(!o)return{};var l=lr(e,i+16),u=l==4294967295||o==65535;if(u){var f=lr(e,i-12);u=lr(e,f)==101075792,u&&(o=lr(e,f+32),l=lr(e,f+48))}for(var d=0;d<o;++d){var p=a9(e,l,u),g=p[0],y=p[1],v=p[2],S=p[3],E=p[4],w=p[5],A=o9(e,w);l=E,g?g==8?n[S]=n9(e.subarray(A,A+y),{out:new En(v)}):Sn(14,"unknown compression type "+g):n[S]=Hv(e,A,A+y)}return n}const u9=new Map([["md","text/markdown"],["markdown","text/markdown"],["txt","text/plain"],["json","application/json"],["yaml","text/yaml"],["yml","text/yaml"],["toml","text/plain"],["js","text/javascript"],["ts","text/plain"],["tsx","text/plain"],["jsx","text/plain"],["css","text/css"],["html","text/html"],["svg","image/svg+xml"]]);async function ER(e){const t=[];for(const n of e){const i=n.name.toLowerCase();if(i.endsWith(".zip")){const o=c9(new Uint8Array(await Fg(n)));RR(t,Object.entries(o).map(([l,u])=>({path:l,data:u})));continue}if(i.endsWith(".tar.gz")||i.endsWith(".tgz")){const o=xR(new Uint8Array(await Fg(n)));RR(t,p9(o));continue}if(i.endsWith(".gz")){const o=xR(new Uint8Array(await Fg(n))),l=n.name.replace(/\.gz$/i,"");t.push(new File([pM(o)],l,{type:mM(l)}));continue}t.push(n)}return t}async function f9(e){if(!e||e.length===0)return[];const t=[],n=[];for(const i of Array.from(e)){const o=i.webkitGetAsEntry?.();if(o){n.push(o);continue}const l=i.getAsFile();l&&t.push(l)}if(n.length===0)return t;for(const i of n)await hM(i,"",t);return t}async function hM(e,t,n){if(e.isFile&&e.file){const u=await new Promise((p,g)=>{e.file?.(p,g)}),d=e.fullPath?.replace(/^\/+/,"")||(t?`${t}/${u.name}`:u.name);n.push(new File([u],d,{type:u.type,lastModified:u.lastModified}));return}if(!e.isDirectory||!e.createReader)return;const i=e.fullPath?.replace(/^\/+/,"")||(t?`${t}/${e.name}`:e.name),o=e.createReader(),l=await d9(o);for(const u of l)await hM(u,i,n)}async function d9(e){const t=[];for(;;){const n=await new Promise((i,o)=>{e.readEntries(i,o)});if(n.length===0)break;t.push(...n)}return t}function RR(e,t){const n=t.map(o=>({...o,path:h9(o.path)})).filter(o=>o.path&&!o.path.endsWith("/")).filter(o=>!y9(o.path)).filter(o=>v9(o.path)),i=g9(n);for(const o of i)e.push(new File([pM(o.data)],o.path,{type:mM(o.path)}))}function pM(e){const t=e.buffer;return t instanceof ArrayBuffer?t.slice(e.byteOffset,e.byteOffset+e.byteLength):Uint8Array.from(e).buffer}async function Fg(e){return typeof e.arrayBuffer=="function"?e.arrayBuffer():typeof FileReader<"u"?new Promise((t,n)=>{const i=new FileReader;i.addEventListener("error",()=>{n(i.error??new Error("Could not read file."))}),i.addEventListener("load",()=>{t(i.result)}),i.readAsArrayBuffer(e)}):new Response(e).arrayBuffer()}function mM(e){const t=e.split(".").pop()?.toLowerCase();if(!t)return"application/octet-stream";const n=u9.get(t);return n||(Kv.has(t)?"text/plain":"application/octet-stream")}function h9(e){return e.replaceAll("\0","").replaceAll("\\","/").trim().replace(/^\.\/+/,"").replace(/^\/+/,"")}function p9(e){const t=[];let n=0;for(;n+512<=e.length;){const i=e.subarray(n,n+512);if(i.every(d=>d===0))break;const o=gM(i.subarray(0,100)),l=m9(i.subarray(124,136)),u=i[156];n+=512;const f=e.subarray(n,n+l);n+=Math.ceil(l/512)*512,!(!o||u===53)&&t.push({path:o,data:f})}return t}function gM(e){const t=e.indexOf(0),n=t===-1?e:e.subarray(0,t);return new TextDecoder().decode(n).trim()}function m9(e){const t=gM(e);return t?Number.parseInt(t,8):0}function g9(e){if(e.length===0)return e;const t=e.map(i=>i.path.split("/").filter(Boolean));if(t.some(i=>i.length<2))return e;const n=t[0]?.[0];return!n||!t.every(i=>i[0]===n)?e:e.map(i=>({...i,path:i.path.split("/").slice(1).join("/")}))}function y9(e){const t=e.toLowerCase();return!!(t.startsWith("__macosx/")||t.endsWith("/.ds_store")||t===".ds_store")}function v9(e){const n=e.trim().toLowerCase().split("."),i=n.length>1?n.at(-1)??"":"";return i?Kv.has(i):!1}async function b9(e,t){const n=await fetch(e,{method:"POST",headers:{"Content-Type":t.type||"application/octet-stream"},body:t});if(!n.ok)throw new Error(`Upload failed: ${await n.text()}`);return(await n.json()).storageId}async function w9(e){const t=typeof e.arrayBuffer=="function"?await e.arrayBuffer():await new Response(e).arrayBuffer(),n=await crypto.subtle.digest("SHA-256",new Uint8Array(t)),i=new Uint8Array(n);return Array.from(i).map(o=>o.toString(16).padStart(2,"0")).join("")}function S9(e){if(!Number.isFinite(e))return"0 B";const t=["B","KB","MB","GB"];let n=e,i=0;for(;n>=1024&&i<t.length-1;)n/=1024,i+=1;return`${n.toFixed(n<10&&i>0?1:0)} ${t[i]}`}function x9(e){if(e&&typeof e=="object"&&"data"in e){const t=e.data;if(typeof t=="string"&&t.trim())return t.trim();if(t&&typeof t=="object"&&"message"in t&&typeof t.message=="string"){const n=t.message?.trim();if(n)return n}}if(e instanceof Error){const t=e.message.replace(/\[CONVEX[^\]]*\]\s*/g,"").replace(/\[Request ID:[^\]]*\]\s*/g,"").replace(/^Server Error Called by client\s*/i,"").replace(/^ConvexError:\s*/i,"").trim();if(t&&t!=="Server Error")return t}return"Publish failed. Please try again."}function E9(e){const t=(e.webkitRelativePath||e.name).trim().toLowerCase();if(!t)return!1;const n=t.split("."),i=n.length>1?n.at(-1)??"":"";return!!(e.type&&FH(e.type)||i&&Kv.has(i))}async function R9(e){return typeof e.text=="function"?e.text():new Response(e).text()}const AR=/^[a-z0-9]+(?:-[a-z0-9]+)*$/,A9=Gt("/upload")({validateSearch:e=>({updateSlug:typeof e.updateSlug=="string"?e.updateSlug:void 0}),component:C9});function C9(){const{isAuthenticated:e,me:t}=ev(),{updateSlug:n}=ld({from:"/upload"}),o=ya()==="souls",l=o?"SOUL.md":"SKILL.md",u=o?"soul":"skill",f=WA(er.uploads.generateUploadUrl),d=ny(o?er.souls.publishVersion:er.skills.publishVersion),p=ny(o?er.souls.generateChangelogPreview:er.skills.generateChangelogPreview),g=Lf(er.skills.getBySlug,!o&&n?{slug:n}:"skip"),y=Lf(er.souls.getBySlug,o&&n?{slug:n}:"skip"),v=o?y:g,[S,E]=R.useState(!1),[w,A]=R.useState([]),[_,I]=R.useState(n??""),[M,k]=R.useState(""),[U,K]=R.useState("1.0.0"),[q,L]=R.useState("latest"),[W,oe]=R.useState(""),[se,ue]=R.useState("idle"),[ce,X]=R.useState(null),H=R.useRef(!1),N=R.useRef(0),P=R.useRef(null),[j,F]=R.useState(null),re=j!==null,[$,B]=R.useState(null),[Z,ne]=R.useState(!1),le=R.useRef(null),pe=R.useRef(null),fe=cd(),de=50*1024*1024,Se=R.useMemo(()=>w.reduce((ve,$e)=>ve+$e.size,0),[w]),Ce=R.useMemo(()=>{if(w.length===0)return null;const ve=w.map(Ie=>(Ie.webkitRelativePath||Ie.name).replace(/^\.\//,""));if(!ve.every(Ie=>Ie.includes("/")))return null;const $e=ve[0]?.split("/")[0];return!$e||!ve.every(Ie=>Ie.startsWith(`${$e}/`))?null:$e},[w]),Me=R.useMemo(()=>w.map(ve=>{const $e=(ve.webkitRelativePath||ve.name).replace(/^\.\//,"");return Ce&&$e.startsWith(`${Ce}/`)?$e.slice(Ce.length+1):$e}),[w,Ce]),st=R.useMemo(()=>Me.some(ve=>{const $e=ve.trim().toLowerCase();return o?$e==="soul.md":$e==="skill.md"||$e==="skills.md"}),[o,Me]),Dt=Se?S9(Se):"0 B",gt=_.trim(),vr=M.trim(),br=W.trim();R.useEffect(()=>{if(!v?.latestVersion||!v?.skill&&!v?.soul)return;const ve=v.skill?.displayName??v.soul?.displayName,$e=v.skill?.slug??v.soul?.slug;$e&&I($e),ve&&k(ve);const Ie=Mg.inc(v.latestVersion.version,"patch");Ie&&K(Ie)},[v]),R.useEffect(()=>{if(H.current||br||!gt||!AR.test(gt)||!Mg.valid(U)||!st||w.length===0)return;const ve=Me.findIndex(ot=>{const Pr=ot.trim().toLowerCase();return o?Pr==="soul.md":Pr==="skill.md"||Pr==="skills.md"});if(ve<0)return;const $e=w[ve];if(!$e)return;const Ie=`${gt}:${U}:${$e.size}:${$e.lastModified}:${Me.length}`;if(P.current===Ie)return;P.current=Ie;const Tn=++N.current;ue("loading"),R9($e).then(ot=>N.current!==Tn?null:p({slug:gt,version:U,readmeText:ot.slice(0,2e4),filePaths:Me})).then(ot=>{ot&&N.current===Tn&&(oe(ot.changelog),X("auto"),ue("ready"))}).catch(()=>{N.current===Tn&&ue("error")})},[w,p,st,o,Me,br,gt,U]);const qn=R.useMemo(()=>q.split(",").map(ve=>ve.trim()).filter(Boolean),[q]),zn=R.useMemo(()=>{const ve=[];gt?AR.test(gt)||ve.push("Slug must be lowercase and use dashes only."):ve.push("Slug is required."),vr||ve.push("Display name is required."),Mg.valid(U)||ve.push("Version must be valid semver (e.g. 1.0.0)."),qn.length===0&&ve.push("At least one tag is required."),w.length===0&&ve.push("Add at least one file."),st||ve.push(`${l} is required.`);const $e=w.filter(Ie=>!E9(Ie));return $e.length>0&&ve.push(`Remove non-text files: ${$e.slice(0,3).map(Ie=>Ie.name).join(", ")}`),Se>de&&ve.push("Total file size exceeds 50MB."),{issues:ve,ready:ve.length===0}},[gt,vr,U,qn.length,w,st,Se,l]);if(R.useEffect(()=>{le.current&&(le.current.setAttribute("webkitdirectory",""),le.current.setAttribute("directory",""))},[]),!e)return x.jsx("main",{className:"section",children:x.jsxs("div",{className:"card",children:["Sign in to upload a ",u,"."]})});async function Cn(ve){if(ve.preventDefault(),E(!0),!zn.ready){pe.current&&"scrollIntoView"in pe.current&&pe.current.scrollIntoView({behavior:"smooth",block:"center"});return}if(B(null),Se>de){B("Total size exceeds 50MB per version.");return}if(!st){B(`${l} is required.`);return}F("Uploading files");const $e=[];for(const Ie of w){const Tn=await f(),ot=(Ie.webkitRelativePath||Ie.name).replace(/^\.\//,""),Pr=Ce&&ot.startsWith(`${Ce}/`)?ot.slice(Ce.length+1):ot,We=await w9(Ie),_t=await b9(Tn,Ie);$e.push({path:Pr,size:Ie.size,storageId:_t,sha256:We,contentType:Ie.type||void 0})}F("Publishing");try{const Ie=await d({slug:gt,displayName:vr,version:U,changelog:br,tags:qn,files:$e});if(F(null),B(null),E(!1),X("user"),Ie){const Tn=t?.handle??(t?._id?String(t._id):"unknown");fe({to:o?"/souls/$slug":"/$owner/$slug",params:o?{slug:gt}:{owner:Tn,slug:gt}})}}catch(Ie){F(null),B(x9(Ie))}}return x.jsxs("main",{className:"section upload-page",children:[x.jsx("header",{className:"upload-page-header",children:x.jsxs("div",{children:[x.jsxs("h1",{className:"upload-page-title",children:["Publish a ",u]}),x.jsxs("p",{className:"upload-page-subtitle",children:["Drop a folder with ",l," and text files. We will handle the rest."]})]})}),x.jsxs("form",{onSubmit:Cn,className:"upload-grid",children:[x.jsxs("div",{className:"card upload-panel",children:[x.jsx("label",{className:"form-label",htmlFor:"slug",children:"Slug"}),x.jsx("input",{className:"form-input",id:"slug",value:_,onChange:ve=>I(ve.target.value),placeholder:`${u}-name`}),x.jsx("label",{className:"form-label",htmlFor:"displayName",children:"Display name"}),x.jsx("input",{className:"form-input",id:"displayName",value:M,onChange:ve=>k(ve.target.value),placeholder:`My ${u}`}),x.jsx("label",{className:"form-label",htmlFor:"version",children:"Version"}),x.jsx("input",{className:"form-input",id:"version",value:U,onChange:ve=>K(ve.target.value),placeholder:"1.0.0"}),x.jsx("label",{className:"form-label",htmlFor:"tags",children:"Tags"}),x.jsx("input",{className:"form-input",id:"tags",value:q,onChange:ve=>L(ve.target.value),placeholder:"latest, stable"})]}),x.jsxs("div",{className:"card upload-panel",children:[x.jsxs("label",{className:`upload-dropzone${Z?" is-dragging":""}`,onDragOver:ve=>{ve.preventDefault(),ne(!0)},onDragLeave:()=>ne(!1),onDrop:ve=>{ve.preventDefault(),ne(!1);const $e=ve.dataTransfer.items;(async()=>{const Ie=$e?.length?await f9($e):Array.from(ve.dataTransfer.files),Tn=await ER(Ie);A(Tn)})()},children:[x.jsx("input",{ref:le,className:"upload-file-input",id:"upload-files","data-testid":"upload-input",type:"file",multiple:!0,webkitdirectory:"",directory:"",onChange:ve=>{const $e=Array.from(ve.target.files??[]);ER($e).then(Ie=>A(Ie))}}),x.jsxs("div",{className:"upload-dropzone-copy",children:[x.jsxs("div",{className:"upload-dropzone-title-row",children:[x.jsx("strong",{children:"Drop a folder"}),x.jsxs("span",{className:"upload-dropzone-count",children:[w.length," files  ",Dt]})]}),x.jsx("span",{className:"upload-dropzone-hint",children:"We keep folder paths and flatten the outer wrapper automatically."}),x.jsx("button",{className:"btn upload-picker-btn",type:"button",onClick:()=>le.current?.click(),children:"Choose folder"})]})]}),x.jsx("div",{className:"upload-file-list",children:w.length===0?x.jsx("div",{className:"stat",children:"No files selected."}):Me.map(ve=>x.jsx("div",{className:"upload-file-row",children:x.jsx("span",{children:ve})},ve))})]}),x.jsxs("div",{className:"card upload-panel",ref:pe,children:[x.jsx("h2",{className:"upload-panel-title",children:"Validation"}),zn.issues.length===0?x.jsx("div",{className:"stat",children:"All checks passed."}):x.jsx("ul",{className:"validation-list",children:zn.issues.map(ve=>x.jsx("li",{children:ve},ve))})]}),x.jsxs("div",{className:"card upload-panel",children:[x.jsx("label",{className:"form-label",htmlFor:"changelog",children:"Changelog"}),x.jsx("textarea",{className:"form-input",id:"changelog",rows:6,value:W,onChange:ve=>{H.current=!0,X("user"),oe(ve.target.value)},placeholder:`Describe what changed in this ${u}...`}),se==="loading"?x.jsx("div",{className:"stat",children:"Generating changelog"}):null,se==="error"?x.jsx("div",{className:"stat",children:"Could not auto-generate changelog."}):null,ce==="auto"&&W?x.jsx("div",{className:"stat",children:"Auto-generated changelog (edit as needed)."}):null]}),x.jsxs("div",{className:"upload-submit-row",children:[x.jsxs("div",{className:"upload-submit-notes",children:[$?x.jsx("div",{className:"error",role:"alert",children:$}):null,j?x.jsx("div",{className:"stat",children:j}):null,S&&!zn.ready?x.jsx("div",{className:"stat",children:"Fix validation issues to continue."}):null]}),x.jsxs("button",{className:"btn btn-primary upload-submit-btn",type:"submit",disabled:!zn.ready||re,children:["Publish ",u]})]})]})]})}const T9=()=>pr(()=>import("./stars-CHVBKdCd.js"),[]),_9=Gt("/stars")({component:hr(T9,"component")}),O9=()=>pr(()=>import("./settings-CfuVz1Q-.js"),[]),M9=Gt("/settings")({component:hr(O9,"component")}),N9=Gt("/search")({validateSearch:e=>({q:typeof e.q=="string"&&e.q.trim()?e.q:void 0,highlighted:e.highlighted==="1"||e.highlighted==="true"?!0:void 0,nonSuspicious:e.nonSuspicious==="1"||e.nonSuspicious==="true"?!0:void 0}),beforeLoad:({search:e,location:t})=>{const n=t.url?.hostname??(typeof window<"u"?window.location.hostname:void 0);throw Df(n)==="skills"?ca({to:"/skills",search:{q:e.q||void 0,sort:void 0,dir:void 0,highlighted:e.highlighted||void 0,nonSuspicious:e.nonSuspicious||void 0,view:void 0,focus:void 0},replace:!0}):ca({to:"/",search:{q:e.q||void 0,highlighted:void 0,search:e.q?void 0:!0},replace:!0})}}),k9=()=>pr(()=>import("./management-DU_Ep0-t.js"),[]),$9=Gt("/management")({validateSearch:e=>({skill:typeof e.skill=="string"&&e.skill.trim()?e.skill:void 0}),component:hr(k9,"component")}),L9=()=>pr(()=>import("./import-Dakz1GgN.js"),[]),D9=Gt("/import")({component:hr(L9,"component")}),I9=()=>pr(()=>import("./dashboard-CetZJJ5s.js"),[]),j9=Gt("/dashboard")({component:hr(I9,"component")}),P9=Gt("/admin")({beforeLoad:()=>{throw ca({to:"/management",search:{skill:void 0},replace:!0})}}),q9=()=>pr(()=>import("./index-pc0Ktsqq.js"),__vite__mapDeps([0,1,2])),z9=Gt("/")({component:hr(q9,"component")}),U9=()=>pr(()=>import("./index-kh1kbLdX.js"),__vite__mapDeps([3,2,1])),B9=["newest","downloads","stars","name","updated"];function F9(e){return typeof e!="string"?"newest":B9.includes(e)?e:"newest"}const V9=Gt("/souls/")({validateSearch:e=>({q:typeof e.q=="string"&&e.q.trim()?e.q:void 0,sort:typeof e.sort=="string"?F9(e.sort):void 0,dir:e.dir==="asc"||e.dir==="desc"?e.dir:void 0,view:e.view==="cards"||e.view==="list"?e.view:void 0,focus:e.focus==="search"?"search":void 0}),component:hr(U9,"component")}),K9=["relevance","newest","downloads","installs","stars","name","updated"];function yM(e){return typeof e!="string"?"downloads":K9.includes(e)?e:"downloads"}function Vg(e,t){return e==="asc"||e==="desc"?e:t==="name"?"asc":"desc"}function H9(e){return e==="relevance"?"downloads":e}function G9({skill:e,badge:t,chip:n,summaryFallback:i,meta:o,href:l}){const u=encodeURIComponent(String(e.ownerUserId)),f=l??`/${u}/${e.slug}`,d=Array.isArray(t)?t:t?[t]:[];return x.jsxs(bt,{to:f,className:"card skill-card",children:[d.length||n?x.jsxs("div",{className:"skill-card-tags",children:[d.map(p=>x.jsx("div",{className:"tag",children:p},p)),n?x.jsx("div",{className:"tag tag-accent tag-compact",children:n}):null]}):null,x.jsx("h3",{className:"skill-card-title",children:e.displayName}),x.jsx("p",{className:"skill-card-summary",children:e.summary??i}),x.jsx("div",{className:"skill-card-footer",children:o})]})}const Kg=1e3,CR=1e6;function Fl(e){if(!Number.isFinite(e))return"0";const t=e<0?"-":"",n=Math.abs(e);if(n<Kg)return`${Math.round(e)}`;if(n<CR){const{formatted:i,rounded:o}=TR(n/Kg);return o>=Kg?`${t}1M`:`${t}${i}k`}return`${t}${TR(n/CR).formatted}M`}function vM(e){return{stars:Fl(e.stars),downloads:Fl(e.downloads),installsAllTime:Fl(e.installsAllTime??0)}}function Y7(e){return{stars:Fl(e.stars),downloads:Fl(e.downloads),versions:e.versions}}function TR(e){const t=e<100?1:0,n=10**t,i=Math.round(e*n)/n;return{formatted:Q9(i.toFixed(t)),rounded:i}}function Q9(e){return e.replace(/\.0$/,"")}function Y9({stats:e}){const t=vM(e);return x.jsxs(x.Fragment,{children:[" ",t.stars,"  ",x.jsx(lC,{size:13,"aria-hidden":"true"})," ",t.downloads]})}function X9({stats:e}){const t=vM(e);return x.jsxs(x.Fragment,{children:[x.jsxs("span",{children:[x.jsx(lC,{size:13,"aria-hidden":"true"})," ",t.downloads]}),x.jsxs("span",{children:[" ",t.stars]}),x.jsxs("span",{children:[e.versions," v"]})]})}function _R({user:e,fallbackHandle:t,prefix:n="by",size:i="sm",link:o=!0,showName:l=!1}){const u=e?.handle??e?.name??t??null,f=e?.handle?`/u/${encodeURIComponent(e.handle)}`:null,d=u?`@${u}`:"user",p=e?.image??null,g=e?.displayName?.trim()||null,y=l&&!!g&&!!u&&g.toLowerCase()!==u.toLowerCase(),v=(e?.displayName??e?.name??u??"u").charAt(0).toUpperCase();return x.jsxs("span",{className:`user-badge user-badge-${i}`,children:[n?x.jsx("span",{className:"user-badge-prefix",children:n}):null,x.jsx("span",{className:"user-avatar","aria-hidden":"true",children:p?x.jsx("img",{className:"user-avatar-img",src:p,alt:"",loading:"lazy"}):x.jsx("span",{className:"user-avatar-fallback",children:v})}),y?x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"user-name",children:g}),x.jsx("span",{className:"user-name-sep","aria-hidden":"true",children:""})]}):null,o&&f?x.jsx("a",{className:"user-handle",href:f,children:d}):x.jsx("span",{className:"user-handle",children:d})]})}function J9(e){return!!e.badges?.highlighted}function Z9(e){return!!e.badges?.official}function W9(e){return!!e.badges?.deprecated}function OR(e){const t=[];return W9(e)&&t.push("Deprecated"),Z9(e)&&t.push("Official"),J9(e)&&t.push("Highlighted"),t}function MR(e,t){const n=t?.trim()||String(e.ownerUserId);return`/${encodeURIComponent(n)}/${encodeURIComponent(e.slug)}`}function e7({isLoadingSkills:e,sorted:t,view:n,paginationStatus:i,hasQuery:o,canLoadMore:l,isLoadingMore:u,canAutoLoad:f,loadMoreRef:d,loadMore:p}){return x.jsxs(x.Fragment,{children:[e?x.jsx("div",{className:"card",children:x.jsx("div",{className:"loading-indicator",children:"Loading skills"})}):t.length===0?x.jsx("div",{className:"card",children:i==="Exhausted"||o?"No skills match that filter.":"Loading skills"}):n==="cards"?x.jsx("div",{className:"grid",children:t.map(g=>{const y=g.skill,v=g.owner?.handle??g.owner?.name??g.ownerHandle??null,S=MR(y,v);return x.jsx(G9,{skill:y,href:S,badge:OR(y),summaryFallback:"Agent-ready skill pack.",meta:x.jsxs("div",{className:"skill-card-footer-rows",children:[x.jsx(_R,{user:g.owner,fallbackHandle:v,prefix:"by",link:!1}),x.jsx("div",{className:"stat",children:x.jsx(Y9,{stats:y.stats})})]})},y._id)})}):x.jsx("div",{className:"skills-list",children:t.map(g=>{const y=g.skill,v=g.owner?.handle??g.owner?.name??g.ownerHandle??null,S=MR(y,v);return x.jsxs(bt,{className:"skills-row",to:S,children:[x.jsxs("div",{className:"skills-row-main",children:[x.jsxs("div",{className:"skills-row-title",children:[x.jsx("span",{children:y.displayName}),x.jsxs("span",{className:"skills-row-slug",children:["/",y.slug]}),OR(y).map(E=>x.jsx("span",{className:"tag",children:E},E))]}),x.jsx("div",{className:"skills-row-summary",children:y.summary??"No summary provided."}),x.jsx("div",{className:"skills-row-owner",children:x.jsx(_R,{user:g.owner,fallbackHandle:v,prefix:"by",link:!1})})]}),x.jsx("div",{className:"skills-row-metrics",children:x.jsx(X9,{stats:y.stats})})]},y._id)})}),l||u?x.jsx("div",{ref:f?d:null,className:"card",style:{marginTop:16,display:"flex",justifyContent:"center"},children:f?u?"Loading more":"Scroll to load more":x.jsx("button",{className:"btn",type:"button",onClick:p,disabled:u,children:u?"Loading":"Load more"})}):null]})}function t7({searchInputRef:e,query:t,hasQuery:n,sort:i,dir:o,view:l,highlightedOnly:u,nonSuspiciousOnly:f,onQueryChange:d,onToggleHighlighted:p,onToggleNonSuspicious:g,onSortChange:y,onToggleDir:v,onToggleView:S}){return x.jsxs("div",{className:"skills-toolbar",children:[x.jsx("div",{className:"skills-search",children:x.jsx("input",{ref:e,className:"skills-search-input",value:t,onChange:E=>d(E.target.value),placeholder:"Filter by name, slug, or summary"})}),x.jsxs("div",{className:"skills-toolbar-row",children:[x.jsx("button",{className:`search-filter-button${u?" is-active":""}`,type:"button","aria-pressed":u,onClick:p,children:"Highlighted"}),x.jsx("button",{className:`search-filter-button${f?" is-active":""}`,type:"button","aria-pressed":f,onClick:g,children:"Hide suspicious"}),x.jsxs("select",{className:"skills-sort",value:i,onChange:E=>y(E.target.value),"aria-label":"Sort skills",children:[n?x.jsx("option",{value:"relevance",children:"Relevance"}):null,x.jsx("option",{value:"newest",children:"Newest"}),x.jsx("option",{value:"updated",children:"Recently updated"}),x.jsx("option",{value:"downloads",children:"Downloads"}),x.jsx("option",{value:"installs",children:"Installs"}),x.jsx("option",{value:"stars",children:"Stars"}),x.jsx("option",{value:"name",children:"Name"})]}),x.jsx("button",{className:"skills-dir",type:"button","aria-label":`Sort direction ${o}`,onClick:v,children:o==="asc"?"":""}),x.jsx("button",{className:`skills-view${l==="cards"?" is-active":""}`,type:"button",onClick:S,children:l==="cards"?"List":"Cards"})]})]})}const Ol=25;function n7({search:e,navigate:t,searchInputRef:n}){const[i,o]=R.useState(e.q??""),[l,u]=R.useState([]),[f,d]=R.useState(Ol),[p,g]=R.useState(!1),y=R.useRef(0),v=R.useRef(null),S=R.useRef(!1),E=e.view??"list",w=e.highlighted??!1,A=e.nonSuspicious??!1,_=ny(er.search.searchSkills),I=R.useMemo(()=>i.trim(),[i]),M=I.length>0,k=e.sort==="relevance"&&!M?"downloads":e.sort??(M?"relevance":"downloads"),U=H9(k),K=Vg(e.dir,k),q=I?`${I}::${w?"1":"0"}::${A?"1":"0"}`:"",{results:L,status:W,loadMore:oe}=JP(er.skills.listPublicPageV2,M?"skip":{sort:U,dir:K,highlightedOnly:w,nonSuspiciousOnly:A},{initialNumItems:Ol}),se=W==="LoadingFirstPage",ue=W==="CanLoadMore",ce=W==="LoadingMore";R.useEffect(()=>{o(e.q??"")},[e.q]),R.useEffect(()=>{e.focus==="search"&&n.current&&(n.current.focus(),t({search:de=>({...de,focus:void 0}),replace:!0}))},[t,e.focus,n]),R.useEffect(()=>{if(!q){u([]),g(!1);return}u([]),d(Ol)},[q]),R.useEffect(()=>{if(!M)return;y.current+=1;const de=y.current;g(!0);const Se=window.setTimeout(()=>{(async()=>{try{const Ce=await _({query:I,highlightedOnly:w,nonSuspiciousOnly:A,limit:f});de===y.current&&u(Ce)}finally{de===y.current&&g(!1)}})()},220);return()=>window.clearTimeout(Se)},[M,w,A,f,_,I]);const X=R.useMemo(()=>M?l.map(de=>({skill:de.skill,latestVersion:de.version,ownerHandle:de.ownerHandle??null,owner:de.owner??null,searchScore:de.score})):L,[M,L,l]),H=R.useMemo(()=>{if(!M)return X;const de=K==="asc"?1:-1,Se=[...X];return Se.sort((Ce,Me)=>{const st=()=>{const Dt=(Ce.skill.updatedAt-Me.skill.updatedAt)*de;return Dt!==0?Dt:Ce.skill.slug.localeCompare(Me.skill.slug)};switch(k){case"relevance":return((Ce.searchScore??0)-(Me.searchScore??0))*de;case"downloads":return(Ce.skill.stats.downloads-Me.skill.stats.downloads)*de||st();case"installs":return((Ce.skill.stats.installsAllTime??0)-(Me.skill.stats.installsAllTime??0))*de||st();case"stars":return(Ce.skill.stats.stars-Me.skill.stats.stars)*de||st();case"updated":return(Ce.skill.updatedAt-Me.skill.updatedAt)*de||Ce.skill.slug.localeCompare(Me.skill.slug);case"name":return(Ce.skill.displayName.localeCompare(Me.skill.displayName)||Ce.skill.slug.localeCompare(Me.skill.slug))*de;default:return(Ce.skill.createdAt-Me.skill.createdAt)*de||Ce.skill.slug.localeCompare(Me.skill.slug)}}),Se},[X,K,M,k]),N=M?p&&l.length===0:se,P=M?!p&&l.length===f&&l.length>0:ue,j=M?p&&l.length>0:ce,F=typeof IntersectionObserver<"u",re=R.useCallback(()=>{S.current||j||!P||(S.current=!0,M?d(de=>de+Ol):oe(Ol))},[P,M,j,oe]);R.useEffect(()=>{j||(S.current=!1)},[j]),R.useEffect(()=>{if(!P||typeof IntersectionObserver>"u")return;const de=v.current;if(!de)return;const Se=new IntersectionObserver(Ce=>{Ce.some(Me=>Me.isIntersecting)&&(Se.disconnect(),re())},{rootMargin:"200px"});return Se.observe(de),()=>Se.disconnect()},[P,re]);const $=R.useCallback(de=>{const Se=de.trim();o(de),t({search:Ce=>({...Ce,q:Se?de:void 0}),replace:!0})},[t]),B=R.useCallback(()=>{t({search:de=>({...de,highlighted:de.highlighted?void 0:!0}),replace:!0})},[t]),Z=R.useCallback(()=>{t({search:de=>({...de,nonSuspicious:de.nonSuspicious?void 0:!0}),replace:!0})},[t]),ne=R.useCallback(de=>{const Se=yM(de);t({search:Ce=>({...Ce,sort:Se,dir:Vg(Ce.dir,Se)}),replace:!0})},[t]),le=R.useCallback(()=>{t({search:de=>({...de,dir:Vg(de.dir,k)==="asc"?"desc":"asc"}),replace:!0})},[t,k]),pe=R.useCallback(()=>{t({search:de=>({...de,view:de.view==="cards"?void 0:"cards"}),replace:!0})},[t]),fe=[];return w&&fe.push("highlighted"),A&&fe.push("non-suspicious"),{activeFilters:fe,canAutoLoad:F,canLoadMore:P,dir:K,hasQuery:M,highlightedOnly:w,isLoadingMore:j,isLoadingSkills:N,loadMore:re,loadMoreRef:v,nonSuspiciousOnly:A,onQueryChange:$,onSortChange:ne,onToggleDir:le,onToggleHighlighted:B,onToggleNonSuspicious:Z,onToggleView:pe,paginationStatus:W,query:i,sort:k,sorted:H,view:E}}const Dy=Gt("/skills/")({validateSearch:e=>({q:typeof e.q=="string"&&e.q.trim()?e.q:void 0,sort:typeof e.sort=="string"?yM(e.sort):void 0,dir:e.dir==="asc"||e.dir==="desc"?e.dir:void 0,highlighted:e.highlighted==="1"||e.highlighted==="true"||e.highlighted===!0?!0:void 0,nonSuspicious:e.nonSuspicious==="1"||e.nonSuspicious==="true"||e.nonSuspicious===!0?!0:void 0,view:e.view==="cards"||e.view==="list"?e.view:void 0,focus:e.focus==="search"?"search":void 0}),beforeLoad:({search:e})=>{if(!(e.q?.trim()||e.sort))throw ca({to:"/skills",search:{q:e.q||void 0,sort:"downloads",dir:e.dir||void 0,highlighted:e.highlighted||void 0,nonSuspicious:e.nonSuspicious||void 0,view:e.view||void 0,focus:e.focus||void 0},replace:!0})},component:r7});function r7(){const e=Dy.useNavigate(),t=Dy.useSearch(),n=R.useRef(null),i=Lf(er.skills.countPublicSkills),o=typeof i=="number"?i.toLocaleString("en-US"):null,l=n7({navigate:e,search:t,searchInputRef:n});return x.jsxs("main",{className:"section",children:[x.jsxs("header",{className:"skills-header-top",children:[x.jsxs("h1",{className:"section-title",style:{marginBottom:8},children:["Skills",o&&x.jsx("span",{style:{opacity:.55},children:` (${o})`})]}),x.jsx("p",{className:"section-subtitle",style:{marginBottom:0},children:l.isLoadingSkills?"Loading skills":`Browse the skill library${l.activeFilters.length?` (${l.activeFilters.join(", ")})`:""}.`})]}),x.jsxs("div",{className:"skills-container",children:[x.jsx(t7,{searchInputRef:n,query:l.query,hasQuery:l.hasQuery,sort:l.sort,dir:l.dir,view:l.view,highlightedOnly:l.highlightedOnly,nonSuspiciousOnly:l.nonSuspiciousOnly,onQueryChange:l.onQueryChange,onToggleHighlighted:l.onToggleHighlighted,onToggleNonSuspicious:l.onToggleNonSuspicious,onSortChange:l.onSortChange,onToggleDir:l.onToggleDir,onToggleView:l.onToggleView}),x.jsx(e7,{isLoadingSkills:l.isLoadingSkills,sorted:l.sorted,view:l.view,paginationStatus:l.paginationStatus,hasQuery:l.hasQuery,canLoadMore:l.canLoadMore,isLoadingMore:l.isLoadingMore,canAutoLoad:l.canAutoLoad,loadMoreRef:l.loadMoreRef,loadMore:l.loadMore})]})]})}const i7=()=>pr(()=>import("./_handle-SOt7rDS3.js"),[]),s7=Gt("/u/$handle")({component:hr(i7,"component")}),o7="ClawHub  a fast skill registry for agents, with vector search.",a7="SoulHub  the home for SOUL.md bundles and personal system lore.",l7="5",c7="1";function bM(){return tv()}function u7(){return oC()}function wM(){return"https://wry-manatee-359.convex.site".trim()||bM()}async function f7(e){try{const t=wM(),n=new URL(`/api/v1/skills/${encodeURIComponent(e)}`,t),i=await fetch(n.toString(),{headers:{Accept:"application/json"}});if(!i.ok)return null;const o=await i.json();return{displayName:o.skill?.displayName??null,summary:o.skill?.summary??null,owner:o.owner?.handle??null,ownerId:o.owner?.userId??null,version:o.latestVersion?.version??null}}catch{return null}}async function d7(e){try{const t=wM(),n=new URL(`/api/v1/souls/${encodeURIComponent(e)}`,t),i=await fetch(n.toString(),{headers:{Accept:"application/json"}});if(!i.ok)return null;const o=await i.json();return{displayName:o.soul?.displayName??null,summary:o.soul?.summary??null,owner:o.owner?.handle??null,version:o.latestVersion?.version??null}}catch{return null}}function h7(e){const t=bM(),n=cr(e.owner),i=cr(e.ownerId),o=cr(e.displayName)||cr(e.slug),l=cr(e.summary),u=cr(e.version),f=`${o}  ClawHub`,d=l||(n?`Agent skill by @${n} on ClawHub.`:o7),g=`${t}/${n||i||"unknown"}/${e.slug}`,y=new URLSearchParams;return y.set("v",l7),y.set("slug",e.slug),n&&y.set("owner",n),u&&y.set("version",u),{title:f,description:SM(d,200),image:`${t}/og/skill.png?${y.toString()}`,url:g,owner:n||null}}function p7(e){const t=u7(),n=cr(e.owner),i=cr(e.displayName)||cr(e.slug),o=cr(e.summary),l=cr(e.version),u=`${i}  SoulHub`,f=o||(n?`Soul by @${n} on SoulHub.`:a7),d=`${t}/souls/${e.slug}`,p=new URLSearchParams;return p.set("v",c7),p.set("slug",e.slug),n&&p.set("owner",n),l&&p.set("version",l),{title:u,description:SM(f,200),image:`${t}/og/soul.png?${p.toString()}`,url:d,owner:n||null}}function cr(e){return e?.trim()??""}function SM(e,t){return e.length<=t?e:`${e.slice(0,t-1).trim()}`}const m7=()=>pr(()=>import("./_slug-Dd-fYBPb.js"),__vite__mapDeps([4,2,5,6])),g7=Gt("/souls/$slug")({loader:async({params:e})=>{const t=await d7(e.slug);return{owner:t?.owner??null,displayName:t?.displayName??null,summary:t?.summary??null,version:t?.version??null}},head:({params:e,loaderData:t})=>{const n=p7({slug:e.slug,owner:t?.owner??null,displayName:t?.displayName,summary:t?.summary,version:t?.version??null});return{links:[{rel:"canonical",href:n.url}],meta:[{title:n.title},{name:"description",content:n.description},{property:"og:title",content:n.title},{property:"og:description",content:n.description},{property:"og:type",content:"website"},{property:"og:url",content:n.url},{property:"og:image",content:n.image},{property:"og:image:width",content:"1200"},{property:"og:image:height",content:"630"},{property:"og:image:alt",content:n.title},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:n.title},{name:"twitter:description",content:n.description},{name:"twitter:image",content:n.image},{name:"twitter:image:alt",content:n.title}]}},component:hr(m7,"component")}),y7=()=>pr(()=>import("./auth-DF2emM-v.js"),[]),v7=Gt("/cli/auth")({component:hr(y7,"component")}),b7=()=>pr(()=>import("./_slug-9Wc7P_7z.js"),__vite__mapDeps([7,5])),w7=Gt("/$owner/$slug")({loader:async({params:e})=>{const t=await f7(e.slug);return{owner:t?.owner??e.owner,displayName:t?.displayName??null,summary:t?.summary??null,version:t?.version??null}},head:({params:e,loaderData:t})=>{const n=h7({slug:e.slug,owner:t?.owner??e.owner,displayName:t?.displayName,summary:t?.summary,version:t?.version??null});return{links:[{rel:"canonical",href:n.url}],meta:[{title:n.title},{name:"description",content:n.description},{property:"og:title",content:n.title},{property:"og:description",content:n.description},{property:"og:type",content:"website"},{property:"og:url",content:n.url},{property:"og:image",content:n.image},{property:"og:image:width",content:"1200"},{property:"og:image:height",content:"630"},{property:"og:image:alt",content:n.title},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:n.title},{name:"twitter:description",content:n.description},{name:"twitter:image",content:n.image},{name:"twitter:image:alt",content:n.title}]}},component:hr(b7,"component")}),S7=A9.update({id:"/upload",path:"/upload",getParentRoute:()=>nn}),x7=_9.update({id:"/stars",path:"/stars",getParentRoute:()=>nn}),E7=M9.update({id:"/settings",path:"/settings",getParentRoute:()=>nn}),R7=N9.update({id:"/search",path:"/search",getParentRoute:()=>nn}),A7=$9.update({id:"/management",path:"/management",getParentRoute:()=>nn}),C7=D9.update({id:"/import",path:"/import",getParentRoute:()=>nn}),T7=j9.update({id:"/dashboard",path:"/dashboard",getParentRoute:()=>nn}),_7=P9.update({id:"/admin",path:"/admin",getParentRoute:()=>nn}),O7=z9.update({id:"/",path:"/",getParentRoute:()=>nn}),M7=V9.update({id:"/souls/",path:"/souls/",getParentRoute:()=>nn}),N7=Dy.update({id:"/skills/",path:"/skills/",getParentRoute:()=>nn}),k7=s7.update({id:"/u/$handle",path:"/u/$handle",getParentRoute:()=>nn}),$7=g7.update({id:"/souls/$slug",path:"/souls/$slug",getParentRoute:()=>nn}),L7=v7.update({id:"/cli/auth",path:"/cli/auth",getParentRoute:()=>nn}),D7=w7.update({id:"/$owner/$slug",path:"/$owner/$slug",getParentRoute:()=>nn}),I7={IndexRoute:O7,AdminRoute:_7,DashboardRoute:T7,ImportRoute:C7,ManagementRoute:A7,SearchRoute:R7,SettingsRoute:E7,StarsRoute:x7,UploadRoute:S7,OwnerSlugRoute:D7,CliAuthRoute:L7,SoulsSlugRoute:$7,UHandleRoute:k7,SkillsIndexRoute:N7,SoulsIndexRoute:M7},j7=nn._addFileChildren(I7),P7=()=>LI({routeTree:j7,context:{},scrollRestoration:!0,defaultPreloadStaleTime:0});async function q7(){const e=await P7();let t;return t=[],window.__TSS_START_OPTIONS__={serializationAdapters:t},t.push(aj),e.options.serializationAdapters&&t.push(...e.options.serializationAdapters),e.update({basepath:"",serializationAdapters:t}),e.state.matches.length||await VI(e),e}async function z7(){const e=await q7();return window.$_TSR?.h(),e}let Hg;function U7(){return Hg||(Hg=z7()),x.jsx(WD,{promise:Hg,children:e=>x.jsx(jI,{router:e})})}R.startTransition(()=>{Yk.hydrateRoot(document,x.jsx(R.StrictMode,{children:x.jsx(U7,{})}))});export{Oq as A,tv as B,vM as C,G7 as D,w7 as E,Mg as F,Rq as G,Iy as H,bt as L,lC as P,$9 as R,G9 as S,_R as U,Ke as W,pr as _,er as a,WA as b,ev as c,H7 as d,J9 as e,Fl as f,Xq as g,Z9 as h,cC as i,x as j,W9 as k,OR as l,ny as m,cd as n,ic as o,ya as p,z9 as q,R as r,Y9 as s,V9 as t,Lf as u,s7 as v,g7 as w,Y7 as x,vq as y,v7 as z};
